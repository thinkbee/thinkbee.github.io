<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Blogging through Programming</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="thinkbee blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="thinkbee blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Blogging through Programming"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Blogging through Programming"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Blogging through Programming","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"John Doe"},"publisher":{"@type":"Organization","name":"Blogging through Programming","logo":{"@type":"ImageObject","url":"http://example.com/images/thinkbee_logo.png"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-1465716454138955" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 6.0.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/thinkbee_logo.png" alt="Blogging through Programming" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-08-31T16:00:00.000Z" title="2017-9-1 1:00:00">2017-09-01</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:14:19.348Z" title="2022-2-25 1:14:19">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a></span><span class="level-item">9분안에 읽기 (약 1296 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/09/01/nodejs-2017-09-01-typescript-1quickstart/">Typescript / 5min in Typescript</a></h1><div class="content"><p>자바스크립트 개발자 또는 경험자를 위한 typescriptlang.org 의 Tutorials 를 정리했다.</p>
<ul>
<li>5분에 끝내는 TypeScript</li>
<li><a href="!--swig%EF%BF%BC13--">Gulp</a></li>
<li>Migrating from Javascript</li>
<li>React &amp; Webpack</li>
</ul>
<h2 id="5분에-끝내는-TypeScript"><a href="#5분에-끝내는-TypeScript" class="headerlink" title="5분에 끝내는 TypeScript"></a>5분에 끝내는 TypeScript</h2><p>자바스크립트 개발자 또는 경험자가 알아야할 내용을 정리한 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">TypeScript in 5min</a>을 정리했다.</p>
<h3 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h3><p>TypeScript는 Node.js를 사용하며, npm으로 typescript 지원 도구를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure>

<p>개발자용 nightly build도 설치 할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript@next</span><br></pre></td></tr></table></figure>

<h4 id="tsc-컴파일러"><a href="#tsc-컴파일러" class="headerlink" title="tsc 컴파일러"></a>tsc 컴파일러</h4><p>TypeScript 소스를 <code>tsc</code> 컴파일러로 컴파일하고, 결과는 Javascript로 생성된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc -V</span><br><span class="line">Version 2.5.2</span><br></pre></td></tr></table></figure>

<p>최신버전 갱신은 <a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/typescript/">Typscript blog</a> 를 참조한다.</p>
<h3 id="첫번째-TypeScript-파일"><a href="#첫번째-TypeScript-파일" class="headerlink" title="첫번째 TypeScript 파일"></a>첫번째 TypeScript 파일</h3><p>보통 Typescript 소스 확장자는 <strong>.ts</strong> 로 저장하고 <code>tsc</code> 컴파일러로 컴파일한다. <strong>.ts</strong> 파일을 컴파일 하면 <strong>.js</strong> 자바스크립트 소스파일이 생성된다.</p>
<p>예를 들어 아래 자바스크립트로 구성된 코드를 <strong>greeter.ts</strong> 파일에 입력한다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = <span class="string">&quot;Jone James&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>


<p>그리고 컴파일 하면 자바스크립트 소스 <strong>greeter.js</strong> 가 생성된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tsc greeter.ts</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>greeter.ts</strong> 소스와 컴파일 결과 <strong>greeter.js</strong> 소스는 일치한다.</p>
</blockquote>
<h3 id="Type-annotations"><a href="#Type-annotations" class="headerlink" title="Type annotations"></a>Type annotations</h3><p>TypeScript에서 형(Types) 표기는 함수 혹은 변수에 의미를 부여하기 위한 방법으로, 아래 코드의 greeter 함수에 전달하는 인자가 <code>string</code> 형 이라고 의도하기 위해서, 변수 다음 <code>:</code>으로 오른쪽에 형을 지정(annotation)해 선언한다 - 즉, 문자열로 전달할 거야 하는 의도를 선언한다고 이해하면 된다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = [<span class="string">&#x27;My&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>이제 <code>tsc</code> 로 컴파일을 실행하면 아래 같이 형 지정 에러를 표시한다. 비슷하게 <code>greeter()</code> 함수의 매개변수를 모두 지우고 컴파일해도 비슷한 결과를 보여준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc greeter.ts</span><br><span class="line">greeter_2.ts(7,9): error TS2345: Argument of <span class="built_in">type</span> <span class="string">&#x27;(string | number)[]&#x27;</span> is not assignable to parameter of <span class="built_in">type</span> <span class="string">&#x27;string&#x27;</span>.</span><br></pre></td></tr></table></figure>

<p>Typescript의 형 지정은 코드와 주어진 형 지정자를 기반으로 정적 분석을 제공한다.</p>
<p>이렇게 컴파일 에러는 발생하지만 <strong>.js</strong> 자바스크립트는 생성되는 것을 확인 할 수 있다. 코드에 에러가 있어도 TypeScript을 사용할 수 있다, 다만 <em>원래 의도데로 실행되지는 않는다</em>는 것을 경고해 준다.</p>
<h3 id="Interfaces"><a href="#Interfaces" class="headerlink" title="Interfaces"></a>Interfaces</h3><p>추상화를 위해 <strong>interface</strong> 를 사용해서 속성을 가진 개체를 선언 할 수 있다. </p>
<p>아래 Person 인터페이스는 <code>firstName</code>, <code>lastName</code> 속성으로 선언하고 있다. TypeScript에서는 <strong>내부 구조가 호환하면 두 객체는 호횐 된다</strong>고 한다. 이것은 명시적으로 <code>implements</code> 절을 사용하지 않고도 인터페이스가 요구하는 형태를 가지면 인터페이스에 동일하게 구현이 가능하다고 한다. 이제 greeter 함수를 인터페이스 Person 형으로 다음 같이 선언할 수 있다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person: Person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + person.<span class="property">lastName</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = &#123; <span class="attr">firstName</span>: <span class="string">&quot;Jane&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;User&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>이 소스를 <code>tsc</code> 로 컴파일 해도 형이 일치한다고 판단해서 경고가 없고 결과 자바스크립트를 HTML로 코딩해서 결과를 확인해 보자,</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>TypeScript Greeter<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;greeter_3interface.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h3><p>자바스크립에는 없는 클래스 기반의 객체지향 프로그래밍을 지원한다. <strong>class</strong> 키워드로 선언하고 속성과 메서드를 가진다. 또한 생성자 <code>constructor()</code> 에 <code>public</code> 접근제한자를 지정해서 추상화 단계를 결정하게 하고, 생성자의 public 지정자는 해당 이름으로 자동으로 속성을 생성하게 해준다. 이것은 클래스가 인터페이스와 잘 결합되게 해준다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="attr">fullName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"> <span class="keyword">public</span> firstName: <span class="built_in">string</span>, <span class="keyword">public</span> middleInitial: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">     <span class="keyword">public</span> lastName: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">fullName</span> = firstName + <span class="string">&quot; &quot;</span> + middleInitial + <span class="string">&quot; &quot;</span> + lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person : Person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + person.<span class="property">lastName</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Jane&quot;</span>, <span class="string">&quot;M.&quot;</span>, <span class="string">&quot;User&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>Person 인터페이스를 요구받는 <code>greeter()</code>에 Student class의 생성자에 호혼한다. 그래서 <code>tsc</code>로 컴파일해도 아무 문제 없다.</p>
<p>다만, 클래스의 생성자 매개변수가 인자 수, 형 같이 다르면 다음 같이 에러를 발생한다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greeter_4classes.<span class="title function_">ts</span>(<span class="number">18</span>,<span class="number">12</span>): error <span class="title class_">TS2554</span>: <span class="title class_">Expected</span> <span class="number">3</span> <span class="variable language_">arguments</span>, but got <span class="number">2.</span></span><br></pre></td></tr></table></figure>


<p>컴파일한 자바스크립은 HTML에서 실행할 수 있다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>TypeScript Greeter<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;greeter.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>실제 실행하면 Person 객체는 세번째 매개변수가 없기 때문에 <em>undefined</em> 로 나타난다.</p>
<blockquote>
<p>Hello, Jane undefined</p>
</blockquote>
<p>TypeScript에서 클래스 기반의 코드를 컴파일해서 자바스크립트 생성된 결과를 보면, 클래스는 자바스크립트의 프로토타입 기반의 객체지향 방법의 축약형이다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Student</span> = <span class="comment">/** <span class="doctag">@class</span> */</span> (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">firstName, middleInitial, lastName</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">firstName</span> = firstName;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">middleInitial</span> = middleInitial;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lastName</span> = lastName;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">fullName</span> = firstName + <span class="string">&quot; &quot;</span> + middleInitial + <span class="string">&quot; &quot;</span> + lastName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Student</span>;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">Typescript in 5 min</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-07-14T13:00:00.000Z" title="2017-7-14 22:00:00">2017-07-14</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:47:39.323Z" title="2022-2-25 1:47:39">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Raspberry-Pi/">Raspberry Pi</a><span> / </span><a class="link-muted" href="/categories/Raspberry-Pi/Linux/">Linux</a></span><span class="level-item">23분안에 읽기 (약 3496 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/07/14/raspberrypi-2018-07-13-opensuse-leap15-install/">Raspberry Pi 3 64bit OS openSUSE LEAP 15: Install</a></h1><div class="content"><blockquote>
<p>2017-10-30: swap 추가, timezone 수정<br>{:.right-history}</p>
</blockquote>
<p>Opensuse 에서 Raspberry Pi 3를 위한 64bit OS openSESE Leap 42.2 을 제공하고 있다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3">https://en.opensuse.org/HCL:Raspberry_Pi3</a></li>
</ul>
<p>이글은 5개 글타래로 구성되며, openSUSE 설치 및 사용에 대해 작성한다.</p>
<ol>
<li><strong>Install 64bit openSUSE Leap 42.2 &#x2F; JeOS</strong></li>
<li>openSUSE: Managing Service daemon</li>
<li>openSUSE: Basic OS Security for Server</li>
<li><a href="!--swig%EF%BF%BC38--">Install &amp; Configuration - Nginx, Node JS, Jupyter</a></li>
<li>openSUSE: Build MongoDB 3.4.x</li>
</ol>
<h2 id="Install-64bit-openSUSE-Leap-42-2-x2F-JeOS"><a href="#Install-64bit-openSUSE-Leap-42-2-x2F-JeOS" class="headerlink" title="Install 64bit openSUSE Leap 42.2 &#x2F; JeOS"></a>Install 64bit openSUSE Leap 42.2 &#x2F; JeOS</h2><p>openSUSE는 <strong>Raspberry Pi 3</strong>를 위한 Opensuse community edition은 정식 버전 <strong>Leap 42.2 image</strong>, 개발버전 <em>Tumbleweed image</em>, 커뮤니티버전 non-upstream openSUSE Tumbleweed image* 으로 구성되어 있다.</p>
<p>이들 버전은 용도에 따라 JeOS, E20, LXQT X11 이미지로 다운받을 수 있다.</p>
<ul>
<li><p>Just Enought Operating System (JeOS)</p>
<ul>
<li>jeOS 이미지는 기본 오에스만을 포함하고 있다.</li>
<li><a target="_blank" rel="noopener" href="https://www.suse.com/products/server/jeos/">https://www.suse.com/products/server/jeos/</a></li>
</ul>
</li>
<li><p>E20</p>
<ul>
<li>데스크탑 환경으로 Enlightenment 을 사용하 GUI 이미지</li>
</ul>
</li>
<li><p>LXQt</p>
<ul>
<li>LXDE-Qt 와 RazorQt 병합한 데스크탑 환경</li>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/LXQt">https://en.opensuse.org/LXQt</a></li>
</ul>
</li>
</ul>
<br>
### Download and Install

<p><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3">Download Page</a> 의 두번째 <em>Installing the 64-bit openSUSE Leap image</em> 단락에 있는 JeOS image 를 다운로드 한다.</p>
<h4 id="Writing-image-to-SD-Card"><a href="#Writing-image-to-SD-Card" class="headerlink" title="Writing image to SD Card"></a>Writing image to SD Card</h4><p><a target="_blank" rel="noopener" href="http://etcher.io/">Etcher</a> 등을 이용해서 다운받은 이미지 파일을 SD Card에 쓴다.</p>
<p><img src="/images/opensuse/etcher-image-writing.png">{:width&#x3D;”640”}</p>
<h5 id="dd-를-사용한다면"><a href="#dd-를-사용한다면" class="headerlink" title="dd 를 사용한다면,"></a><code>dd</code> 를 사용한다면,</h5><p>다운받은 <code>.xz</code> 파일을 <code>dd</code> 를 이용해서 SD Card에 쓴다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xzcat openSUSE-Leap42.2-ARM-JeOS-raspberrypi3.aarch64.raw.xz | sudo dd of=/dev/rdisk1 bs=4m; sync</span><br></pre></td></tr></table></figure>

<br>
#### Serial console

<p>여기서는 <strong>Serial console</strong>에서 네트워크 확인 및 초기 설정을 하고 <strong>ssh</strong> 로 서버에 로그인해서 시스템 구성을 진행한다.</p>
<blockquote>
<p>SD Card를 라즈베리파이에 꽃고 HDMI, Keyboard 및 Mouse 가 별도로 준비되어 있으면 직접 모니터를 보고 작업을 진행하면 좋다.</p>
</blockquote>
<p>USB to Serial 케이블을 사용해서 Raspberry Pi의 Serial Console에 연결한다.</p>
<p><img src="/images/raspberrypi/rpi-usb-serial.png">{:width&#x3D;”640”}</p>
<p>그리고 시리얼 포트를 통해 tty 연결을 위해 터미널 프로그램에서 baud rate 115200 으로 연결한다. 아래는 macOS의 <code>screen</code> CLI 명령으로 usb serial 포트에 연결하고 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen /dev/cu.usbserial 115200</span><br></pre></td></tr></table></figure>

<p>이제 SD Card를 넣고 부팅을 하면, 터미널에 부트 단계가 진행되고 처음 5분 정도 소요된다.</p>
<p><img src="/images/opensuse/opensuse-boot33.png">{:width&#x3D;”640”}</p>
<p>Raspberry Pi를 위한 이미지는 처음 계정은 <code>root/linux</code> 이다.</p>
<p>터미널에서 uname 은 <strong>aarch64</strong> 임을 확인 할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root<span class="comment"># uname -a</span></span><br><span class="line">Linux homepi 4.4.90-18.32-default <span class="comment">#1 SMP Fri Oct 6 13:30:08 UTC 2017 (465b410) aarch64 aarch64 aarch64 GNU/Linux</span></span><br></pre></td></tr></table></figure>

<p>처음으로 라즈베리파이에서 64bit 환경으로 운영해 볼 수 있게 됐다.</p>
<br>
<br>
### 설치 후 서버 구성을 위해 할 일

<p>JeOS를 서버로 구성하기 위해서 다음 같은 작업을 수행해 준다.</p>
<ul>
<li>root 패스워드 변경</li>
<li>sudoer 사용자 생성</li>
<li>DHCP를 고정 IP로 변경</li>
</ul>
<h4 id="root-패스워드"><a href="#root-패스워드" class="headerlink" title="root 패스워드"></a>root 패스워드</h4><p>root 사용자의 패스워드를 변경한다.</p>
<p><img src="/images/opensuse/opensuse-root-passwd.png">{:width&#x3D;”640”}</p>
<h4 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h4><p>Ubuntu&#x2F;Debian 계열의 패키지 명령 <code>apt</code>,<code>apt-get</code> 과 비슷한 openSUSE 명령라인 패키지 관리자는 <strong>zypper</strong> 가 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">zypper <span class="built_in">help</span> search     <span class="comment"># to print help for the search command</span></span><br><span class="line">zypper refresh, ref    <span class="comment"># Refresh all repositories.</span></span><br><span class="line">zypper update,  up     <span class="comment"># to update all installed packages</span></span><br><span class="line">zypper lp              <span class="comment"># to see what patch updates are needed</span></span><br><span class="line">zypper patch           <span class="comment"># to apply the needed patches</span></span><br><span class="line">zypper se sqlite       <span class="comment"># to search for sqlite</span></span><br><span class="line">zypper <span class="built_in">rm</span> sqlite2      <span class="comment"># to remove sqlite2</span></span><br><span class="line">zypper <span class="keyword">in</span> sqlite3      <span class="comment"># to install sqlite3</span></span><br><span class="line">zypper <span class="keyword">in</span> yast*        <span class="comment"># to install all packages matching &#x27;yast*&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:Zypper_usage">zypper usages</a> 에서 사용방법을 자세히 알 수 있다.</li>
</ul>
<p>머저 최신 소프트웨어 목록으로 업데이트 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zypper refresh</span><br><span class="line">zypper ref</span><br></pre></td></tr></table></figure>

<p>그리고 최근 업그레이드된 필요한 패키지를 다운로드하고 설치한다.[^1]</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zypper update</span><br><span class="line">zypper up</span><br></pre></td></tr></table></figure>

<blockquote>
<p>지원중단된 패키지, 나뉘어진 패키지 등의 의존성을 고려한 업그레이드를 하려면 <code>dup</code> 명령을 사용한다.&gt;</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zypper dup             <span class="comment"># distribution upgrade</span></span><br><span class="line">zypper dist-upgrade</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="upgrade-후에"><a href="#upgrade-후에" class="headerlink" title="upgrade 후에"></a>upgrade 후에</h5><p>실행중인 데몬을 재시작해줄 필요가 있는데 <code>zypper ps -s</code> 를 실행하면 목록을 표시해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">pi64:/home/ # zypper ps -s</span><br><span class="line">The following running processes use deleted files:</span><br><span class="line"></span><br><span class="line">PID   | PPID  | UID  | User       | Command                    | Service</span><br><span class="line">------+-------+------+------------+----------------------------+-------------------</span><br><span class="line">307   | 1     | 0    | root       | systemd-journald (deleted) | systemd-journald</span><br><span class="line">484   | 1     | 0    | root       | auditd                     | auditd</span><br><span class="line">502   | 1     | 1000 | qkboo      | python3                    | jupyter</span><br><span class="line">513   | 1     | 499  | messagebus | dbus-daemon (deleted)      | dbus</span><br><span class="line">525   | 1     | 0    | root       | systemd-logind (deleted)   | systemd-logind</span><br><span class="line">529   | 1     | 0    | root       | agetty (deleted)           | getty@tty1</span><br><span class="line">996   | 1     | 0    | root       | cupsd                      | cups</span><br><span class="line">1018  | 1     | 0    | root       | cron                       | cron</span><br><span class="line">1043  | 1     | 74   | ntp        | ntpd                       | ntpd</span><br><span class="line">1047  | 1043  | 74   | ntp        | ntpd                       | ntpd</span><br><span class="line">1145  | 1     | 0    | root       | python2.7                  | fail2ban</span><br><span class="line">1146  | 1     | 1000 | qkboo      | node                       | pm2-qkboo</span><br><span class="line">2131  | 1     | 0    | root       | agetty (deleted)           | serial-getty@ttyS0</span><br><span class="line">5716  | 1146  | 1000 | qkboo      | node                       | pm2-qkboo</span><br><span class="line">5749  | 1146  | 1000 | qkboo      | node                       | pm2-qkboo</span><br><span class="line">12400 | 1     | 0    | root       | sshd (deleted)             |</span><br><span class="line">12402 | 1     | 1000 | qkboo      | systemd (deleted)          |</span><br><span class="line">12405 | 0     | 1000 | qkboo      | systemd (deleted)          |</span><br><span class="line">12411 | 12400 | 1000 | qkboo      | sshd (deleted)             |</span><br><span class="line">12412 | 12411 | 1000 | qkboo      | bash                       |</span><br><span class="line">12783 | 12412 | 0    | root       | sudo                       |</span><br><span class="line">12784 | 12783 | 0    | root       | bash                       |</span><br><span class="line">12876 | 1     | 0    | root       | nginx                      | nginx</span><br><span class="line">12879 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">12880 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">12881 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">12882 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">15908 | 502   | 1000 | qkboo      | node                       | jupyter</span><br><span class="line">15916 | 15908 | 1000 | qkboo      | node                       | jupyter</span><br><span class="line">26929 | 502   | 1000 | qkboo      | node                       | jupyter</span><br></pre></td></tr></table></figure>

<h4 id="ip-주소-확인"><a href="#ip-주소-확인" class="headerlink" title="ip 주소 확인"></a>ip 주소 확인</h4><p>ifconfig 명령으로 현재 IP Address를 확인하고 이 IP Address에 <code>ssh</code> 를 사용해 접속한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">linux:~ <span class="comment"># ifconfig</span></span><br><span class="line">eth0      Link encap:Ethernet  HWaddr B9:40:EB:BA:10:02</span><br><span class="line">          inet addr:192.168.1.104  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line">          inet6 addr: fe90::ba37:ebff:feba:1012/64 Scope:Link</span><br><span class="line">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span><br><span class="line">          RX packets:83136 errors:0 dropped:0 overruns:0 frame:0</span><br><span class="line">          TX packets:27300 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">          collisions:0 txqueuelen:1000</span><br><span class="line">          RX bytes:120797947 (115.2 Mb)  TX bytes:2369690 (2.2 Mb)</span><br><span class="line">linux:~ <span class="comment">#</span></span><br><span class="line">linux:~ <span class="comment"># shutdown now</span></span><br></pre></td></tr></table></figure>

<p>좀더 편리한 사용을 위해 <code>ifconfig</code> 명령으로 찾은 IP address에 ssh 로그인을 해서 작업을 진행한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@192.168.1.104</span><br></pre></td></tr></table></figure>

<br>
<br>
### 시스템 설정

<p>이제 sudoer 사용자로 시스템을 서버에 적합하게 구성해 보자.</p>
<ul>
<li>sudoer 추가</li>
<li>yast 소개</li>
<li>timezone</li>
<li>Network 구성: 호스트 이름, IP 주소</li>
<li>swap 개선</li>
<li>yast로 사용자 추가</li>
</ul>
<h4 id="sudoer"><a href="#sudoer" class="headerlink" title="sudoer"></a>sudoer</h4><p><strong>root</strong> 사용자가 아닌 일반사용자를 <code>sudoer</code>로 등록해 관리자 기능을 대행 할 수 있다. 그러기 위해서 먼저 사용자를 추가한다. openSUSE <code>yast</code>라는 시스템 도구로 할 수 있지만 여기선 <code>useradd</code> 명령을 사용해서 사용자 추가한다. <code>useradd</code>에 대해서는 <a target="_blank" rel="noopener" href="http://www.tecmint.com/add-users-in-linux/">useradd 명령</a>을 참조한다.</p>
<p><code>useradd</code> 는 홈 디렉토리, 쉘 등에 대한 옵션을 주고 사용자를 등록한다.</p>
<ul>
<li>추가한 사용자를 &#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group and &#x2F;etc&#x2F;gshadow 추가</li>
<li>그리고 <code>-m</code> 옵션으로 으로 사용자 홈 디렉토리 까지 생성한다.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root<span class="comment">#  useradd -m foo</span></span><br></pre></td></tr></table></figure>

<p>그리고 패스워드를 등록한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root<span class="comment"># passwd foo</span></span><br><span class="line">New password:</span><br><span class="line">Retype new password:</span><br><span class="line">passwd: password updated successfully</span><br></pre></td></tr></table></figure>

<h4 id="sudoer-등록"><a href="#sudoer-등록" class="headerlink" title="sudoer 등록"></a>sudoer 등록</h4><p><code>visudo</code> 명령으로 <em>&#x2F;etc&#x2F;sudoers</em> 파일을 편집한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo visudo</span><br></pre></td></tr></table></figure>

<p><em>sudoer</em> 파일에 있는 <em>User privilege</em> 항목 아래에 새로운 사용자 foo를 아래 같이 등록한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># User privilege specification</span><br><span class="line">root  ALL=(ALL) ALL</span><br><span class="line">foo  ALL=(ALL) ALL</span><br></pre></td></tr></table></figure>

<p>이제 root에서 로그아웃하고 새로 추가한 사용자로 로그인한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ssh foo@192.168.1.104</span><br><span class="line">Password:</span><br><span class="line">Have a lot of fun...</span><br><span class="line">foo@linux:~&gt;</span><br></pre></td></tr></table></figure>

<p>openSUSE는 관리자용 명령을 직접 내리면 찾지 못한다고 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo@linux:~&gt; yast2 timezone</span><br><span class="line">-bash: yast2: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>

<p>그리고 처음으로 sudoer 사용자가 관리자 권한이 필요한 명령을 사용하기 위해 <code>sudu</code> 로 명령을 내리면 아래 같은 경고가 나온다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">foo@linux:~&gt; sudo /sbin/yast2 timezone</span><br><span class="line"></span><br><span class="line">We trust you have received the usual lecture from the <span class="built_in">local</span> System</span><br><span class="line">Administrator. It usually boils down to these three things:</span><br><span class="line"></span><br><span class="line">    <span class="comment">#1) Respect the privacy of others.</span></span><br><span class="line">    <span class="comment">#2) Think before you type.</span></span><br><span class="line">    <span class="comment">#3) With great power comes great responsibility.</span></span><br></pre></td></tr></table></figure>

<p>openSUSE는 시스템 관리 도구로 <code>yast</code> 를 사용해서 소프트웨어 설치, 네트워크 구성, 시간 관리, 보안 및 사용자 등을 다루는 소프트웨어로 GUI와 CLI 모두 사용할 수 있다.</p>
<p>시스템 네트워크를 구성하기 위해서 <code>yast</code> 명령을 사용해보자,</p>
<h4 id="yast"><a href="#yast" class="headerlink" title="yast"></a>yast</h4><p>yast는 GUI 혹은 ClI에서 사용이 가능하다 . 다음은 <code>sudo yast</code> 를 실행하면 Ncurse 로 표시되는 yast 화면이다.</p>
<p><img src="/images/opensuse/yast-cli-ui.png">{:width&#x3D;”640”}</p>
<p>TAB 키로 각 항목을 이동할 수 있고, Enter로 실행한다. 전체 화면에서 F9는 Cancel, F10은 OK 기능을 수행한다.</p>
<h4 id="Timezone"><a href="#Timezone" class="headerlink" title="Timezone"></a>Timezone</h4><p>처음 설치후 <em>CET</em> 시간대로 되어 있어서 Asia&#x2F;Seoul로 변경하고자 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linux:~ <span class="comment"># date</span></span><br><span class="line">Sun Oct 29 09:19:31 CET 2017</span><br></pre></td></tr></table></figure>

<p>시스템 시간대를 설정하려면 <code>yast</code> 를 시작해 <em>System -&gt; Date and Time</em> 을 실행해 시간대를 지정한다. 혹은 <code>yast timezone</code> 모듈 명령을 주면 해당 Date and Time 화면으로 이동할 수 있다.</p>
<p><img src="/images/opensuse/yast-date_time.png">{:width&#x3D;”640”}</p>
<p>시간대를 변경후 확인해 보면,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linux:~ # date</span><br><span class="line">Sun Oct 29 17:22:11 KST 2017</span><br></pre></td></tr></table></figure>

<p>ntp로 동기화하려면 <em>Other Settings…</em> 항목을 선택해 <em>ntp server</em> 를 설치하고 활성화 한다.</p>
<p><img src="/images/opensuse/yast-date_time-ntp1.png">{:width&#x3D;”640”}<br><img src="/images/opensuse/yast-date_time-ntp2.png">{:width&#x3D;”640”}</p>
<!--
참고로 ClI로 `yast` 명령을 사용할 수 있다. 예를 들어 timezone 사용 가능한 시간대는

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yast2 timezone list</span><br></pre></td></tr></table></figure>

<p>해당 하는 시간대 문자열을 이용해 시간대를 지정한다.</p>
<blockquote>
<p>sudo yast2 timezone set timezone&#x3D;[TIMEZONE]</p>
</blockquote>
<p>우리나라 시간대 ‘Asia&#x2F;Seoul (Seoul)’는 이렇게 지정할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo yast2 timezone <span class="built_in">set</span> timezone=<span class="string">&#x27;Asia/Seoul (Seoul)&#x27;</span></span><br></pre></td></tr></table></figure>
<p>–&gt;</p>
<h4 id="yast로-네트워크-설정하기"><a href="#yast로-네트워크-설정하기" class="headerlink" title="yast로 네트워크 설정하기"></a>yast로 네트워크 설정하기</h4><p>시스템 네트워크 구성을 설정하려면 <code>yast</code> 에서 <em>System -&gt; Network Settings</em> 을 실행한다.</p>
<p><img src="/images/opensuse/yast-network1.png">{:width&#x3D;”640”}</p>
<p>네트워크 구성 상태를 가져오는 시간이 걸린다.</p>
<p><img src="/images/opensuse/yast-network2.png">{:width&#x3D;”640”}</p>
<p>네트워크 구성을 시작한다. TAB으로 <code>Edit</code> 를 선택하고,</p>
<p><img src="/images/opensuse/yast-network-settings.png">{:width&#x3D;”640”}</p>
<p><em>Statically Assigned IP Address</em>를 선택하고, 아래 IP Address, Subnet Mask, Hostname 을 입력한다.</p>
<p><img src="/images/opensuse/yast-network-ip-address.png">{:width&#x3D;”640”}</p>
<p>TAB으로 이동해 <strong>Next</strong> 버튼을 누른다. 그리고 TAB으로 <strong>Hostname&#x2F;DNS</strong> 탭 으로 이동해서 Name Server를 입력한다. 보통 DHCP를 지원하는 공유기&#x2F;라우터에서 DNS server 역할을 하므로 게이트웨이 IP를 입력해도 무방하다.</p>
<p><img src="/images/opensuse/yast-network-host.png">{:width&#x3D;”640”}</p>
<p>마지막으로 <strong>Routing</strong> 탭을 이동해 Gateway를 입력해 준다.</p>
<p><img src="/images/opensuse/yast-network-gw.png">{:width&#x3D;”640”}</p>
<p>완료됐으면 <em>F10</em> 혹은 TAB으로 <strong>OK 버튼</strong>으로 이동해 설정한 내용을 저장한다. 이로서 수동 IP 주소 입력을 마친다.</p>
<p><code>yast</code> ClI 명령으로 Host 이름을 변경할 수 있다.</p>
<blockquote>
<p>yast dns edit hostname&#x3D;HOSTNAME</p>
</blockquote>
<p>또한 <code>yast</code> ClI 명령으로 소프트웨어 패키지를 설치 할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yast -i &lt;package_name&gt;</span><br><span class="line">sudo yast --install &lt;package_name&gt;</span><br></pre></td></tr></table></figure>

<h4 id="swap-개선"><a href="#swap-개선" class="headerlink" title="swap 개선"></a>swap 개선</h4><p>JeOS는 별도의 파티션에 swap을 가지고 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo swapon -s</span><br><span class="line">Filename        Type    Size  Used  Priority</span><br><span class="line">/dev/mmcblk0p3                          partition 497384  1816  -1</span><br></pre></td></tr></table></figure>

<p>별도의 swap 을 1GB 크기 Swap file로 추가하려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=/dev/zero of=/var/swapfile1G bs=1G count=1</span><br><span class="line">$ sudo chmod 600 /var/swapfile1G</span><br><span class="line">$ sudo mkswap /var/swapfile1G</span><br><span class="line">Setting up swapspace version 1, size = 1024 MiB (1073737728 bytes)</span><br><span class="line">no label, UUID=3b192470-5297-42ef-a033-b19b0de03590</span><br><span class="line"></span><br><span class="line">$ sudo swapon /var/swapfile1G</span><br><span class="line">$ sudo swapon -s</span><br></pre></td></tr></table></figure>

<p><code>mkswap</code> 명령 결과에 있는 <em>UUID&#x3D;…</em> 부분을 복사해 &#x2F;etc&#x2F;fstab 에 종속적으로 등록해 주면 재시동 후에도 사용 가능하다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UUID=3b192470-5297-42ef-a033-b19b0de03590 swap swap defaults 0 0</span><br></pre></td></tr></table></figure>

<h4 id="yast-사용자-추가"><a href="#yast-사용자-추가" class="headerlink" title="yast 사용자 추가"></a>yast 사용자 추가</h4><p>앞에서 <code>adduser</code> 명령으로 사용자를 추가했는데 openSUSE에서는 <code>yast</code>에서 사용할 수 있다. <code>yast</code> 를 시작해서 사용자 관리로 가거나, 아래 같이 바로 사용자 관리 화면으로 시작할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yast2 <span class="built_in">users</span></span><br></pre></td></tr></table></figure>

<p>yast 화면에서 사용자 관리 화면,</p>
<p><img src="/images/opensuse/yast-user.png">{:width&#x3D;”650”}</p>
<p>다음 서버로 운영을 위해서 openSUSE에서 sshd 보안 강화, 방화벽, 필터링 등의 기본적인 보안 작업을 진행한다. <em>다음 openSUSE: Basic Security for Server</em></p>
<h4 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h4><p>rpi3 가 1GB 메인메모리로 출시, raspbian 실제 메모리 정보는,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat /proc/meminfo</span><br><span class="line">MemTotal:         949572 kB</span><br><span class="line">MemFree:          386192 kB</span><br><span class="line">MemAvailable:     711148 kB</span><br></pre></td></tr></table></figure>

<p>rpi3에 openSUSE LEAP 42.2에서</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; cat /proc/meminfo</span><br><span class="line">MemTotal:         803988 kB</span><br><span class="line">MemFree:          661276 kB</span><br><span class="line">MemAvailable:     684504 kB</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://raspberrypi.stackexchange.com/questions/56266/raspberry-pi-3-has-less-than-1gb-memory-available-at-os-level">여기</a> 에 따르면 GPU 때문 인듯…</p>
<h3 id="tune2fs"><a href="#tune2fs" class="headerlink" title="tune2fs"></a>tune2fs</h3><p>fsck로 마지막 체크한 시간 확인은 <code>tune2fs</code> 명령을 이용</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$sudo tune2fs -l /dev/sdbX | grep Last\ c</span><br><span class="line">Last checked:             Sun Dec 13 09:14:22 2015</span><br></pre></td></tr></table></figure>

<h4 id="e2fsck-점검"><a href="#e2fsck-점검" class="headerlink" title="e2fsck 점검"></a>e2fsck 점검</h4><p>부팅시 e2fsck로 점검할 마운트 횟수가 설정되 있다. <code>-l</code> 옵션으로 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tune2fs -l /dev/sdbX | grep Mount</span><br><span class="line">Mount count:              157</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tune2fs -l /dev/sdbX | grep Max</span><br><span class="line">Maximum mount count:      -1</span><br></pre></td></tr></table></figure>

<p>이 마운트 회수를 지정할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tune2fs -c 10 /dev/sdb1</span><br></pre></td></tr></table></figure>

<h3 id="Upgrade-amp-Patch"><a href="#Upgrade-amp-Patch" class="headerlink" title="Upgrade &amp; Patch"></a>Upgrade &amp; Patch</h3><h4 id="보안-패치"><a href="#보안-패치" class="headerlink" title="보안 패치"></a>보안 패치</h4><p>openSUSE는 upgrade와 patch 를 분리해서 제공한다. 패치는 보안 사항에 관련한 것을 제공하고 있다. <code>lp</code> 로 다운로드 가능한 패치를 확인할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># zypper lp</span><br><span class="line">Retrieving repository &#x27;openSUSE-Leap-42.3-Update&#x27; metadata ..................[done]</span><br><span class="line">Building repository &#x27;openSUSE-Leap-42.3-Update&#x27; cache .......................[done]</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line"></span><br><span class="line">Repository                | Name               | Category    | Severity  | Interactive | Status | Summary</span><br><span class="line">--------------------------+--------------------+-------------+-----------+-------------+--------+-----------------------------------------------------------------------</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-1268 | security    | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-1425 | recommended | low       | ---         | needed | Recommended update for grub2</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-940  | security    | important | ---         | needed | Security update for subversion</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-118  | security    | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-234  | recommended | low       | ---         | needed | Recommended update for grub2</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-241  | recommended | moderate  | ---         | needed | Recommended update for yast2, yast2-nfs-client, yast2-services-manager</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-586  | recommended | low       | ---         | needed | Recommended update for grub2</span><br><span class="line"></span><br><span class="line">Found 7 applicable patches:</span><br><span class="line">7 patches needed (3 security patches)</span><br></pre></td></tr></table></figure>

<p>패치는 보안 이슈에 대한 것으로 해당 보안 이슈 정보 혹은 분류 등을 확인할 수 있다. 목록에서 Name 컬럼이 발생한 보안 사항 번호로 이 번호로 조회할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zypper info openSUSE-2017-462</span><br></pre></td></tr></table></figure>

<p>패키지 내용은 CVE(Common Vulnerabilities and Exposures)로 보고된 보안 사항을 적용한 내용을 자세히 보여주고 있다.</p>
<p>패치 중에서 Category로 검색할 수 있다. 다음 같이 security 분류만 검색할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">zypper lp --category security</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line"></span><br><span class="line">Repository                | Name               | Category | Severity  | Interactive | Status | Summary</span><br><span class="line">--------------------------+--------------------+----------+-----------+-------------+--------+--------------------------------</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-1268 | security | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-940  | security | important | ---         | needed | Security update for subversion</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-118  | security | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line"></span><br><span class="line">Considering 3 out of 7 applicable patches:</span><br><span class="line">3 patches needed (3 security patches)</span><br></pre></td></tr></table></figure>

<p>패치를 전체를 설치하려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper patch</span><br></pre></td></tr></table></figure>

<p>혹은 패치 중에서 특정 패치만 설치할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper install patch:openSUSE-2017-1268</span><br></pre></td></tr></table></figure>

<p>업그레이드나 패치 중에 현재 사용중인 패키지 버전과 충돌시 문제 보고를 출력하는데 제시된 솔루션을 선택하면 된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ sudo zypper patch</span><br><span class="line">Problem: nothing provides subversion = 1.9.7 needed by subversion-bash-completion-1.9.7-8.1.noarch</span><br><span class="line"> Solution 1: deinstallation of subversion-bash-completion-1.9.5-1.1.noarch</span><br><span class="line"> Solution 2: do not install patch:openSUSE-2017-940-1.noarch</span><br><span class="line"> Solution 3: break subversion-bash-completion-1.9.7-8.1.noarch by ignoring some of its dependencies</span><br><span class="line"></span><br><span class="line">Choose from above solutions by number or skip, retry or cancel [1/2/3/s/r/c] (c): 1</span><br></pre></td></tr></table></figure>

<br>

<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3#Installing_the_64-bit_openSUSE_Leap_image">Raspberry Pi 3: Installing 64bit openSuse Leap Image</a></li>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:System_upgrade">OpenSUSE System Upgrade</a></li>
<li><a target="_blank" rel="noopener" href="https://lukerawlins.com/opensuse-patch-vs-update/">openSUSE Update &amp; Patch</a></li>
</ul>
<p>[^1]: <a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:System_upgrade">System Upgrade</a><br>[^2]: <a target="_blank" rel="noopener" href="https://software.opensuse.org/package/net-tools-deprecated">net-tools deprecated</a><br>[^4]: <a target="_blank" rel="noopener" href="http://www.susegeek.com/networking/how-to-setup-persistent-static-routes-in-opensuse-110/">Static route in Opensuse</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-07-12T03:00:00.000Z" title="2017-7-12 12:00:00">2017-07-12</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:14:19.331Z" title="2022-2-25 1:14:19">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/NodeJS/">NodeJS</a><span> / </span><a class="link-muted" href="/categories/NodeJS/Database/">Database</a></span><span class="level-item">9분안에 읽기 (약 1285 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/07/12/nodejs-2017-07-12-mongodb-mongoose/">NodeJS - mongoose</a></h1><div class="content"><p>이 글은 <a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/">mongoose doc</a> 에서 필요한 부분만 요약 정리했다.</p>
<h2 id="MongoDB와-Mongoose"><a href="#MongoDB와-Mongoose" class="headerlink" title="MongoDB와 Mongoose"></a>MongoDB와 Mongoose</h2><p>Node.js에서 Mongodb에 연결하기 위해서 Driver가 필요</p>
<h3 id="mongoose"><a href="#mongoose" class="headerlink" title="mongoose"></a>mongoose</h3><p>MongoDb를 위한 Node.js 커넥터로 Object Data Mapping (ODM)을 통해 MVC를 구현해 준다. </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://dzone.com/articles/using-mongodb-and-mongoose">using-mongodb-and-mongoose</a></li>
</ul>
<h4 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h4><p>프로젝트 폴더에서 npm으로 mongoose 모듈를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i mongoose</span><br></pre></td></tr></table></figure>

<blockquote>
<p>npm &lt; 5 이하 버전은 <code>-S</code> 혹은 <code>--save</code> 옵션으로 모듈 의존성을 <em>package.json</em> 에 추가한다.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;body-parser&quot;</span>: <span class="string">&quot;~1.13.2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;cookie-parser&quot;</span>: <span class="string">&quot;~1.3.5&quot;</span>,</span><br><span class="line">    <span class="string">&quot;debug&quot;</span>: <span class="string">&quot;~2.2.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;express&quot;</span>: <span class="string">&quot;~4.13.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;jade&quot;</span>: <span class="string">&quot;~1.11.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;mongoose&quot;</span>: <span class="string">&quot;^4.4.16&quot;</span>,</span><br><span class="line">    <span class="string">&quot;morgan&quot;</span>: <span class="string">&quot;~1.6.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;serve-favicon&quot;</span>: <span class="string">&quot;~2.3.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Scheme-사용"><a href="#Scheme-사용" class="headerlink" title="Scheme 사용"></a>Scheme 사용</h3><p>Scheme 는 <a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/models.html">Model</a> 로 변환해야 한다. <a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/models.html">^models</a><br><code>mongoose.model()</code> 메서드는 모델 이름과 스키마를 받아 변환한다.</p>
<blockquote>
<p>mongoose.model(modelName, schema);</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> schema = <span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;string&#x27;</span>, <span class="attr">size</span>: <span class="string">&#x27;string&#x27;</span> &#125;);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Tank</span> = mongoose.<span class="title function_">model</span>(<span class="string">&#x27;Tank&#x27;</span>, schema);</span><br></pre></td></tr></table></figure>

<p>model()에 전달한 <strong>modelName</strong>은 mongoose가 자동으로 컬렉션에서 복수형으로 찾는다. 예를 들어 위의 <em>Tank</em>는 <em>tanks</em> 컬렉션을 참조한다.</p>
<h3 id="connect"><a href="#connect" class="headerlink" title="connect()"></a>connect()</h3><p>mongoose 에서 mongodb 드라이버에 연결할 때 mongodb 버전에 따라 달리 접근한다. 또한 mongoose 4.x와 5.x 의 몇몇 옵션도 주의해서 사용해야 한다.</p>
<h4 id="mongodb-3-x-연결"><a href="#mongodb-3-x-연결" class="headerlink" title="mongodb 3.x 연결"></a>mongodb 3.x 연결</h4><p>mongoose 4.x 버전 부터는 Promise를 선언하고 connect()를 연결한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>);</span><br><span class="line"></span><br><span class="line">mongoose.<span class="property">Promise</span> = <span class="variable language_">global</span>.<span class="property">Promise</span>;</span><br><span class="line">mongoose.<span class="title function_">connect</span>(<span class="string">&#x27;mongodb://localhost/somecollection&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">() =&gt;</span>  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;connection succesful&#x27;</span>))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err));</span><br><span class="line"></span><br><span class="line"><span class="comment">//or  mongo client option</span></span><br><span class="line">mongoose.<span class="title function_">connect</span>( <span class="string">&#x27;mongodb://localhost/somecollection&#x27;</span>, &#123; <span class="attr">useMongoClient</span>: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure>


<p>mongoose 5.x 버전 부터는 Promise  connect()를 연결한다.</p>
<h4 id="mongodb-2-x-연결"><a href="#mongodb-2-x-연결" class="headerlink" title="mongodb 2.x 연결"></a>mongodb 2.x 연결</h4><p>mongodb 2.x 버전에서 createConnection(), connect() 메서드를 사용해 연결한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>); </span><br><span class="line"><span class="keyword">var</span> connection = mongoose.<span class="title function_">createConnection</span>(<span class="string">&#x27;mongodb://localhost/sensors&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Schemas</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">BookScheme</span> = <span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="title class_">String</span>,</span><br><span class="line">    <span class="attr">author</span>: <span class="title class_">String</span>,</span><br><span class="line">    <span class="attr">year</span>: <span class="title class_">String</span></span><br><span class="line">&#125;); </span><br><span class="line"></span><br><span class="line"><span class="comment">// Models</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">BookModel</span> = mongoose.<span class="title function_">model</span>( <span class="string">&#x27;Book&#x27;</span>, <span class="title class_">BookScheme</span>);</span><br></pre></td></tr></table></figure>


<h4 id="여러-연결"><a href="#여러-연결" class="headerlink" title="여러 연결"></a>여러 연결</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> conn      = mongoose.<span class="title function_">connect</span>(<span class="string">&#x27;mongodb://localhost/testA&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> conn2     = mongoose.<span class="title function_">connect</span>(<span class="string">&#x27;mongodb://localhost/testB&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">SensorModel</span> = conn.<span class="title function_">model</span>( <span class="string">&#x27;qkboo_sensor&#x27;</span>, <span class="title class_">Sensorcheme</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ModelB</span>    = conn2.<span class="title function_">model</span>(<span class="string">&#x27;Model&#x27;</span>, <span class="keyword">new</span> mongoose.<span class="title class_">Schema</span>(&#123;</span><br><span class="line">  title : &#123; type : <span class="title class_">String</span>, <span class="keyword">default</span> : <span class="string">&#x27;model in testB database&#x27;</span> &#125;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>






<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><h4 id="save"><a href="#save" class="headerlink" title="save()"></a>save()</h4><p><a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/api.html#model_Model-save">Model#save()</a>는 주어진 도큐멘트를 저장한다.</p>
<ul>
<li>return: Promise</li>
</ul>
<h4 id="create"><a href="#create" class="headerlink" title="create()"></a>create()</h4><p><a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/api.html#model_Model.create">Model.create()</a> 는 하나 혹은 그 이상의 도큐멘트를 저장할 수 있다. <code>MyModel.create(docs)</code> 는 주어지는 도큐멘트 마다 <code>new MyModel(doc).save()</code> 를 수행한다.</p>
<h4 id="methods"><a href="#methods" class="headerlink" title="methods"></a>methods</h4><p>Model의 인스턴스는 documents 로 <a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/api.html#document-js">내장 메서드</a>가 제공되지만, 사용자가 새로운 메서드를 추가할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animalSchema = <span class="keyword">new</span> <span class="title class_">Schema</span>(&#123; <span class="attr">name</span>: <span class="title class_">String</span>, <span class="attr">type</span>: <span class="title class_">String</span> &#125;);</span><br><span class="line"></span><br><span class="line">animalSchema.<span class="property">methods</span>.<span class="property">findSimilarTypes</span> = <span class="keyword">function</span>(<span class="params">cb</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">model</span>(<span class="string">&#x27;Animal&#x27;</span>).<span class="title function_">find</span>(&#123; <span class="attr">type</span>: <span class="variable language_">this</span>.<span class="property">type</span> &#125;, cb);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>이제 animalSchema 의 인스턴스는 새 메서드 <code>findSimilarTypes</code> 사용이 가능하다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Animal</span> = mongoose.<span class="title function_">model</span>(<span class="string">&#x27;Animal&#x27;</span>, animalSchema);</span><br><span class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> <span class="title class_">Animal</span>(&#123; <span class="attr">type</span>: <span class="string">&#x27;dog&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line">dog.<span class="title function_">findSimilarTypes</span>(<span class="keyword">function</span>(<span class="params">err, dogs</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(dogs); <span class="comment">// woof</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h4 id="Statics"><a href="#Statics" class="headerlink" title="Statics"></a>Statics</h4><p>static method도 추가할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// assign a function to the &quot;statics&quot; object of our animalSchema</span></span><br><span class="line">animalSchema.<span class="property">statics</span>.<span class="property">findByName</span> = <span class="keyword">function</span>(<span class="params">name, cb</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">find</span>(&#123; <span class="attr">name</span>: <span class="keyword">new</span> <span class="title class_">RegExp</span>(name, <span class="string">&#x27;i&#x27;</span>) &#125;, cb);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Animal</span> = mongoose.<span class="title function_">model</span>(<span class="string">&#x27;Animal&#x27;</span>, animalSchema);</span><br><span class="line"><span class="title class_">Animal</span>.<span class="title function_">findByName</span>(<span class="string">&#x27;fido&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, animals</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(animals);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h4 id="Db-prototype-authenticate"><a href="#Db-prototype-authenticate" class="headerlink" title="Db.prototype.authenticate"></a>Db.prototype.authenticate</h4><p>mongodb 3.6 이후는 인증시 Socket을 통한 인증을 거부한다. 그래서 Db.prototype.authenticate 을 사용하지 않고 .MongoClient.connect 에서 인증 서명서와 함께 사용해야 한다.</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(node:24499) DeprecationWarning: Mongoose: mpromise (mongoose&#x27;s default promise library) is deprecated, plug in your own promise library instead: http://mongoosejs.com/docs/promises.html</span><br></pre></td></tr></table></figure>

<p>이것은 <code>.save()</code>, <code>query</code> 결과가  <a target="_blank" rel="noopener" href="https://promisesaplus.com/">Promises&#x2F;A+ conformant promises</a> 를 반환한다는 것이다. 반환된 결과로 MyModel.findOne({}).then() and yield MyModel.findOne({}).exec() 같은 작업을 할 수 있다는 의미가 된다.</p>
<p>Mongoose 4 는 기본으로 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/mpromise">mpromise</a>를 약속한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gnr = <span class="keyword">new</span> <span class="title class_">Band</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Guns N&#x27; Roses&quot;</span>,</span><br><span class="line">  <span class="attr">members</span>: [<span class="string">&#x27;Axl&#x27;</span>, <span class="string">&#x27;Slash&#x27;</span>]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> promise = gnr.<span class="title function_">save</span>();</span><br><span class="line">assert.<span class="title function_">ok</span>(promise <span class="keyword">instanceof</span> <span class="built_in">require</span>(<span class="string">&#x27;mpromise&#x27;</span>));</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">doc</span>) &#123;</span><br><span class="line">  assert.<span class="title function_">equal</span>(doc.<span class="property">name</span>, <span class="string">&quot;Guns N&#x27; Roses&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Queries-are-not-promises"><a href="#Queries-are-not-promises" class="headerlink" title="Queries are not promises"></a>Queries are not promises</h4><p>Mongoose queries are not promises. 그러나 대신 양보와 비동기&#x2F;대기를 위해 <code>.then()</code> 함수를 가지고 있다. fully-fledged promise 가 필요하다면 <code>.exec()</code> 함수를 사용하라. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = <span class="title class_">Band</span>.<span class="title function_">findOne</span>(&#123;<span class="attr">name</span>: <span class="string">&quot;Guns N&#x27; Roses&quot;</span>&#125;);</span><br><span class="line">assert.<span class="title function_">ok</span>(!(query <span class="keyword">instanceof</span> <span class="built_in">require</span>(<span class="string">&#x27;mpromise&#x27;</span>)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// A query is not a fully-fledged promise, but it does have a `.then()`.</span></span><br><span class="line">query.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">doc</span>) &#123;</span><br><span class="line">  <span class="comment">// use doc</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// `.exec()` gives you a fully-fledged promise</span></span><br><span class="line"><span class="keyword">var</span> promise = query.<span class="title function_">exec</span>();</span><br><span class="line">assert.<span class="title function_">ok</span>(promise <span class="keyword">instanceof</span> <span class="built_in">require</span>(<span class="string">&#x27;mpromise&#x27;</span>));</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">doc</span>) &#123;</span><br><span class="line">  <span class="comment">// use doc</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h4 id="Plugging-in-your-own-Promises-Library"><a href="#Plugging-in-your-own-Promises-Library" class="headerlink" title="Plugging in your own Promises Library"></a>Plugging in your own Promises Library</h4><blockquote>
<p>New in Mongoose 4.1.0</p>
</blockquote>
<p>기본 사용에서 mpromise가 만족스러웠지만, 고급 사용자는 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">ES6-style promises</a> 같은 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/bluebird">bluebird</a> 라이브러리를 플러그인으로 넣거나 혹은 네이티브 ES6 를 사용하기를 바랬다. <code>mongoose.Promise</code> 로 좋아하는 ES6 스타일 프로마이즈를 사용할 수 있다.</p>
<blockquote>
<p>Mongoose ES6 native promises, bluebird, and q를 테스트했다. 어떤 라이브러리도 이론적으로<br> Any promise library that exports an ES6-style promise constructor should work in theory, but theory often differs from practice. If you find a bug, open an issue on GitHub</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> query = <span class="title class_">Band</span>.<span class="title function_">findOne</span>(&#123;<span class="attr">name</span>: <span class="string">&quot;Guns N&#x27; Roses&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use native promises</span></span><br><span class="line">mongoose.<span class="property">Promise</span> = <span class="variable language_">global</span>.<span class="property">Promise</span>;</span><br><span class="line">assert.<span class="title function_">equal</span>(query.<span class="title function_">exec</span>().<span class="property">constructor</span>, <span class="variable language_">global</span>.<span class="property">Promise</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use bluebird</span></span><br><span class="line">mongoose.<span class="property">Promise</span> = <span class="built_in">require</span>(<span class="string">&#x27;bluebird&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">equal</span>(query.<span class="title function_">exec</span>().<span class="property">constructor</span>, <span class="built_in">require</span>(<span class="string">&#x27;bluebird&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Use q. Note that you **must** use `require(&#x27;q&#x27;).Promise`.</span></span><br><span class="line">mongoose.<span class="property">Promise</span> = <span class="built_in">require</span>(<span class="string">&#x27;q&#x27;</span>).<span class="property">Promise</span>;</span><br><span class="line">assert.<span class="title function_">ok</span>(query.<span class="title function_">exec</span>() <span class="keyword">instanceof</span> <span class="built_in">require</span>(<span class="string">&#x27;q&#x27;</span>).<span class="property">makePromise</span>);</span><br></pre></td></tr></table></figure>




<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><ul>
<li><a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/">mongoose doc</a></li>
<li><a target="_blank" rel="noopener" href="http://mongoosejs.com/docs/api.html">mongoose api doc</a></li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/mpromise">mpromise</a></li>
<li>bluebird](<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/bluebird">https://www.npmjs.com/package/bluebird</a>)</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">ES6-style promises</a></li>
</ul>
<p>[^1]: <a target="_blank" rel="noopener" href="http://programmingsummaries.tistory.com/325">Promise 란</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-07-12T03:00:00.000Z" title="2017-7-12 12:00:00">2017-07-12</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:08.370Z" title="2022-2-25 1:16:08">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a></span><span class="level-item">11분안에 읽기 (약 1595 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/07/12/AI/2017-07-12-ai-platform-tensorflow-start/">AI / Start Google TensorFlow</a></h1><div class="content"><p><a target="_blank" rel="noopener" href="https://www.tensorflow.org/get_started/get_started">Getting Started with TensorFlow</a> 글을 요약 번역한다.</p>
<p>tensorflow를 사용하기 위해서는</p>
<ul>
<li>Python 프로그래밍</li>
<li>배열에 대한 이해</li>
<li>머신러닝에 대한 이해.</li>
</ul>
<p><strong>TensorFlow</strong>는 여러 API를 제공하고 있다.</p>
<ul>
<li>TensorFlow Core: 가장 저수준 API</li>
<li>고수준 API는 TensorFlow Core 위에 구성되 있다.</li>
</ul>
<p>고수준 API 에서 <strong>contrib-</strong> 를 포함한 메서드 이름은 개발중으로 향후 변경 가능성이 크다.</p>
<br/>
## Tensors

<p><em>TensorFlow</em> 에서 주요 데이터 단위가 <strong>tensor</strong> 이다. <strong>tensor</strong>는 어떤 차원의 배열로 구성된 기초적인 값의 집합이다. <em>tensor</em>의 <strong>rank</strong>는 차원의 수이다. 여러 rank를 가진 <em>tensors</em>의 예:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> # 하나의 rank <span class="number">0</span> tensor; 모양 <span class="punctuation">[</span><span class="punctuation">]</span> 인 스칼라 값이다.</span><br><span class="line"><span class="punctuation">[</span><span class="number">1.</span> <span class="punctuation">,</span><span class="number">2.</span><span class="punctuation">,</span> <span class="number">3.</span><span class="punctuation">]</span> # rank <span class="number">1</span> tensor; 모양 <span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span> 인 벡터이다.</span><br><span class="line"><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1.</span><span class="punctuation">,</span> <span class="number">2.</span><span class="punctuation">,</span> <span class="number">3.</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">4.</span><span class="punctuation">,</span> <span class="number">5.</span><span class="punctuation">,</span> <span class="number">6.</span><span class="punctuation">]</span><span class="punctuation">]</span> # rank <span class="number">2</span> tensor; 모양 <span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span>인 행렬이다.</span><br><span class="line"><span class="punctuation">[</span><span class="punctuation">[</span><span class="punctuation">[</span><span class="number">1.</span><span class="punctuation">,</span> <span class="number">2.</span><span class="punctuation">,</span> <span class="number">3.</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="punctuation">[</span><span class="number">7.</span><span class="punctuation">,</span> <span class="number">8.</span><span class="punctuation">,</span> <span class="number">9.</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">]</span> # 모양 <span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">]</span> 인 rank <span class="number">3</span> tensor</span><br></pre></td></tr></table></figure>


<br/>
### TensorFlow Core tutorial

<p>먼저 <em>import</em>로 tensorflow 패키지를 가져온다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br></pre></td></tr></table></figure>

<h4 id="연산-그래프-Computational-Graph"><a href="#연산-그래프-Computational-Graph" class="headerlink" title="연산 그래프 Computational Graph"></a>연산 그래프 Computational Graph</h4><p><em>TensorFlow Core</em> 프로그램은 두 개의 불연속 구획으로 구성되었다고 생각할 수 있다.</p>
<ol>
<li><strong>연산 그래프</strong> 구성하기<ul>
<li>그래프를 조립하는 단계</li>
</ul>
</li>
<li><strong>연산 그래프</strong> 실행하기<ul>
<li>Session에서 graph 실행</li>
</ul>
</li>
</ol>
<blockquote>
<p>예를 들어 뉴럴 네트워크를 표현하고 학습시키기 위해 구성 단계에는 graph를 만들고 실행 단계에는 graph의 훈련용 작업들(set of training ops)을 반복해서 실행합니다.[^1]</p>
</blockquote>
<p><strong>연산 그래프</strong>는 그래프 노드에 배열된 <em>TensorFlow</em> 작업의 급수이다. 간단한 <strong>연산 그래프</strong>를 구성해 보면, 각 노드는 0 혹은 다수의 <em>tensor</em>를 입력으로 가지고 <em>tensor</em> 하나를 출력으로 생성하게 하자. 노드 형식 중 하나는 상수인데, 모든 TensorFlow 상수 값은 입력으로 받지 않고, 초기화한 값을 사용한다. 아래 처럼 부동소수 <em>tensor</em>의 node1, node2 두 개를 생성해 보자</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">node1 = tf.constant(<span class="number">3.0</span>, dtype = tf.float32)</span><br><span class="line">node2 = tf.constant(<span class="number">4.0</span>) <span class="comment"># 명시적으로 tf.float32 를 인자로 사용해도 된다.</span></span><br><span class="line">node3 = tf.add(node1, node2)</span><br><span class="line"><span class="built_in">print</span>(node1, node2)</span><br></pre></td></tr></table></figure>

<p>아래 같이 출력된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tensor(&quot;Const:0&quot;, shape=(), dtype=float32) Tensor(&quot;Const_1:0&quot;, shape=(), dtype=float32)</span><br></pre></td></tr></table></figure>

<p>실제 값이 연산되려면 <code>Session</code> 을 생성하고 실행해야 한다. 다음 같이 세션을 만들고 node를 실행한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sess = tf.Session()</span><br><span class="line"><span class="built_in">print</span>(sess.run([node1, node2])) <span class="comment">#[3.0, 4.0]</span></span><br></pre></td></tr></table></figure>

<p><strong>Tensor</strong> 노드를 묶어 복합적인 계산을 구성할 수 있다. 노드를 더해서 새로운 노드로 만들 수 있다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node3 = tf.add( node1, node2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;node3:&quot;</span>, node3)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;sess.run(node3):&quot;</span>, sess.run(node3))</span><br></pre></td></tr></table></figure>

<p>노드를 더하는 결과는 아래 같다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node3: Tensor(&quot;Add:0&quot;, shape=(), dtype=float32)</span><br><span class="line">sess.run(node3): 7.0</span><br></pre></td></tr></table></figure>

<p><em>TensorFlow</em> 는 <strong>TensorBoard</strong> 를 지원해 계산 그래프를 그림으로 표시할 수 있다. 아래는 <em>TensorBoard</em>로 출력한 스크립샷이다.</p>
<p><img src="https://www.tensorflow.org/images/getting_started_add.png"></p>
<p>상수가 아닌 매개변수 형식으로 외부 입력을 받을 수 있는 <em>placeholders</em>{:.keyword} 를 사용하면 값을 나중에 입력받을 수 있다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = tf.placeholder(tf.float32)</span><br><span class="line">b = tf.placeholder(tf.float32)</span><br><span class="line">adder_node = a + b  <span class="comment"># + provides a shortcut for tf.add(a, b)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 노드를 실행한다.</span></span><br><span class="line"><span class="built_in">print</span>(sess.run(adder_node, &#123;a: <span class="number">3</span>, b:<span class="number">4.5</span>&#125;))</span><br><span class="line"><span class="built_in">print</span>(sess.run(adder_node, &#123;a: [<span class="number">1</span>,<span class="number">3</span>], b: [<span class="number">2</span>, <span class="number">4</span>]&#125;))</span><br></pre></td></tr></table></figure>

<p>결과는 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">7.5</span><br><span class="line">[ 3.  7.]</span><br></pre></td></tr></table></figure>

<p>TensorBoard 로 그려본 그래프는 다음 같다.</p>
<p><img src="https://www.tensorflow.org/images/getting_started_adder.png"></p>
<p>연산 그래프에 다른 연산을 더해 줄 수 있다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add_and_triple = adder_node * <span class="number">3.</span></span><br><span class="line"><span class="built_in">print</span>(sess.run(add_and_triple, &#123;a: <span class="number">3</span>, b:<span class="number">4.5</span>&#125;)) <span class="comment"># 22.5</span></span><br></pre></td></tr></table></figure>


<p>앞의 연산에 대한 TensorBoard에서 그래프는,</p>
<p><img src="https://www.tensorflow.org/images/getting_started_triple.png"></p>
<p>머신러닝에서 모델에 위와 같은 유효한 입력을 가지게 한다. 그리고 모델을 훈련시키기 위해서 새로운 출력을 갖도록 수정할 수 있다. <em>Variables</em> 는 그래프에 훈련시킬 매개변수를 더하게 해준다.</p>
<p>아래 같은 초기화 값이 있고,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">W = tf.Variable([<span class="number">.3</span>], dtype=tf.float32)</span><br><span class="line">b = tf.Variable([-<span class="number">.3</span>], dtype=tf.float32)</span><br><span class="line">x = tf.placeholder(tf.float32)</span><br><span class="line">linear_model = W * x + b</span><br></pre></td></tr></table></figure>

<p>상수는 <em>tf.constant</em>{:.keyword} 를 호출할 때 초기화 되지만 이후 값을 변경 할 수 없다. 반면 <em>Variable</em>은 <em>tf.Variable</em>{:.keyword}가 호출될 때 초기화 되지 않는다. 초기화 하려면 아래같은 암묵적인 연산을 해주어야 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">init = tf.global_variables_initializer()</span><br><span class="line">sess.run(init)</span><br></pre></td></tr></table></figure>

<p>그런데 <code>init</code> 의 실체는 모든 전역 변수를 초기화하는 <em>TensorFlow sub-graph</em> 핸들 이라는 것이다. 또한 <code>sess.run</code> 이 실행 될 때까지 초기화 되지 않는다.<br>이제 <code>x</code> 가 <em>placeholder</em>{:.keyword} 이기 때문에 다음 같이 <em>lenear_model</em> 의 수치를 구하게 한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(sess.run(linear_model, &#123;x:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [ 0.          0.30000001  0.60000002  0.90000004]</span></span><br></pre></td></tr></table></figure>

<p>이제 훈련 데이터로 <em>linear_model을</em> 평가하기 위해서 <code>y</code> placeholder를 준비하자. 그리고 <em>loss</em> 함수를 작성한다.<br><em>loss</em> 함수는 제공한 데이터와 현재 모델 사이가 얼마나 떨어져 있는지를 측정한다. 이것은 선형회귀(Linear Regression)에 대한 표준 loss model로 현제 모델과 제공한 데이터 사이의 델타의 제곱근의 합이다. <code>linear_model - y</code> 는 예제의 에러 델타에 대응하는 요소로 이루어진 벡터를 생성한다. <em>tf.sqaure</em>{:.keyword} 를 호출해서 에러에 대한 제곱근을 구한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">y = tf.placeholder(tf.float32)</span><br><span class="line">squared_deltas = tf.square(linear_model - y)</span><br><span class="line">loss = tf.reduce_sum(squared_deltas)</span><br><span class="line"><span class="built_in">print</span>(sess.run(loss, &#123;x:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], y:[<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>]&#125;))</span><br><span class="line"><span class="comment"># 23.66</span></span><br></pre></td></tr></table></figure>

<p>여기서 <code>W</code>, <code>b</code> 에 최적화된 값 -1, 1을 재지정 할 수 있는데, <em>tf.assign</em>{:.keyword} 같은 연산으로 바꿔 줄 수 있다. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fixW = tf.assign(W, [-<span class="number">1.</span>])</span><br><span class="line">fixb = tf.assign(b, [<span class="number">1.</span>])</span><br><span class="line">sess.run([fixW, fixb])</span><br><span class="line"><span class="built_in">print</span>(sess.run(loss, &#123;x:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], y:[<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>]&#125;))</span><br><span class="line"><span class="comment"># 0.0</span></span><br></pre></td></tr></table></figure>

<p>결과 <code>0.0</code> 으로 <code>W</code>, <code>b</code>의 완벽한 값으 추축해 볼 수 있다. 머신러닝의 중요한 점은 자동으로 정확한 매개변수를 찾는 것이다. 다음 섹션에서 이것을 살펴볼 것이다.</p>
<h3 id="tf-train-API"><a href="#tf-train-API" class="headerlink" title="tf.train API"></a>tf.train API</h3><p>TensorFlow 는 <strong>optimizers</strong>를 제공해서 loss 함수의 매개변수 순서에 따라 값을 변경할 수 있다. 간단한 최적화는 <strong>gradient optimizer</strong> 이다. 함수의 전달하는 자릿수에 따라 각 값을 바꿀 수 있다.</p>
<h3 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h3><p>여기까지 코드는 아래와 같다:</p>
<script src="//gist.github.com/qkboo/9d677cf28703fb18e2692278f90e1f6c.js"></script>


<h3 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.gitbook.com/book/tensorflowkorea/tensorflow-kr">텐서플로우 문서 한글 번역본</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tensorflow.org/get_started/get_started">Getting Started TensorFlow</a></li>
</ul>
<p>[^1]: <a target="_blank" rel="noopener" href="https://tensorflowkorea.gitbooks.io/tensorflow-kr/content/g3doc/get_started/basic_usage.html">텐서플로우 한글 번역본-기본적인 사용법</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-07-12T02:00:00.000Z" title="2017-7-12 11:00:00">2017-07-12</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:08.371Z" title="2022-2-25 1:16:08">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a></span><span class="level-item">6분안에 읽기 (약 840 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/07/12/AI/2017-07-12-ai-platform-tensorflow/">AI / Google TensorFlow Install</a></h1><div class="content"><p>2015년 인공지능 개발용 오픈소스 <strong>TensorFlow</strong> 를 공개했다.</p>
<h2 id="TensorFlow"><a href="#TensorFlow" class="headerlink" title="TensorFlow"></a>TensorFlow</h2><p>TensorFlow는 머신러닝을 위한 Research cloud로 1000 Cloud TPU로 가동하고 있다. 1000 TPU는 180Petaflops를 제공하고 있다.</p>
<p><img src="https://www.tensorflow.org/tfrc/assets/images/gallery/2x/5.jpg" alt="Cloud TPU">{: width&#x3D;”650”}</p>
<p>Ubuntu Linux, macOS X, Windows 머신에 설치할 수 있다. Ubuntu 14.04 이상에서 설치 가능하다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.tensorflow.org/install/install_linux">Install on Ubuntu</a></li>
</ul>
<h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>먼저 TensorFlow 종류를 결정한다.</p>
<ul>
<li><strong>TensorFlow CPU only support</strong> : 시스템에 NVIDI&amp;reg; GPU가 없으면 CPU 버전을 설치한다. 5~10분 정도 소요되고 쉽다. GPU가 있더라도 이 버전을 먼저 시도해 볼 것을 권한다.</li>
<li><strong>TensorFlow GPU only support</strong> : CPU보다 현저하게 빠르다. NVIDIA&amp;reg; GPU가 있고, 요구사항에 부합하며 성능 문제를 고려하면 이 버전을 설치한다.</li>
</ul>
<br/>
#### NVIDIA GPU에서 TensorFlow 실행시 요구조건

<p>GPU 지원 TensorFlow를 설치하려면 아래 NVIDIA 소프트웨어가 설치되야 한다:</p>
<ul>
<li><strong>CUDA® Toolkit 8.0</strong> : <a target="_blank" rel="noopener" href="http://docs.nvidia.com/cuda/cuda-installation-guide-linux/#axzz4VZnqTJ2A">NVIDIA’s documentation</a>. <em>LD_LIBRARY_PATH</em> 환경변수에 Cuda 경로 추가해준다. </li>
<li>CUDA Toolkit 8.0 관련 <strong>The NVIDIA drivers</strong> 설치.</li>
<li><strong>cuDNN v5.1</strong>: <a target="_blank" rel="noopener" href="https://developer.nvidia.com/cudnn">NVIDIA’s documentation</a> 참고, 설치후 <em>CUDA_HOME</em> 환경변수 설정.</li>
<li>GPU card with CUDA Compute Capability 3.0 or higher. 지원하는 종류는 <a target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-gpus">VIDIA documentation</a>를 참조.</li>
<li><strong>libcupti-dev</strong> library: 아래 명령으로 NVIDIA CUDA Profile Tools Interface를 설치한다.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install libcupti-dev</span><br></pre></td></tr></table></figure>

<p>시스템에 설치된 소프트웨어가 위에 명시하 패키지 보다 이전 버전이면 업그레이드가 필요하다. 아닌 경우 TensorFlow가 실행되지만 아래 작업을 해주어야 한다:</p>
<ul>
<li>TensorFlow 를 소스에서 설치한다 <a target="_blank" rel="noopener" href="https://www.tensorflow.org/install/install_sources">Installing TensorFlow from Sources</a>.</li>
<li>최소 아래 NVIDIA versions으로 설치한다:<ul>
<li>CUDA toolkit 7.0 or greater</li>
<li>cuDNN v3 or greater</li>
<li>GPU card with CUDA Compute Capability 3.0 or higher.</li>
</ul>
</li>
</ul>
<br/>
### TensorFlow 설치 방법

<p>TensorFlow는 virtualenv, “native” pip, Docker, Anaconda 에서 설치할 수 있다.<br>virtualenv 환경을 권장한다.</p>
<h4 id="virtualenv-환경에서-설치"><a href="#virtualenv-환경에서-설치" class="headerlink" title="virtualenv 환경에서 설치"></a>virtualenv 환경에서 설치</h4><p>여기서는 </p>
<ul>
<li><a href="!--swig%EF%BF%BC7--">macOS에서 Python 가상 개발환경 설치</a></li>
<li><a href="!--swig%EF%BF%BC8--">Linux에서 Python 가상 개발환경 설치</a></li>
</ul>
<p>를 참조해서 virtualenv, virtualenvwrapper 를 구성해서 사용한다고 가정한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkvirtualenv --system-site-packages -p python3 tensorflow</span><br><span class="line">(tensorflow)$ </span><br></pre></td></tr></table></figure>


<p>그리고 <code>tensorflow</code> 패키지를 설치한다 - GPU 버전을 선택적으로 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(tensorflow)$ pip install --upgrade tensorflow      <span class="comment"># CPU</span></span><br><span class="line">(tensorflow)$ pip install --upgrade tensorflow-gpu  <span class="comment"># GPU</span></span><br></pre></td></tr></table></figure>

<p>위 명령으로 설치가 실패시 pip 버전이 8.1 이하일 수 있다. 업그레이드 후 재 시도한다. 혹은 다음 명령으로 TensorFlow Python package를 직접 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(tensorflow)$ pip install --upgrade tfBinaryURL</span><br></pre></td></tr></table></figure>

<p><code>tfBinaryURL</code> 은 <a target="_blank" rel="noopener" href="https://www.tensorflow.org/install/install_linux#the_url_of_the_tensorflow_python_package">여기</a>서 찾아서 직접 지정한다.</p>
<h4 id="Uninstall-Tensorflow"><a href="#Uninstall-Tensorflow" class="headerlink" title="Uninstall Tensorflow"></a>Uninstall Tensorflow</h4><p>가상환경 디렉토리를 삭제하거나</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(tensorflow)$ deactivate</span><br><span class="line">$ <span class="built_in">rm</span> -rf .virtualenv/tensorflow</span><br></pre></td></tr></table></figure>

<p>혹은 가상환경에서 tensorflow 를 pip로 지운다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(tensorflow)$ pip uninstall tensorflow      <span class="comment"># CPU</span></span><br><span class="line">(tensorflow)$ pip uninstall tensorflow-gpu  <span class="comment"># GPU</span></span><br></pre></td></tr></table></figure>


<br/>
### Run a short TensorFlow program

<p><code>python</code> 을 실행해 REPL 환경 혹은 스크립트로 아래 코드를 입력한다:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">hello = tf.constant(<span class="string">&#x27;Hello, TensorFlow!&#x27;</span>)</span><br><span class="line">sess = tf.Session()</span><br><span class="line"><span class="built_in">print</span>(sess.run(hello))</span><br></pre></td></tr></table></figure>

<p>결과로 <code>b&#39;Hello, TensorFlow!&#39;</code> 같이 출력되면 성공적으로 실행된 것이다.</p>
<p>이어서 <a href="">Getting Started with TensorFlow</a> 를 따라간다.</p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p>[^1]: <a target="_blank" rel="noopener" href="https://www.tensorflow.org/tfrc/">Intruducing TensorFlow Research Cloud</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-07-12T01:00:00.000Z" title="2017-7-12 10:00:00">2017-07-12</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:08.372Z" title="2022-2-25 1:16:08">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a></span><span class="level-item">15분안에 읽기 (약 2261 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/07/12/AI/2017-07-12-ai-platform/">AI - Platform</a></h1><div class="content"><h2 id="AI"><a href="#AI" class="headerlink" title="AI"></a>AI</h2><p>인공지능은 사람이 정보를 분석하고 특성을 모델링하는 머신러닝이 지지부진 하다 2012년 부터 딥러닝 기반은 기계가 스스로 수 많은 정보에서 지식을 구성해 가는 시스템이 실제 구현되며 전환기를 맞고 있다. 과거 IBM의 Deep Blue는 체스를 목적으로 한 체스 전용 소프트웨어와 하드웨어를  인공지능으로 구현되었다. 최근 딥러닝을 기반으로하는 알파고 같은 기술은 하드웨어와 소프트웨어가 범용적 특성을 가지고 있다.[^3]</p>
<h3 id="AI-platform"><a href="#AI-platform" class="headerlink" title="AI platform"></a>AI platform</h3><p>AI 플랫폼은[^1] 플랫폼이 갖는 주요기능에 따라 <strong>음성지능</strong>, <strong>언어지능</strong>, <strong>시각지능</strong>, <strong>공간지능</strong>, <strong>감성 지능</strong> 플랫폼으로 구분한다. 적용 대상에 따라서 일반 소비자를 대상으로 다양한 서비스 제공이 가능한 <strong>범용 AI 플랫폼</strong>과 의료, 금융, 법률 등 특정 산업영역에 특화된 <strong>전문 AI 플랫폼</strong>으로 구분 할 수 있다.</p>
<h4 id="인공지능-플랫폼의-활용"><a href="#인공지능-플랫폼의-활용" class="headerlink" title="인공지능 플랫폼의 활용"></a>인공지능 플랫폼의 활용</h4><p>주요 IT기업이 <em>“artificial intelligence as a service.”</em> [^2] 으로 3rd party 기업&#x2F;개발사 들이 앱&#x2F;서비스를 만들어 가는 형태로 발전하고 있다.</p>
<p>개인&#x2F;개발사들이 인공지능을 구현하는데 비해서 전문 플랫폼 사이의 성능 격차가 크다. 첫째로 기계학습에 제공하는 양질의 데이터는 큰 격차가 존재한다. 둘째로 비용, 시간 측면에서 기술과 경험이 부족해서 고도화된 서비스를 이용하는 면이 시간적 경제적으로 잇점이다.</p>
<h3 id="범용-인공지능-플랫폼으로"><a href="#범용-인공지능-플랫폼으로" class="headerlink" title="범용 인공지능 플랫폼으로,"></a>범용 인공지능 플랫폼으로,</h3><h4 id="Google-Machine-Learning-Platform"><a href="#Google-Machine-Learning-Platform" class="headerlink" title="Google Machine Learning Platform"></a>Google Machine Learning Platform</h4><p>2016년 3월 음성인식, 이미지 분석, 번역 기능을 수행하는 인공지능 플랫폼 공개. 구글 머신러닝 플랫폼을 이용해 영상 처리를 한 결과를 이용한 서비스를 만들어 사용할 수 있다.[^3]</p>
<p><img src="http://special.yeogie.com/image/?where=news&dir=201607&sourceFile=C2XJA5M9Y7B.png" alt="Google Machine Learning Platform"></p>
<p>2015년 인공지능 개발용 오픈소스 TensorFlow 를 공개했다.</p>
<h4 id="Facebook-으로-정교화된-맞춤형-인공지능-플랫폼"><a href="#Facebook-으로-정교화된-맞춤형-인공지능-플랫폼" class="headerlink" title="Facebook 으로 정교화된 맞춤형 인공지능 플랫폼"></a>Facebook 으로 정교화된 맞춤형 인공지능 플랫폼</h4><p>페이스북은 2013년 딥러닝 분야의 핵심 연구자인 얀 레쿤(Yann LeCun) 교수를 영입하고 뉴욕, 파리 등에 인공지능 전용 연구소를 설립해 인 공지능 핵심 기술 개발에 집중해 오고 있다. 2월에 게시물에 감정 표현 종류를 “좋아요”,”기쁨”,”슬픔” 등 6가지로 확대 세분화, 인공지능 플랫폼 ‘챗봇’은 개인 사용자 선호도를 분석해 서비스를 제공할 가능성,</p>
<h4 id="Amazon-실생활-플랫폼"><a href="#Amazon-실생활-플랫폼" class="headerlink" title="Amazon 실생활 플랫폼"></a>Amazon 실생활 플랫폼</h4><p>2015년 Alexa라는 대화형 인공지능 에이전트로 정보검색, 쇼핑몰 상품 주문, 결제 등의 다양한 기능 수행. 최근 가전, 전등, 스위치 등 스마트 디바이스와 연동되고 있다.</p>
<h3 id="산업별-특화-인공지능-플랫폼-Vertical-A-I-Platform"><a href="#산업별-특화-인공지능-플랫폼-Vertical-A-I-Platform" class="headerlink" title="산업별 특화 인공지능 플랫폼 Vertical A.I Platform"></a>산업별 특화 인공지능 플랫폼 Vertical A.I Platform</h3><p>IBM 의료 전문 인공지능 플랫폼, </p>
<h4 id="IBM-의료-전문-인공지능-플랫폼"><a href="#IBM-의료-전문-인공지능-플랫폼" class="headerlink" title="IBM 의료 전문 인공지능 플랫폼"></a>IBM 의료 전문 인공지능 플랫폼</h4><p>방대한 정보를 조합해 지식을 만들어 내는 Watson의 핵심 기술을 활용해 IBM은 의료, 금융 분야에 특화된 인공지능으로 발전시켜 가고 있다. </p>
<p>의료 전문 인공지능 플랫폼인 ‘Waston Health’를 운영중인 IBM은 다수의 헬스케어 서비스 기업들을 참여시키며 생태계를 만들어 가고 있다. 또한 약 4조원이 넘는 규모의 집중적인 M&amp;A를 통해 의료 분야의 역량을 빠르게 확보하고 있다. 의학 분야의 경우 IBM은 2012년 캐더링 암 센터와의 제휴를 통해 약 200만 페 이지 의료 전문 서적, 60만건 진단서, 150만건 환자 기록을 확보했다. 지난 2월 약 3조원을 들여 인수한 <em>Truven Health Analytics</em> 는 미 연방 정부 및 주정부 등 약 8500개 고객사에 헬스케어 서비스 제공하는 기업 으로서 막대한 양의 의료 정보를 보유한 기업이다. IBM은 데이터 확보를 위해 엄청 난 금액으로 기업들을 인수하면서 인공지능의 전문성을 높여 가고 있다.</p>
<p>Medtronic이라는 헬스케어 디 바이스 제조 기업은 Watson을 활용해 사용자들의 디바이스에서 수집된 생체 정보를 의학적으로 분 석한다. 예를 들어 인슐린 수치를 모니터링 하는 경우 사용자의 수치를 주기적으로 측정해 Watson 에 전달하고 Watson은 이를 분석해 이상 징후가 예견되면 사용자에게 미리 경고를 하거나 당 섭취 절제 등을 권고해 위험을 사전에 방지한다. </p>
<p><em>Arch Health Partners</em>는 전문 의 료 기관임에도 불구하고 고혈압 환자 관리에 Watson을 활용한다. 전문의가 있지만 모든 환자를 상시적으로 관리할 수 없기 때문에 Watson이 그 기능을 대신한다.</p>
<h4 id="GE의-산업-인공지능-플랫폼"><a href="#GE의-산업-인공지능-플랫폼" class="headerlink" title="GE의 산업 인공지능 플랫폼"></a>GE의 산업 인공지능 플랫폼</h4><p>항공, 에너지, 헬스케어, 제조 등 다양한 산업 분야에서 오랜 사업 경험을 갖고 있는 GE는 산업 현장에 인공지능을 적용하고 있다.<br>2015년 Jeff Immelt(CEO)는 “GE는 지금까지는 제조 기반의 회사였지만 앞으로 글로벌 Top 10 소프트웨어 회사로 탈바 꿈 하겠다”고 선언했다. 약 1200명의 소프트웨어 개발자를 확보하고 실리콘 밸리에 소프트웨어 연구소(GE Digital)를 설립한 GE는 산업용 클라우드 플랫폼인 <strong>Predix Platform</strong>을 발표하며 산업 현장에 인공지능 플랫폼 적용을 확산시키며 4차 산업 혁 명 시대를 주도하려 한다.</p>
<p> Predix가 기본적으로는 센서, 기계 간 통신, 데이터 분석과 같은 IoT 기술을 지원하는 클라우드 플랫폼이지만 결국 이를 넘어 인공지능이 접목될 수밖에 없음을 의미하기도 한다. 실제 Predix는 이제 단순한 기계 간 연결, 정보 수집의 단 계를 넘어서 기계들이 정보를 분석하고 상황에 따라 능동적으로 작업을 수행하는 방향으로 발전하고 있다.</p>
<h4 id="국내-AI-플랫폼-20"><a href="#국내-AI-플랫폼-20" class="headerlink" title="국내 AI 플랫폼 [^20]"></a>국내 AI 플랫폼 [^20]</h4><table>
<thead>
<tr>
<th>기업</th>
<th>플랫폼</th>
<th>특징</th>
</tr>
</thead>
<tbody><tr>
<td>삼성</td>
<td>빅스비</td>
<td></td>
</tr>
<tr>
<td>LG</td>
<td>구글 어시스턴트</td>
<td></td>
</tr>
<tr>
<td>SKT</td>
<td>누구</td>
<td></td>
</tr>
<tr>
<td>KT</td>
<td>기가지니</td>
<td></td>
</tr>
<tr>
<td>네이버</td>
<td>쇼핑톡톡(아미카)</td>
<td></td>
</tr>
<tr>
<td>SK 플래닛</td>
<td>바로</td>
<td></td>
</tr>
<tr>
<td>카카오톡</td>
<td>카카오톡 플러스 친구</td>
<td></td>
</tr>
</tbody></table>
<h3 id="주요-분야"><a href="#주요-분야" class="headerlink" title="주요 분야"></a>주요 분야</h3><p>2016년 주요 기업의 인공지능 분야 M&amp;A [^3]</p>
<table>
<thead>
<tr>
<th>년도</th>
<th>인수 기업</th>
<th>피인수 기업</th>
<th>기술&#x2F;사업 요약</th>
</tr>
</thead>
<tbody><tr>
<td>2013</td>
<td>Google</td>
<td>DNNresearch</td>
<td>딥러닝 및 Neutral Network 기반 이미지 검색 기술</td>
</tr>
<tr>
<td></td>
<td>Intel</td>
<td>Indisys</td>
<td>자연어 처리 및 대화형 인공지능 서비스 기술</td>
</tr>
<tr>
<td></td>
<td>Yahoo</td>
<td>IQ Engines</td>
<td>이미지 인식 기술 (이미지 내 객체 인식)</td>
</tr>
<tr>
<td></td>
<td>Yahoo</td>
<td>LookFlow</td>
<td>이미지 인식 및 사물의 종류 분류 기술</td>
</tr>
<tr>
<td></td>
<td>Yahoo</td>
<td>SkyPhrase</td>
<td>자연어 인식 및 처리 기술</td>
</tr>
<tr>
<td></td>
<td>Google</td>
<td>DeepMind</td>
<td>딥러닝 및 자가&#x2F;강화 학습 기술</td>
</tr>
<tr>
<td>2014</td>
<td>IBM</td>
<td>Cogenea</td>
<td>인공지능 기반의 가상형 비서 서비스</td>
</tr>
<tr>
<td></td>
<td>Twitter</td>
<td>Madbits</td>
<td>딥러닝 기반의 인공지능 플랫폼 구현</td>
</tr>
<tr>
<td></td>
<td>Google</td>
<td>Jetpac</td>
<td>SNS내 사진 분석을 통한 지능형 여행 가이드 서비스</td>
</tr>
<tr>
<td></td>
<td>Google Deepmind</td>
<td>Dark Blue Labs</td>
<td>딥러닝 기반의 자연어 처리 기술</td>
</tr>
<tr>
<td></td>
<td>Google Deepmind</td>
<td>Vision Factory</td>
<td>딥러닝 기반의 텍스트 인식 기술</td>
</tr>
<tr>
<td>2015</td>
<td>Facebook</td>
<td>Wit.ai</td>
<td>자연어를 통한 스마트홈 및 로봇 분야의 서비스 제어 기술</td>
</tr>
<tr>
<td></td>
<td>IBM</td>
<td>AlchemyAPI</td>
<td>클라우드 기반의 자연어 처리 기술 (핵심 키워드 추출 및 주제 분류)</td>
</tr>
<tr>
<td></td>
<td>Twitter</td>
<td>Whetlab</td>
<td>머신러닝 최적화 기술 (속도, 성능)</td>
</tr>
<tr>
<td></td>
<td>Apple</td>
<td>Vocal IQ</td>
<td>음성 인식 처리 기술 (인간과 대화형 서비스)</td>
</tr>
<tr>
<td></td>
<td>Amazon</td>
<td></td>
<td>영상 처리를 통한 사물 인식 기술</td>
</tr>
<tr>
<td></td>
<td>Intel</td>
<td></td>
<td>인지 컴퓨팅 기술</td>
</tr>
<tr>
<td></td>
<td>Apple</td>
<td></td>
<td>인간의 감정 변화 분석 기술</td>
</tr>
<tr>
<td>~2016&#x2F;4</td>
<td>NICe Systems</td>
<td>Nexidia</td>
<td>비정형화 된 오디오, 비디오, 텍스트 데이터 검색 기술</td>
</tr>
<tr>
<td></td>
<td>Salesforce</td>
<td>PredictionIO</td>
<td>오픈소스 기반의 머신러닝 서버 구축</td>
</tr>
<tr>
<td></td>
<td>Salesforce</td>
<td>MetaMind</td>
<td>인공지능 기반의 개인 맞춤화 고객 관리 서비스</td>
</tr>
</tbody></table>
<h3 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h3><p>[^1]: <a target="_blank" rel="noopener" href="http://www.econovill.com/news/articleView.html?idxno=306532">이코노믹 리뷰, “빠지는데 없는 감초 아마존 인공지능 알렉사”</a>, 2017-1-8</p>
<p>[^2]: <a target="_blank" rel="noopener" href="https://www.forbes.com/sites/alexkonrad/2016/01/29/new-ibm-watson-chief-david-kenny-talks-his-plans-for-ai-as-a-service-and-the-weather-company-sale/#471546d86693">IBM Watson 임원 David Jenny가 AI as a Service 시대를 예견</a></p>
<p>[^3]: <a target="_blank" rel="noopener" href="http://www.lgeri.com/uploadFiles/ko/pdf/ind/LGBI1405-02_20160511131855.pdf">“인공지능 플랫폼 경쟁이 시작되고 있다.”</a>, 이승훈, LGERI, 2016. 5. 11.</p>
<p>[^20]: <a target="_blank" rel="noopener" href="http://www.itfind.or.kr/trend/trend/hotIssue/read.do?selectedId=0000000754&pageSize=10&pageIndex=0">인공지능 플랫폼 동향과 정책적 시사점</a>, 2017-05-12</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-05-20T00:00:00.000Z" title="2017-5-20 9:00:00">2017-05-20</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:42.087Z" title="2022-2-25 1:16:42">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Photoshop/">Photoshop</a></span><span class="level-item">8분안에 읽기 (약 1131 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/05/20/photoshop/2017-05-20-photoshop-clipping-mask/">Photoshop Clipping Mask</a></h1><div class="content"><p>클리핑 마스크는 원본 이미지에 다른 이미지를 합성할 때 유용하다.</p>
<h2 id="클리핑-마스크-Clipping-Mask"><a href="#클리핑-마스크-Clipping-Mask" class="headerlink" title="클리핑 마스크 Clipping Mask"></a>클리핑 마스크 Clipping Mask</h2><p><code>Clipping-Mask</code>는 원본의 특정 영역에, 클리핑 마스크로 다독거린 이미지로 매스킹해서 깔끔하게 합성한 이미지를 표현한다. 그래서 클리핑 마스크는 원본 이미지에 다른 이미지를 합성할 때 유용하다. 원본 이미지에서 일분 영역만을 <code>Clipping-Mask</code> 이미지로 대입해서 표현할 수 있다.</p>
<h3 id="노트북-사진의-배경-변경하기"><a href="#노트북-사진의-배경-변경하기" class="headerlink" title="노트북 사진의 배경 변경하기"></a>노트북 사진의 배경 변경하기</h3><p>여기서 사용한 방법은 이곳 블로그([^1]) 를 참조해서 연습했다 - <em>링크에 있는 스마트폰 배경을 클리핑하는 과정은 자세히 설명되어 있다.</em></p>
<p>아래 그림 같이 왼쪽 맥북 화면에 F1 배경 이미지를 <code>Clipping Mask</code>를 넣어 보자.</p>
<p><img src="/images/photoshop/clipping-mask-sample.png">{:width&#x3D;”800”}</p>
<p>[그림. 노트북에 배경을 클리핑한 예제]</p>
<p>이미지 준비:</p>
<pre><code>1. 배경 이미지를 하나.
2. 노트북 이미지 하나.
</code></pre>
<h3 id="노트북-배경-만들기"><a href="#노트북-배경-만들기" class="headerlink" title="노트북 배경 만들기:"></a>노트북 배경 만들기:</h3><ol>
<li><p>배경 이미지를 합성할 노트북 이미지를 가져와서 <em>노트북</em> 이란 레이어로 만든다.</p>
</li>
<li><p>이미지에서 배경을 대입할 영역을 Lasso 같은 툴로 선택한다. 선택된 상태에서 *레이어복제 (Ctrl+J, Cmd+J)*를 실행하면, 선택한 부분만 새 레이어로 만들어 지는데, 이 이름을 <em>타겟</em> 이라고 하겠다.</p>
</li>
<li><p><em>타겟</em>에 넣을 이미지를 가져와서, 레이어 혹은 스마트 오브젝트 등으로 추가해 레이어를 <em>배경</em> 으로 하자</p>
</li>
<li><p>레이어 패널에서 <em>배경</em> 레이어와 <em>타겟</em> 레이어 사이를 <strong>Alt+클릭</strong> 혹은 <strong>Ctrl+Alt+g</strong>키를 누르면 Clipping Mask가 생성되서 <em>배경</em>이 클리핑 마스크한 <em>타겟</em>에만 보이게 된다.</p>
</li>
</ol>
<p><img src="/images/photoshop/clipping-mask-sample4.png">{:width&#x3D;”800”}</p>
<p>[그림. 레이어 패널 상태와 <em>배경</em>을 클리핑한 상태]</p>
<ol start="5">
<li><p><em>노트북</em> 이미지 누운 경사와 <em>배경</em>을 맞추려면 배경 레이어에서 Transform 으로 조절하면 된다. <code>Edit -&gt; Transform -&gt; Skew</code> 로 조절할 수 있다.</p>
</li>
<li><p>클리핑 마스크 이미지가 <em>타겟</em>에 보여지지만 <em>노트북</em> 이미지를 가리는 부분이 생길 수 있다 - 여기서는 맥북의 Dock이 가려져 보인다.<br>이때는 <em>노트북</em> 레이어에서 <em>배경</em> 마스크에 보이게 하려면, <em>노트북</em> 레이어를 <code>Lasso</code>, <code>Maque</code>, <code>Eraser</code> 등으로 지워주면 원하는 모습에 가까와 진다.</p>
</li>
</ol>
<h3 id="사진에서-원하는-부분-지우기"><a href="#사진에서-원하는-부분-지우기" class="headerlink" title="사진에서 원하는 부분 지우기"></a>사진에서 원하는 부분 지우기</h3><p>이미지나 사진에서 원하는 부분만 남기고 나머지를 지우는 작업을 많이 하게 되는데 이때도 <code>Clipping-Mask</code>를 사용하면 깔끔하게 된다. </p>
<p><img src="/images/photoshop/clipping-mask-sample6.png">{:width&#x3D;”600”}</p>
<p>작업할 사진&#x2F;이미지를 가져온다. 여기서 앞의 F1 배경 사진에서 <em>레드불 RB16</em> 차를 뒤 배경 아스팔트와 잔디로 채우는 작업을 클리핑마스크와 스탬프 도구를 함께 사용하면 두드러지지 않게 차를 지울 수 있다. </p>
<ol>
<li>가져온 이미지를 *레이어복제(Ctrl+J, Cmd+J)*한다. 복제한 레이어 이름을 <em>work</em>으로 하겠다.</li>
<li><em>work</em> 이미지에서 Pen, Maque, Lasso 같은 도구로 사라지게 할 영역을 둘러싸고 선택영역으로 만든다.</li>
<li>선택영역 상태에서 레이어 패널에서 <em>레이어복제(Ctrl+J, Cmd+J)</em> 해서 레이어 이름을 <em>대상</em>으로 하겠다.</li>
<li>이 <em>대상</em> 레이어 위헤 빈 레이어를 하나 만들고 레이어 이름을 <em>클리핑</em> 이라고 하자, <em>대상</em>과 <em>클리핑 레이어</em> 사이를 Alt+클릭 하면 <em>클리핑</em>레이어가 클리핑 마스크로 전환된다.</li>
<li><em>work</em> 레이어에서 <code>Stamp</code> 툴을 선택하고, 교체할 영역을 <em>Alt+클릭</em>으로 지정해 준다. 그리고 <em>클리핑</em> 레이어를 선택하고 바꿀 이미지 영역을 클릭해주면 원본 손상없이 클리핑마스크 영역만 원하는 이미지 영역으로 스탬프로 복제하게 된다.</li>
</ol>
<p><img src="/images/photoshop/clipping-mask-sample5.png">{:width&#x3D;”400”}</p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p>[^1]: <a target="_blank" rel="noopener" href="http://rollstory.tistory.com/entry/%ED%8F%AC%ED%86%A0%EC%83%B5%ED%81%B4%EB%A6%AC%ED%95%91-%EB%A7%88%EC%8A%A4%ED%81%AC%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9D%B4%EB%AF%B8%EC%A7%80-%ED%8B%80%EC%95%88%EC%97%90-%EC%89%BD%EA%B2%8C-%EB%84%A3%EA%B8%B0">클리핑마스크 활용한 이미지 틀안에 쉽게 넣기</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-05-05T00:00:00.000Z" title="2017-5-5 9:00:00">2017-05-05</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:15:34.963Z" title="2022-2-25 1:15:34">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">6분안에 읽기 (약 939 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/05/05/linux/2017-05-05-tmux-cheatsheet/">Tmux cheatsheet</a></h1><div class="content"><blockquote>
<ul>
<li>2017-07-14: 윈도우에서 session 관리</li>
<li>2017-07-10: tmux copy &amp; paste<br>{:.right-history}</li>
</ul>
</blockquote>
<p>터미널 명령은 <code>$ tmux</code> 로 표현하고, Tmux window 에서 Prefix key 키 조합은 는 <em>C</em>{:.keyword} 표기하고, Meta key인 <code>Alt</code>는 <em>M</em>{:.keyword}으로 표기한다 - <a target="_blank" rel="noopener" href="http://localhost:4000/linux/tmux/2017/05/04/tmux-start.html">Tmux Start</a> 참조.</p>
<p>여기서는 <em>.tmux.conf</em> 에서 기능키&#x2F;메타키 연결해서 기본 Prefix key인 <code>Ctrl+b</code> 를 <code>Ctrl+a</code>로 묶었다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g prefix C-a</span><br><span class="line"><span class="built_in">bind</span> C-a send-prefix</span><br><span class="line">unbind C-b</span><br></pre></td></tr></table></figure>



<h2 id="Tmux-명령"><a href="#Tmux-명령" class="headerlink" title="Tmux 명령"></a>Tmux 명령</h2><p>tmux는 세션을 만들고, 세션에서 window를 구성하고, window 안에 pane을 사용한다.</p>
<h3 id="새로운-세션-시작하기"><a href="#새로운-세션-시작하기" class="headerlink" title="새로운 세션 시작하기"></a>새로운 세션 시작하기</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tmux                        <span class="comment">#새로운 새션</span></span><br><span class="line">$ tmux new -s session_name    <span class="comment">#session_name으로 새로운 세션</span></span><br></pre></td></tr></table></figure>

<p>세션을 dettach하면 세션은 저장된다. 사용하지 않으면 <strong>kill</strong>로 종료한다.</p>
<h3 id="세션-이용하기"><a href="#세션-이용하기" class="headerlink" title="세션 이용하기"></a>세션 이용하기</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ tmux <span class="built_in">ls</span></span><br><span class="line">$ tmux list-session</span><br><span class="line">$ tmux list-windows         <span class="comment"># Window 목록</span></span><br></pre></td></tr></table></figure>

<h4 id="열린-세션에-붙기"><a href="#열린-세션에-붙기" class="headerlink" title="열린 세션에 붙기."></a>열린 세션에 붙기.</h4><ul>
<li>세션 번호중 낮은 번호에 우선해서 접속한다.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ tmux attach</span><br><span class="line">$ tmux at</span><br><span class="line">$ tmux a</span><br></pre></td></tr></table></figure>

<h4 id="특정-세션에-접속하기"><a href="#특정-세션에-접속하기" class="headerlink" title="특정 세션에 접속하기"></a>특정 세션에 접속하기</h4><ul>
<li>세션 번호 혹은 이름으로 접속한다.</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tmux a -t session_name</span><br></pre></td></tr></table></figure>

<h4 id="세션-마감하기"><a href="#세션-마감하기" class="headerlink" title="세션 마감하기"></a>세션 마감하기</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tmux kill-session session_name</span><br></pre></td></tr></table></figure>

<p>Tmux로 접속한 session은 처음 한개의 Window를 갖는다. window 안에서 session, window, pane을 관리한다. 각 윈도우는 한 개 이상의 Pane 구획으로 나누어 사용할 수 있다.</p>
<br/>

<h2 id="Tmux-Window"><a href="#Tmux-Window" class="headerlink" title="Tmux Window"></a>Tmux Window</h2><p>현재 세션 이용</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C-s            #Session 목록</span><br><span class="line">C-$            #Session 이름 변경</span><br></pre></td></tr></table></figure>

<h3 id="window-사용하기"><a href="#window-사용하기" class="headerlink" title="window 사용하기"></a>window 사용하기</h3><p>세션에서 여러 윈도우를 추가 해서 사용할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C-c          #새로운 윈도우 생성</span><br></pre></td></tr></table></figure>

<p>여러 윈도우는 윈도우 순서에 따라 현재 윈도우 화면을 교환 할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">C-w          #윈도우 목록</span><br><span class="line">C-1 ...      #지정 윈도우 번호로 전환: 0,1,...</span><br><span class="line">C-p          #이전 윈도우로 이동</span><br><span class="line">C-n          #다음 윈도우로 이동</span><br><span class="line">C-l          #가장 마지막 윈도우로 이동</span><br><span class="line">C-,          #현재 윈도우 이름 변경</span><br><span class="line">C-&amp;          #현재 윈도우 제거</span><br></pre></td></tr></table></figure>

<p>현재 세션에서 나온다. 세션은 백그라운드에서 실행된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C-d          #현재 세션을 빠져 나온다 (detach)</span><br><span class="line">C-D          #빠져나올 세션을 선택할 수 있다.</span><br></pre></td></tr></table></figure>

<h3 id="Tmux-pane"><a href="#Tmux-pane" class="headerlink" title="Tmux pane"></a>Tmux pane</h3><p>Tmux window를 여러 분할면 pane으로 나눠 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">C-%          #수직으로 나누기</span><br><span class="line">C-&quot;          #수평으로 나누기</span><br><span class="line">C-z          #현재 pane 확대 및 돌아오기</span><br><span class="line">C-&#123;          #현재 pane을 이전 pane 위치로 이동</span><br><span class="line">C-&#125;          #현재 pane을 다음 pane 위치로 이동</span><br><span class="line">C-Arrow      #앞,뒤 pane을 방향키로 이동</span><br><span class="line">C-M+Arrow    #pane 크기를 방향키에 따라 변경</span><br><span class="line">C-spacebar   #pane 방향 전환 (수직&lt;-&gt;수평)</span><br><span class="line">C-!          #현재 pane을 새 window로 분리</span><br><span class="line">C-x          #pane 종료</span><br><span class="line">C-[          #pane에서 스크롤 기능을 활성화</span><br></pre></td></tr></table></figure>


<h3 id="Session-transition"><a href="#Session-transition" class="headerlink" title="Session transition"></a>Session transition</h3><p>Tmux window 상태에서 여러 세션 사이의 전환 단축키;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C-$          # 현재 세션 이름 바꾸기</span><br><span class="line">C-(          # 이전 세션으로 전환</span><br><span class="line">C-)          # 다음 세션으로 전환</span><br><span class="line">C-L          # 사용한 세션중 마지막 세션으로 전환</span><br><span class="line">C-s          # 사용 가능한 세션 목록</span><br></pre></td></tr></table></figure>


<h3 id="Tmux-copy-amp-paste"><a href="#Tmux-copy-amp-paste" class="headerlink" title="Tmux copy &amp; paste"></a>Tmux copy &amp; paste</h3><p><code>tmux</code> 는 자체 버퍼에 터미널에서 선택한 영역의 텍스트를 복사해서 사용할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C-[         # copy mode</span><br><span class="line">Ctrl+space  # 복사할 영역을 선택한다. 터미널에 영역이 선택되어 보인다.</span><br><span class="line">Ctrl+w      # 선택한 영역을 복사한다.</span><br><span class="line">C-]         # 붙여 넣는다.</span><br></pre></td></tr></table></figure>

<p>단, 시스템 버퍼는 별도의 플러그인을 사용한다.</p>
<h4 id="Copy-with-mouse-drag"><a href="#Copy-with-mouse-drag" class="headerlink" title="Copy with mouse drag"></a>Copy with mouse drag</h4><p><strong>mouse mode</strong>를 활성화 하면 터미널에서 마우스 드래그로 텍스트를 선택하면 tmux buffer에 복사되게 한다. <em>.tmux.conf</em> 파일에 다음 구성을 추가한다:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g mouse on</span><br></pre></td></tr></table></figure>


<!--
## 참조

 [spicycode/tmux.conf](https://gist.github.com/spicycode/1229612) 
 [My Tmux Configuration](http://zanshin.net/2013/09/05/my-tmux-configuration/)--></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-05-03T22:00:00.000Z" title="2017-5-4 7:00:00">2017-05-04</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:15:34.962Z" title="2022-2-25 1:15:34">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">18분안에 읽기 (약 2733 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/05/04/linux/2017-05-04-tmux-start/">Tmux Start</a></h1><div class="content"><blockquote>
<p>2017-07-10: tmux-continum 추가<br>{:.right-history}</p>
</blockquote>
<p>Tmux는 terminal multiplexer로 서버에 여러 프로그램을 세션에 저장하고, 다른 작업 혹은 연결을 끊었다 다시 접속해서 세션을 열어 작업을 이어갈 수 있다.</p>
<p><img src="https://tmux.github.io/ss-tmux2.png">{: width&#x3D;”600”}</p>
<p>[그림. Tmux 실행 모습  (tmux.github.io)]</p>
<h2 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h2><p>여기서는 tmux 2.x 이상을 사용한다.</p>
<ul>
<li>Ubuntu 14.04, Raspbian Jessie, Armbian 등에서 tmux가 1.8, 1.9 버전이 제공</li>
<li>Ubuntu 15, 16 Xenivior 버전은 Tmux 2.1</li>
<li>macOS는 <code>brew</code> 를 사용한다.</li>
</ul>
<h3 id="Tmux-2-3-설치"><a href="#Tmux-2-3-설치" class="headerlink" title="Tmux 2.3 설치"></a>Tmux 2.3 설치</h3><p>이전 Ubuntu 14.04, Raspbian 등에서 tmux가 1.8, 1.9 버전이 제공되는데 package manager 같은 기능을 사용할 수 없다. 소스로 빌드해서 사용할 수 있다.</p>
<blockquote>
<p>Ubuntu 14.04 desktop, orangepi plus, raspberry pi jessie 초기 버전에서 빌드</p>
</blockquote>
<h4 id="소스-설치"><a href="#소스-설치" class="headerlink" title="소스 설치"></a>소스 설치</h4><p>혹시 모르니 기존 낮은 버전의 tmux를 삭제하고 시작해 보자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt remove --purge tmux</span><br></pre></td></tr></table></figure>

<p>소스를 <a target="_blank" rel="noopener" href="https://github.com/tmux/tmux/releases/">https://github.com/tmux/tmux/releases/</a> 에서 최신 버전으로 다운로드 하고 빌드한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install -y libevent-dev libncurses-dev</span><br><span class="line">wget https://github.com/tmux/tmux/releases/download/2.3/tmux-2.3.tar.gz</span><br><span class="line">tar xvzf tmux-2.3.tar.gz</span><br><span class="line"><span class="built_in">cd</span> tmux-2.3/</span><br><span class="line">./configure &amp;&amp; make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>


<h4 id="deb-바이너리-설치"><a href="#deb-바이너리-설치" class="headerlink" title="deb 바이너리 설치"></a>deb 바이너리 설치</h4><blockquote>
<p>단, libtinfo5 6.x 설치시 의존성 라이브러리 문제로 패키지 삭제 문제 발생!!!</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://launchpad.net/ubuntu/yakkety/amd64/tmux/2.2-3">https://launchpad.net/ubuntu/yakkety/amd64/tmux/2.2-3</a> 에 빌드되어 있는 바이너리를 Ubuntu 14.04 설치하기 위해서 다음 패키지 버전이 필요하다.</p>
<p>Depends on:</p>
<ul>
<li>libc6 (&gt;&#x3D; 2.14)</li>
<li>libevent-2.0-5 (&gt;&#x3D; 2.0.10-stable)</li>
<li>libtinfo5 (&gt;&#x3D; 6)</li>
<li>libutempter0 (&gt;&#x3D; 1.1.5)</li>
</ul>
<blockquote>
<p>기본 설치후 업그레이드를 했다면 libc6 버전은 문제가 없는듯.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-cache show libc6</span><br><span class="line">$ sudo apt-cache show libtinfo5</span><br></pre></td></tr></table></figure>

<p>Ubuntu14.04.4 LTS 버전의 libtinfo5는 5.9로 다음 같이 설치해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://launchpadlibrarian.net/271601076/libtinfo5_6.0+20160625-1ubuntu1_amd64.deb</span><br></pre></td></tr></table></figure>

<p>그리고 tmux 2.2 버전의 deb 를 다운로드한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://launchpadlibrarian.net/263289132/tmux_2.2-3_amd64.deb</span><br></pre></td></tr></table></figure>

<p>설치</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dpkb -i libtinfo5_6.0+20160625-1ubuntu1_amd64.deb</span><br><span class="line">$ sudo dpkb -i tmux_2.2-3_amd64.deb</span><br></pre></td></tr></table></figure>

<p>이제 <code>tmux</code> 명령으로 다중 터미널 명령을 사용할 수 있다.</p>
<h4 id="macOS에서-tmux-설치"><a href="#macOS에서-tmux-설치" class="headerlink" title="macOS에서 tmux 설치"></a>macOS에서 tmux 설치</h4><p>homebrew를 사용해서 tmux를 설치한다. 2017년 현재 2.4 버전이 설치된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install tmux</span><br></pre></td></tr></table></figure>

<p>이제 tmux 명령으로 시작할 수 있다.</p>
<h2 id="시작"><a href="#시작" class="headerlink" title="시작"></a>시작</h2><p>tmux 를 시작하면 하나의 세션에 하나의 윈도우가 만들어 진다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tmux                   # 세션을 시작하고 참가한다.</span><br><span class="line">$ tmux new -s foo        # 세션 foo를 시작하고 참가한다</span><br></pre></td></tr></table></figure>

<p>세션에 참가하면 하나 혹은 그 이상의 윈도우에서 Pane을 배치해 사용할 수 있다.</p>
<p><img src="/images/tmux/tmux-screen-layout.png">{: width&#x3D;”600”}<br>[그림. Tmux window layout]</p>
<h4 id="Control와-Meta-key"><a href="#Control와-Meta-key" class="headerlink" title="Control와 Meta key"></a>Control와 Meta key</h4><p>Tmux 세션 참가후 Window에서는 Prefix key로 Session, Window, Pane 관련 명령을 키로 조합해 사용한다. 기본 Prefix key는 <code>Control+b</code> key고 옵션으로 사용하는 Meta key는 <code>Alt</code> 키 이다. </p>
<p>여기서 Prefix key는 <strong>C</strong>와 조합으로 표기하고, Meta key인 <code>Alt</code>는 <strong>M</strong>으로 표기한다.</p>
<p>윈도우 명령 control, meta 키 조합과 병행해 윈도우에서 명령모드를 사용할 수 있다. 명령모드는 <strong>C-:</strong> 키로 시작하고, 명령모드에서 <strong>명령 자동 완성</strong>을 지원한다.</p>
<p><img src="/images/tmux/tmux-screen-command-window2.png">{: width&#x3D;”600”}<br>[그림. Window command mode]</p>
<h4 id="Pane-다루기"><a href="#Pane-다루기" class="headerlink" title="Pane 다루기"></a>Pane 다루기</h4><p>윈도우는 수직&#x2F;수평으로 구획을 나눌수 있다. <strong>C-“</strong> 키로 현재 Pane 아래에 수평으로 새 Pane을 나눈다. 그리고 **C-%**키로 수직으로 새 Pane을 나눌 수 있다.</p>
<p><img src="/images/tmux/tmux-screen-pane.png">{: width&#x3D;”600”}<br>[그림. Tmux Window Pane]</p>
<ul>
<li>C-q : pane 번호를 표시하고 번호를 눌러서 이동</li>
<li>C-o : pane을 순서대로 이동</li>
<li>C-방향키 : 해당 방향으로 이동</li>
<li>C-M-방향키 : 해당 방향으로 크기 조절</li>
<li>C-M-1~5 : 몇 가지 미리 설정된 레이아웃을 고를 수 있고, prefix space로 이 레이아웃을 순서대로 - 돌아가며 선택 가능</li>
<li>C-z : 특정화면만 확대하기 다시 예전 Panes상태로 돌아오기</li>
</ul>
<p>Pane을 지우려면 터미널 <code>exit</code> 명령 혹은 <strong>C-x</strong> 키로 빠져 나올 수 있다.</p>
<h4 id="Window-다루기"><a href="#Window-다루기" class="headerlink" title="Window 다루기"></a>Window 다루기</h4><p>윈도우는 명령모드에서 <code>new-window</code> 혹은 <strong>C-c</strong> 키로 새 윈도우를 추가할 수 있다.</p>
<p><img src="/images/tmux/tmux-screen-new-window2.png">{: width&#x3D;”600”}<br>[그림. new Window ]</p>
<p>윈도우 사이의 이동은 윈도우 번호에 따라 단축키 <strong>C-0,1,2…9</strong>를 사용하거나 <strong>C-w</strong>로 윈도우 목록에서 선택해 이동할 수 있다.</p>
<ul>
<li>C-n, C-p : 다음 윈도우, 이전 윈도우로 이동</li>
<li>C-l : 직전 사용하던 윈도우로 이동</li>
<li>C-w : 윈도우 리스트를 띄우고 선택</li>
<li>C-, : 윈도우 이름 바꾸기</li>
</ul>
<p>세션 사용중에 세션을 빠져 나오려면 <strong>C-d</strong> 로 detach 하거나, 명령모드 <code>C-:</code>에서 detach 명령을 준다.</p>
<h4 id="복사와-스크롤"><a href="#복사와-스크롤" class="headerlink" title="복사와 스크롤"></a>복사와 스크롤</h4><p>Tmux 화면 버퍼는 한 화면분 밖에 안되서, 이전 화면 내용을 보려면 스크롤 기능을 켜야 한다. <strong>C+[</strong> 키는 스크롤 키고, 우측상단에 페이지 표시가 나타난다. 키보드 방향키나 Page Up&#x2F;Down키로 스크롤이 가능하다.</p>
<p><img src="/images/tmux/tmux-scroll.png"></p>
<h4 id="세션-연결"><a href="#세션-연결" class="headerlink" title="세션 연결"></a>세션 연결</h4><p>세션은 하나 혹은 그 이상 만들고 <code>attach</code> 명령으로 세션에 참가할 수 있다. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ tmux new -s foo -d     # 세션 foo를 시작하고 빠져나온다.</span><br><span class="line">$ tmux ls                # 세션 목록을 출력한다.</span><br><span class="line">0: 1 windows (created Fri May 12 10:26:00 2017) [80x24] (attached)</span><br><span class="line">foo: 1 windows (created Fri May 12 10:34:18 2017) [80x24]</span><br></pre></td></tr></table></figure>

<p>터미널에서 세션에 참가하려면 <code>attach</code> 명령과 대상 세션을 지정해 준다. 대상 세션은 <code>tmux ls</code> 명령에 표시되는 세션번호 혹은 세션이름을 지정한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ tmux attach</span><br><span class="line">$ tmux attach -t 0       # 세션 0번에 참여한다</span><br><span class="line">$ tmux attach -t foo     # 세션 foo에 참여한다.</span><br></pre></td></tr></table></figure>

<p>세션을 완전히 종료 시키려면, tmux 세션에서 명령모드 <strong>C-:</strong> 에서 <em>kill-session</em> 명령을 실행한다.<br>혹은 다른 터미널에서 세션번호 혹은 세션 이름으로 종료한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tmux kill-session -t 3   # 세션번호 3을 종료한다.</span><br></pre></td></tr></table></figure>



<h3 id="설정파일-tmux-conf"><a href="#설정파일-tmux-conf" class="headerlink" title="설정파일 .tmux.conf"></a>설정파일 <strong>.tmux.conf</strong></h3><p>사용자 홈디렉토리에 <em>.tmux.conf</em> 파일에 tmux에 대한 설정을 명시할 수 있다.</p>
<h4 id="Control-a-사용하기"><a href="#Control-a-사용하기" class="headerlink" title="Control + a 사용하기"></a>Control + a 사용하기</h4><p>Capslock키를 Control 키로 대체해 사용하면, Control+a 키 조합이 편하다. .tmux.conf 에 키 조합을 변경한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#Control+a에 &#x27;prefix&#x27; 연결</span><br><span class="line">set -g prefix C-a</span><br><span class="line">#send-prefix를 Control+a에 전달</span><br><span class="line">bind C-a send-prefix</span><br><span class="line">unbind C-b</span><br></pre></td></tr></table></figure>

<p>위에서 prefix는 <strong>C-a</strong> 로 재배치된다.</p>
<h4 id="Mouse-On-x2F-Off"><a href="#Mouse-On-x2F-Off" class="headerlink" title="Mouse On&#x2F;Off"></a>Mouse On&#x2F;Off</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Toggle mouse on with META m</span><br><span class="line">bind m \</span><br><span class="line">    set-option -g mouse on \;\</span><br><span class="line">    display &#x27;Mouse: ON&#x27;</span><br><span class="line"></span><br><span class="line"># Toggle mouse off with META M</span><br><span class="line">bind M \</span><br><span class="line">    set-option -g mouse off \;\</span><br><span class="line">    display &#x27;Mouse: OFF&#x27;</span><br></pre></td></tr></table></figure>




<h2 id="Plugin-manager"><a href="#Plugin-manager" class="headerlink" title="Plugin manager"></a>Plugin manager</h2><p><a target="_blank" rel="noopener" href="https://github.com/tmux-plugins/tpm">Tmux Pluin Manager</a> 를 설치하고, tmux 기능을 확장할 수 있다.</p>
<h3 id="tpm-설치"><a href="#tpm-설치" class="headerlink" title="tpm 설치"></a>tpm 설치</h3><p>먼저 사용자 홈 디렉토리에 저장한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm</span><br></pre></td></tr></table></figure>

<p>다음 설정을 tmux.conf 에 저장한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># List of plugins</span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tpm&#x27;</span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tmux-sensible&#x27;</span><br><span class="line">set -g @plugin &#x27;tmux-plugins/tmux-resurrect&#x27;</span><br><span class="line"></span><br><span class="line"># Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)</span><br><span class="line">run &#x27;~/.tmux/plugins/tpm/tpm&#x27;</span><br></pre></td></tr></table></figure>

<h4 id="plugin-관리"><a href="#plugin-관리" class="headerlink" title="plugin 관리"></a>plugin 관리</h4><p>플러그인 설치를 위해서 <strong>C-I</strong> (대문자) 를 실행<br>플러그인 업그레이드를 위해서 <strong>C-U</strong> 를 실행</p>
<ul>
<li>플러그인 목록에서 플러그인을 선택하고 C-M-u (소문자)</li>
</ul>
<h3 id="Tmux-Resurrection"><a href="#Tmux-Resurrection" class="headerlink" title="Tmux-Resurrection"></a>Tmux-Resurrection</h3><p><em>tmux-resurrect</em>{:.keyword}는 tmux 세션을 백업&#x2F;복구 할 수 있는 플러그인이다. tmux.conf에 다음을 추가</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @plugin <span class="string">&#x27;tmux-plugins/tmux-resurrect&#x27;</span></span><br></pre></td></tr></table></figure>

<p>플러그인 설치를 위해서 <strong>C-I</strong> 를 실행하면 설치를 시작한다.</p>
<p>Resurrection 플러그인으로 백업&#x2F;복구하는 키는 다음 같이 지정되어 있다:</p>
<ul>
<li>C-s : save</li>
<li>C-r : restore</li>
</ul>
<h3 id="Tmux-continuum"><a href="#Tmux-continuum" class="headerlink" title="Tmux-continuum"></a>Tmux-continuum</h3><p><em>tmux-resurrect</em>{:.keyword} 에서 저장한 환경을 자동으로 저장&#x2F;복구할 수 있는 플러그인이다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/tmux-plugins/tmux-continuum">tmux-continuum</a></li>
</ul>
<p><em>tmux-continuum</em>{:.keyword} 의 주요 기능은:</p>
<ul>
<li><em>tmux</em>{:.keyword} 환경을 15분 마다 자동 저장</li>
<li>컴퓨터&#x2F;서버 시작시 <em>tmux</em>{:.keyword} 자동 시작</li>
<li><em>tmux</em>{:.keyword} 시작시 자동 복구</li>
<li><strong>tmux 1.9</strong> 이상, bash, <strong>tmux-resurrect</strong> plugin</li>
</ul>
<h4 id="설치-1"><a href="#설치-1" class="headerlink" title="설치"></a>설치</h4><p><strong>.tmux.conf</strong> 파일에 아래 플러그인을 추가:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @plugin <span class="string">&#x27;tmux-plugins/tmux-resurrect&#x27;</span></span><br><span class="line"><span class="built_in">set</span> -g @plugin <span class="string">&#x27;tmux-plugins/tmux-continuum&#x27;</span></span><br></pre></td></tr></table></figure>

<p>tmux 에서 플러그인 설치를 위해서 <strong>C-I</strong> (대문자) 를 실행</p>
<p>그리고 <strong>.tmux.conf</strong> 파일에 continuum-restore 을 on으로 해준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @continuum-restore <span class="string">&#x27;on&#x27;</span></span><br></pre></td></tr></table></figure>

<p>tmux 세션을 모두 나와서 tmux 서버를 모두 <code>kill-session</code> 같은 명령으로 종료시킨후 tmux를 다시 시작하면 <code>.tmux/resurrect</code> 에 저장된 마지막 세션이 복구되는 것을 확인할 수 있다.</p>
<p>이제부터 15분 마다 자동 저장하고 서버를 재시작한 후에 tmux를 다시 시작하면 저장한 환경을 자동으로 복구해 준다.</p>
<h4 id="tmux-status-표시"><a href="#tmux-status-표시" class="headerlink" title="tmux status 표시"></a>tmux status 표시</h4><p>tmux-continuum 의 상태를 tmux status line에 표시할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g status-right <span class="string">&#x27;Continuum status: #&#123;continuum_status&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="Linux에서-tmux-자동-시작"><a href="#Linux에서-tmux-자동-시작" class="headerlink" title="Linux에서 tmux 자동 시작"></a>Linux에서 tmux 자동 시작</h4><p>tmux-continuum 은 Linux systemd, macOS 에서 자동 시작을 지원한다.</p>
<p>Linux는 <code>.tmux.conf</code> 파일에 다음 부트 옵션을 추가한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @continuum-boot <span class="string">&#x27;on&#x27;</span></span><br></pre></td></tr></table></figure>

<p>그리고 현재 실행중인 세션에 변경한 설정을 적용하려면</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tmux source-file ~/.tmux.conf</span><br></pre></td></tr></table></figure>


<h4 id="macOS에서-tmux-자동-시작"><a href="#macOS에서-tmux-자동-시작" class="headerlink" title="macOS에서 tmux 자동 시작"></a>macOS에서 tmux 자동 시작</h4><p><code>.tmux.conf</code> 파일에 다음 부트 옵션을 추가한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @continuum-boot <span class="string">&#x27;on&#x27;</span></span><br></pre></td></tr></table></figure>

<p>그리고 현재 실행중인 세션에 변경한 설정을 적용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tmux source-file ~/.tmux.conf</span><br></pre></td></tr></table></figure>

<p>맥이 재시작 하면 자동으로 <code>Terminal.app</code> 이 실행된다. 터미널 크기는 다음 옵션으로 지정한다:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @continuum-boot-options <span class="string">&#x27;fullscreen&#x27;</span> <span class="comment"># terminal window will go fullscreen</span></span><br><span class="line"><span class="built_in">set</span> -g @continuum-boot-options <span class="string">&#x27;iterm&#x27;</span>    <span class="comment"># start iTerm instead of Terminal.app</span></span><br><span class="line"><span class="built_in">set</span> -g @continuum-boot-options <span class="string">&#x27;iterm,fullscreen&#x27;</span> <span class="comment"># start iTerm in fullscreen</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="다중-tmux-서버는-지원하지-않는다"><a href="#다중-tmux-서버는-지원하지-않는다" class="headerlink" title="다중 tmux 서버는 지원하지 않는다."></a>다중 tmux 서버는 지원하지 않는다.</h4><p>tmux 로 서버를 하나 시작하고, <code>tmux -S /tmp/foo</code> 같이 다른 소켓을 사용했다고 자동 저장&#x2F;복구가 별도로 진행되지 않는다. [^10]</p>
<blockquote>
<p>여기까지 설정한 내용은 <a target="_blank" rel="noopener" href="https://gist.github.com/qkboo/9915a6f76cd9b7e4986965e8f5e95f2e">qkboo&#x2F;tmux.conf</a> gist 에서 확인 가능.</p>
</blockquote>
<br/>
### 설정 저장

<p>tmux 설정을 위힌 default 파일이 존재하지 않는다는 점이다. 그래서 tmux 기본 설정을 어딘가 추출해서 보관해두면 다시 돌아오는데 편리하다. 현재 tmux에 설정된 값은 다음 명령어로 추출할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tmux show -g | sed &#x27;s/^/set-option -g /&#x27; &gt; ~/.tmux.current.conf</span><br></pre></td></tr></table></figure>

<p>tmux.conf를 적용하는 명령은 source-file이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tmux source-file ~/.tmux.current.conf</span><br></pre></td></tr></table></figure>



<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><ul>
<li><a target="_blank" rel="noopener" href="http://blog.hawkhost.com/2010/06/28/tmux-the-terminal-multiplexer/">Tmux-Part1</a></li>
<li><a target="_blank" rel="noopener" href="http://blog.hawkhost.com/2010/07/02/tmux-%E2%80%93-the-terminal-multiplexer-part-2/">Tmux-Part2</a></li>
<li><a target="_blank" rel="noopener" href="http://gypark.pe.kr/wiki/Tmux">Tmux 소개</a></li>
<li><a target="_blank" rel="noopener" href="http://haruair.com/blog/3437">tmux 사용에 도움되는 설정과 플러그인 정리</a></li>
<li><a target="_blank" rel="noopener" href="http://superuser.com/questions/209437/how-do-i-scroll-in-tmux">스크롤에 대한 의견</a></li>
<li><a target="_blank" rel="noopener" href="http://seonhyu-blog.tumblr.com/post/34612062806/%EB%A7%A5%EC%97%90%EC%84%9C-tmux-%ED%95%9C%EA%B8%80-%ED%8C%8C%EC%9D%BC%EB%AA%85-%EC%B6%9C%EB%A0%A5-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0">tmux-한글-파일명-출력-문제-해결하기</a></li>
</ul>
<p>[^10]: <a target="_blank" rel="noopener" href="https://github.com/tmux-plugins/tmux-continuum/blob/master/docs/multiple_tmux_servers.md">Behaviro when running multiple tmux servers</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-04-21T00:00:00.000Z" title="2017-4-21 9:00:00">2017-04-21</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:42:17.377Z" title="2022-2-25 1:42:17">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a><span> / </span><a class="link-muted" href="/categories/Linux/Database/">Database</a></span><span class="level-item">19분안에 읽기 (약 2860 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/04/21/linux-2017-04-21-mongodb-collections/">mongodb - Collection</a></h1><div class="content"><h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><p>mongoDB는<br>mongoDB는 Collection 이 데이터베이스 테이블과 같은 개념이다. 아래 테이블은 관계형 데이터베이스 MySQL과 MongoDB의 개념을 비교해 주고 있다. [^1]</p>
<table>
<thead>
<tr>
<th>MySQL</th>
<th>MongoDB</th>
</tr>
</thead>
<tbody><tr>
<td>Table</td>
<td>Collection</td>
</tr>
<tr>
<td>Row</td>
<td>Document</td>
</tr>
<tr>
<td>Column</td>
<td>Field</td>
</tr>
<tr>
<td>Joins</td>
<td>Embedded documents, linking</td>
</tr>
</tbody></table>
<h3 id="늦은-데이터베이스-생성-Lazy-Creation"><a href="#늦은-데이터베이스-생성-Lazy-Creation" class="headerlink" title="늦은 데이터베이스 생성 Lazy Creation"></a>늦은 데이터베이스 생성 Lazy Creation</h3><p><code>use</code> 명령은 데이터베이스가 존재하지 않으면 새로운 데이터베이스를 생성하고, 그리고 해당 데이터베이스로 전환한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; use mydb</span><br><span class="line">switched to db mydb</span><br></pre></td></tr></table></figure>

<p>그러나 mongodb는 <strong>lazy creation</strong> 방식을 채용해서 실제 데이터가 CRUD로 조작 될 때 컬렉션이 데이터베이스에 생성된다. <code>use DATABASE</code> 명령 만으로는 실제 데이터 저장공간이 만들어 지지 않는다. 아래같이 <code>show dbs</code> 를 실행해도 데이터베이스가 검색되지 않는다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; use first;</span><br><span class="line">switched to db first</span><br><span class="line"></span><br><span class="line">&gt; show dbs;</span><br><span class="line">local   (empty)</span><br><span class="line">test    <span class="number">0.</span>203125GB</span><br></pre></td></tr></table></figure>

<p>아래와 같이 <code>collection.save()</code> 함수로 새로운 컬렉션에 도큐멘트을 생성하면 데이터베이스 저장 공간에 컬렉션 안에 도큐멘트가 생성되면서 실제 데이터가 저장된다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">first</span>.<span class="title function_">save</span>(&#123; <span class="attr">hello</span>: <span class="string">&quot;Hello, Mongodb&quot;</span>&#125;);</span><br><span class="line">&gt; show dbs;</span><br><span class="line">first   <span class="number">0.</span>203125GB</span><br><span class="line">local   (empty)</span><br><span class="line">test    <span class="number">0.</span>203125GB</span><br></pre></td></tr></table></figure>

<p>현재 <code>use</code> 로 사용 중인 데이터베이스는 <code>dropDatabase()</code> 함수로 데이터베이스를 삭제할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; use first</span><br><span class="line">switched to db first</span><br><span class="line">&gt; db.<span class="title function_">dropDatabase</span>(<span class="params"></span>)</span><br><span class="line">&#123; <span class="string">&quot;dropped&quot;</span> : <span class="string">&quot;first&quot;</span>, <span class="string">&quot;ok&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&gt; show dbs</span><br></pre></td></tr></table></figure>

<h3 id="Collection과-Documents"><a href="#Collection과-Documents" class="headerlink" title="Collection과 Documents"></a>Collection과 Documents</h3><p>mongoDB에 저장되는 도큐멘트는 JSON ojbect 와 유사하게 <em>속성:값</em> 형태로 구성된다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">age</span>: <span class="number">25</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> n = &#123; <span class="attr">name</span>: <span class="string">&quot;Ed&quot;</span>, <span class="attr">languages</span>: [<span class="string">&quot;c&quot;</span>, <span class="string">&quot;ruby&quot;</span>, <span class="string">&quot;js&quot;</span>] &#125;;</span><br><span class="line"><span class="keyword">var</span> student = &#123; <span class="attr">name</span>: <span class="string">&quot;Jim&quot;</span>, <span class="attr">scores</span>: [<span class="number">75</span>, <span class="number">99</span>, <span class="number">87.2</span>] &#125;;</span><br></pre></td></tr></table></figure>

<p>mongoDB는 document를 컬렉션에 저장한다.</p>
<h4 id="collection-save"><a href="#collection-save" class="headerlink" title="collection.save()"></a>collection.save()</h4><p>아래는 <code>collection.save()</code> 함수로 <em>{a: 99}</em> 도큐멘트를 <em>scores</em> 렉션에 저장하라는 명령이다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">scores</span>.<span class="title function_">save</span>(&#123; <span class="attr">a</span>: <span class="number">99</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>실제 데이터베이스의 컬렉션에 도큐멘트가 저장될 때는 바이너리 직렬 구조인 <em>Binary JSON</em>이라는 BSON 으로 저장된다.[^5]</p>
<p>그리고 해당 콜렉션의 담긴 도큐멘트를 <code>find()</code> 함수로 출력한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">scores</span>.<span class="title function_">find</span>();</span><br></pre></td></tr></table></figure>

<p>반복문을 이용해서 여러개의 documents를 저장할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for(i=0; i&lt;100; i++) &#123; db.scores.save( &#123;a:  i, exam: 5 &#125; ) &#125;;</span><br></pre></td></tr></table></figure>

<p>컬렉션 내용을 find()를 실행하면 10개의 결과가 출력됩니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;db.<span class="property">scores</span>.<span class="title function_">save</span>(&#123;<span class="attr">a</span>:i,<span class="attr">b</span>:<span class="string">&#x27;bbb&#x27;</span>&#125;)&#125;;</span><br><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>();</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2e&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="number">2</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2f&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">2</span>, <span class="string">&quot;b&quot;</span> : <span class="number">3</span> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>이렇게 데이터베이스에 저장된 컬렉션을 관계형 데이터베이스 처럼 CRUD 명령 셋트를 이용해 질의를 해서 사용한다.</p>
<h3 id="Basic-Queries"><a href="#Basic-Queries" class="headerlink" title="Basic Queries"></a>Basic Queries</h3><p>관계형데이터 베이스와 NoSQL 데이터베이스는 Query Language가 다르다.</p>
<h4 id="SQL과-NoSQL의-CRUD"><a href="#SQL과-NoSQL의-CRUD" class="headerlink" title="SQL과 NoSQL의 CRUD"></a>SQL과 NoSQL의 CRUD</h4><p>SQL의 INSERT</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> users (user_id, age, status) <span class="keyword">VALUES</span> (<span class="string">&#x27;bcd001&#x27;</span>, <span class="number">45</span>, <span class="string">&#x27;A&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>mongoDB의 INSERT</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">users</span>.<span class="title function_">insert</span>(&#123;</span><br><span class="line">  <span class="attr">user_id</span>: <span class="string">&quot;bcd001&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">45</span>,</span><br><span class="line">  <span class="attr">status</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>SQL의 SELECT</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users</span><br></pre></td></tr></table></figure>

<p>mongoDB의 <code>find()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">users</span>.<span class="title function_">find</span>();</span><br></pre></td></tr></table></figure>

<p>SQL의 UPDATE</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> users <span class="keyword">SET</span> status <span class="operator">=</span> <span class="string">&#x27;C&#x27;</span> <span class="keyword">WHERE</span> age <span class="operator">&gt;</span> <span class="number">25</span></span><br></pre></td></tr></table></figure>

<p>mongoDB의 <code>update()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">users</span>.<span class="title function_">update</span>(</span><br><span class="line">  &#123; <span class="attr">age</span>: &#123; <span class="attr">$gt</span>: <span class="number">25</span> &#125; &#125;,</span><br><span class="line">  &#123; <span class="attr">$set</span>: &#123; <span class="attr">status</span>: <span class="string">&quot;C&quot;</span> &#125; &#125;,</span><br><span class="line">  &#123; <span class="attr">multi</span>: <span class="literal">true</span> &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>SQL의 DELETE</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> user_id<span class="operator">=</span><span class="string">&#x27;bcd001&#x27;</span></span><br></pre></td></tr></table></figure>

<p>mongoDB의 <code>remove()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">users</span>.<span class="title function_">remove</span>(&#123;</span><br><span class="line">  <span class="attr">user_id</span>: <span class="string">&quot;bcd0001&quot;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="collection의-주요-CRUD-함수"><a href="#collection의-주요-CRUD-함수" class="headerlink" title="collection의 주요 CRUD 함수"></a>collection의 주요 CRUD 함수</h4><p>컬렉션에 대한 query는 <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/method/js-collection/">Collection Method</a> 에 설명되어 있다. 아래 테이블은 주요 CRUD 함수.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>db.collection.find()</td>
<td>컬렉션에서 쿼리를 행하고 결과를 cursor 객체로 반환</td>
</tr>
<tr>
<td>db.collection.findOne()</td>
<td>쿼리를 실행하고 도큐멘트 하나를 반환한다.</td>
</tr>
<tr>
<td>db.collection.findAndModify()</td>
<td>자동으로 수정하고 도큐멘트 하나를 반환한다.</td>
</tr>
<tr>
<td>db.collection.save()</td>
<td>새 도큐멘트를 삽입하기 위해 <code>insert()</code> 와 <code>update()</code>를 묶어 놓은 함수</td>
</tr>
<tr>
<td>db.collection.insert()</td>
<td>컬렉션 안에 새 문서를 생성한다.</td>
</tr>
<tr>
<td>db.collection.insertOne()</td>
<td>컬렉션 안에 새 문서 하나를 생성한다.</td>
</tr>
<tr>
<td>db.collection.insertMany()</td>
<td>컬렉션 안에 새 문서 여러개를 생성한다.</td>
</tr>
<tr>
<td>db.collection.update()</td>
<td>컬렉션 안의 문서를 수정한다</td>
</tr>
<tr>
<td>db.collection.updateOne()</td>
<td>컬렉션 안에 문서 하나를 수정한다</td>
</tr>
<tr>
<td>db.collection.updateMany()</td>
<td>컬렉션 안에 여러 문서를 수정한다</td>
</tr>
<tr>
<td>db.collection.remove()</td>
<td>컬렉션에서 문서(들)을 삭제한다</td>
</tr>
<tr>
<td>db.collection.renameCollection()</td>
<td>컬렉션 이름을 바꾼다</td>
</tr>
</tbody></table>
<h4 id="컬렉션-보기"><a href="#컬렉션-보기" class="headerlink" title="컬렉션 보기"></a>컬렉션 보기</h4><p><code>show collections</code> 명령은 콜렉션의 목록을 볼 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; show collections</span><br><span class="line">foo</span><br><span class="line">scores</span><br><span class="line">system.<span class="property">indexes</span></span><br><span class="line">users</span><br></pre></td></tr></table></figure>

<p><code>collection.renameCollection()</code>로 콜렉션명을 수정 할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.[collectionName].renameCollection(&quot;newCollectionName&quot;);</span><br></pre></td></tr></table></figure>

<p>콜렉션의 삭제는 아래와 같다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.[collectionName].drop()</span><br></pre></td></tr></table></figure>

<h4 id="document-조회-–-find"><a href="#document-조회-–-find" class="headerlink" title="document 조회 – find()"></a>document 조회 – find()</h4><p><code>find()</code>는 컬렉션 안의 도큐멘트 전체 혹은 지정한 도큐멘트의 속성에 해당하는 도큐멘트를 반환한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.[collectionName].find([Document]);</span><br></pre></td></tr></table></figure>

<p>데이터베이스 컬렉션 <em>students</em> 안의 도큐멘트를 <code>find()</code> 함수로 보여준다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">students</span>.<span class="title function_">find</span>(<span class="params"></span>)</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;513b38ad81dc4b8f06062146&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;james&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">24</span>, <span class="string">&quot;grade&quot;</span> : <span class="string">&quot;A&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<p><code>find()</code>로 콜렉션에 지정한 속성 값만 검색할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">students</span>.<span class="title function_">save</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;jessi&#x27;</span>, <span class="attr">age</span>:<span class="number">20</span>, <span class="attr">grade</span>:<span class="string">&#x27;A&#x27;</span>&#125;);</span><br><span class="line">&gt; db.<span class="property">students</span>.<span class="title function_">find</span>(<span class="params">&#123;name:<span class="string">&#x27;james&#x27;</span>&#125;</span>)</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;513b38ad81dc4b8f06062146&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;james&quot;</span>, <span class="string">&quot;age&quot;</span> : <span class="number">24</span>, <span class="string">&quot;grade&quot;</span> : <span class="string">&quot;A&quot;</span> &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<p>컬렉션 <em>scores</em> 에서 a가 0인 데이터를 출력해 보자.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">a</span>:<span class="number">0</span>&#125;);</span><br><span class="line"></span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400592a&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<p>컬렉션 <em>scores</em> 에서 a:1, b:bbb인 데이터를 출력해 보자.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="string">&#x27;bbb&#x27;</span>&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400592b&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<p>컬렉션 <em>scores</em> 안의 모든 도큐멘트를 a:1을 기준으로 정렬해서 반환한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>().<span class="title function_">sort</span>(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400592a&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2e&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="number">2</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400592b&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<p>컬렉션 <em>scores</em> 안의 도큐멘트 숫자를 반환한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">count</span>();</span><br><span class="line"><span class="number">110</span></span><br></pre></td></tr></table></figure>

<h4 id="findOne"><a href="#findOne" class="headerlink" title="findOne()"></a>findOne()</h4><p>find()와 동일한 매개변수를 이용할 수 있습니다. 다른점은 find()는 커서를 리턴하지만, findOne()은 데이터베이스에서 첫번째 document나 null을 리턴합니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">findOne</span>(&#123;<span class="attr">a</span>:<span class="number">0</span>&#125;);</span><br><span class="line">&gt; <span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">결국 이 쿼리는</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">&gt; <span class="title function_">find</span>(&#123;<span class="attr">a</span>:<span class="string">&quot;0&quot;</span>&#125;).<span class="title function_">limit</span>(<span class="number">1</span>).</span><br></pre></td></tr></table></figure>

<p>와 동일한 결과를 얻습니다.</p>
<h4 id="limit"><a href="#limit" class="headerlink" title="limit();"></a>limit();</h4><p>쿼리의 결과의 수를 제한된 수의 결과로 제한하게 해서 처리할 수 있습니다.</p>
<p>MongoDB cursors are not snapshots - operations performed by you or other users on the collection being queried between the first and last call to next() of your cursor may or may not be returned by the cursor. Use explicit locking to perform a snapshotted query.</p>
<p>mongo 쉘 에서 고급 기법에 대해서는 아래 링크를 참조하세요.</p>
<p><a target="_blank" rel="noopener" href="http://www.mongodb.org/display/DOCS/mongo+-+The+Interactive+Shell">http://www.mongodb.org/display/DOCS/mongo+-+The+Interactive+Shell</a></p>
<h4 id="Cursor-객체"><a href="#Cursor-객체" class="headerlink" title="Cursor 객체"></a>Cursor 객체</h4><p>find()는 cursor 객체를 리턴합니다. cursor 객체는 쿼리의 결과 집합에 대한 포인터라고 한다.[^3]<br>cursor는 여러 데이터의 집합이므로 아래 같이 이용 할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> cursor = db.<span class="property">scores</span>.<span class="title function_">find</span>();</span><br><span class="line">&gt; <span class="keyword">while</span>(cursor.<span class="title function_">hasNext</span>()) <span class="title function_">printjson</span>(cursor.<span class="title function_">next</span>());</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2e&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>printjson()</code> 은 내장 함수로 데이터를 json 형식으로 출력해 준다.</li>
</ul>
<p>mongo 쉘로 사용시 아래 처럼 foreach 콜백 함수를 이용할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>().<span class="title function_">forEach</span>(printjson);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">…</span><br></pre></td></tr></table></figure>

<p>또한 cursor를 배열 처럼 이용 할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> cursor = db.<span class="property">scores</span>.<span class="title function_">find</span>();</span><br><span class="line">&gt; <span class="title function_">printjson</span>(cursor[<span class="number">10</span>]);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400592a&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<p>이 시점에 결과가 메모리에 적재되기 때문에 아주 큰 데이터를 다루면 out of memory를 만나게 될 수 있다. 배열 스타일의 접근을 위해 cursor 를 배열로 변경할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> arr = db.<span class="property">scores</span>.<span class="title function_">find</span>().<span class="title function_">toArray</span>();</span><br><span class="line">&gt; arr[<span class="number">10</span>];</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400592a&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="도큐멘트-update"><a href="#도큐멘트-update" class="headerlink" title="도큐멘트 - update"></a>도큐멘트 - update</h4><p>mongoDB에서 도큐멘트 갱신은 <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/update-methods/">update methods</a>를 참고한다.</p>
<p>update() 메서드는 다음 형식으로 되어 있다:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.collection.update(query, update, options)</span><br></pre></td></tr></table></figure>

<p>아래와 같은 두 개의 document가 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">books</span>.<span class="title function_">save</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;James&#x27;</span>,<span class="attr">language</span>:[<span class="string">&#x27;Java&#x27;</span>,<span class="string">&#x27;C++&#x27;</span>]&#125;);</span><br><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">save</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;Jenny&#x27;</span>,<span class="attr">language</span>:[<span class="string">&#x27;HTML5&#x27;</span>,<span class="string">&#x27;Actionscript&#x27;</span>]&#125;);</span><br></pre></td></tr></table></figure>

<p><code>update()</code> 업데이트를 하면 전체 문서에 대해서 갱신이 된다. 아래 쿼리는 <code>Jenny</code> 라는 name 속성을 가진 도큐멘트를 모두 주어진 도큐멘트 속서으로 변경한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">update</span>( &#123;<span class="attr">name</span>:<span class="string">&#x27;Jenny&#x27;</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">&#x27;James&#x27;</span>,<span class="attr">language</span>:[<span class="string">&#x27;Korea&#x27;</span>,<span class="string">&#x27;English&#x27;</span>]&#125;);</span><br><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">find</span>();</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc05ff01708cc4a3eadd3c8&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;James&quot;</span>, <span class="string">&quot;language&quot;</span> : [ <span class="string">&quot;Java&quot;</span>, <span class="string">&quot;C++&quot;</span> ] &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0601d1708cc4a3eadd3c9&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;James&quot;</span>, <span class="string">&quot;language&quot;</span> : [ <span class="string">&quot;Korea&quot;</span>, <span class="string">&quot;English&quot;</span> ] &#125;</span><br></pre></td></tr></table></figure>

<p>데이터의 일정부분만 갱신하려면 <code>$set</code> 연산자 및 배열을 위한 <code>$push</code>, <code>$pull</code> 연산자를 함께 사용할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">update</span>( &#123;<span class="attr">name</span>:<span class="string">&#x27;James&#x27;</span>&#125;, &#123;<span class="string">&#x27;$set&#x27;</span>: &#123;<span class="attr">age</span>:<span class="string">&#x27;30&#x27;</span>&#125;&#125; );</span><br><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">find</span>();</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0601d1708cc4a3eadd3c9&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;James&quot;</span>, <span class="string">&quot;language&quot;</span> : [ <span class="string">&quot;Korea&quot;</span>, <span class="string">&quot;English&quot;</span> ] &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc060fa1708cc4a3eadd3ca&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;James&quot;</span>, <span class="string">&quot;language&quot;</span> : [ <span class="string">&quot;Java&quot;</span>, <span class="string">&quot;C++&quot;</span> ] &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc060fe1708cc4a3eadd3cb&quot;</span>), <span class="string">&quot;name&quot;</span> : <span class="string">&quot;James&quot;</span>, <span class="string">&quot;language&quot;</span> : [ <span class="string">&quot;Korea&quot;</span>, <span class="string">&quot;English&quot;</span> ] &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc05ff01708cc4a3eadd3c8&quot;</span>), <span class="string">&quot;age&quot;</span> : <span class="string">&quot;30&quot;</span>, <span class="string">&quot;language&quot;</span> : [ <span class="string">&quot;Java&quot;</span>, <span class="string">&quot;C++&quot;</span> ], <span class="string">&quot;name&quot;</span> : <span class="string">&quot;James&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">update</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;Sue&#x27;</span>&#125;, &#123;<span class="string">&#x27;$pull&#x27;</span>: &#123;<span class="string">&#x27;languages&#x27;</span>: <span class="string">&#x27;scala&#x27;</span>&#125; &#125;);</span><br><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">update</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;Sue&#x27;</span>&#125;, &#123;<span class="string">&#x27;$push&#x27;</span>: &#123;<span class="string">&#x27;languages&#x27;</span>: <span class="string">&#x27;ruby&#x27;</span>&#125; &#125;);</span><br></pre></td></tr></table></figure>

<h4 id="collection-remove"><a href="#collection-remove" class="headerlink" title="collection.remove()"></a>collection.remove()</h4><p>도큐멘트의 항목을 삭제할 수 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">remove</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;James&#x27;</span>&#125;);</span><br><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">find</span>();</span><br></pre></td></tr></table></figure>

<p>모든 데이터를 제거하려면 remove()만 호출합니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">users</span>.<span class="title function_">remove</span>();</span><br></pre></td></tr></table></figure>

<p>index 생성</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="property">scores</span>.<span class="title function_">encureIndex</span>( &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:’bbb’&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">group</span>(), <span class="title function_">min</span>(), <span class="title function_">max</span>(), $where</span><br></pre></td></tr></table></figure>

<h3 id="Query와-Projection-연산자"><a href="#Query와-Projection-연산자" class="headerlink" title="Query와 Projection 연산자"></a>Query와 Projection 연산자</h3><p>쿼리에 제약 혹은 확장을 할 수 있는 쿼리 선택자 (Query selector)는 비교, 논리, 요소, 배열 등에 대한 연산자로 지원된다. Projection 연산자는 쿼리의 특정 부분만을 투영할 수 있는 연산자를 지원하고 있다. [^4]</p>
<p>자세하고 더 많은 내용은 <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/operator/query/">Query and Projection operators</a>를 참조하라.</p>
<h4 id="gt-연산자"><a href="#gt-연산자" class="headerlink" title="$gt 연산자"></a><code>$gt</code> 연산자</h4><p>입력된 데이터에서 20보다 큰 데이터를 찾아 보겠습니다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">a</span>:&#123;<span class="string">&#x27;$gt&#x27;</span>:<span class="number">30</span>&#125;&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f3716644005949&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">31</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400594a&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">32</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400594b&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">33</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">…</span><br></pre></td></tr></table></figure>

<h4 id="gte-연산자"><a href="#gte-연산자" class="headerlink" title="$gte 연산자"></a><code>$gte</code> 연산자</h4><p><code>$gte</code>는 Greater Than or Equal로 크거나 같은 값을 비교하는 연산자</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">a</span>:&#123;<span class="string">&#x27;$gte&#x27;</span>:<span class="number">22</span>&#125;&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f3716644005940&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">22</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f3716644005941&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">23</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="lt-lte-연산자"><a href="#lt-lte-연산자" class="headerlink" title="$lt, $lte 연산자"></a><code>$lt</code>, <code>$lte</code> 연산자</h4><p><code>$lte</code> 연산자는 작거나 같은 값을 비교하는 연산자</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>( &#123;<span class="attr">a</span>:&#123;<span class="string">&#x27;$lte&#x27;</span>:<span class="number">5</span>&#125;&#125; );</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2e&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="number">2</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2f&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">2</span>, <span class="string">&quot;b&quot;</span> : <span class="number">3</span> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="ne-연산자"><a href="#ne-연산자" class="headerlink" title="$ne 연산자"></a><code>$ne</code> 연산자</h4><p><code>$ne</code> 연산자는 같지 않은 값을 비교하는 연산자</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">b</span>:&#123;<span class="string">&#x27;$ne&#x27;</span>:<span class="string">&#x27;bbb&#x27;</span>&#125;&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2e&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="number">2</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2f&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">2</span>, <span class="string">&quot;b&quot;</span> : <span class="number">3</span> &#125;</span><br></pre></td></tr></table></figure>

<p><code>$gte</code> 와 <code>$lte</code>를 동시에 쓰기도 한다</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">a</span>: &#123;<span class="string">&#x27;$gte&#x27;</span>:<span class="number">5</span>,<span class="string">&#x27;$lte&#x27;</span>:<span class="number">8</span>&#125;&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e32&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">5</span>, <span class="string">&quot;b&quot;</span> : <span class="number">6</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e33&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">6</span>, <span class="string">&quot;b&quot;</span> : <span class="number">7</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e34&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">7</span>, <span class="string">&quot;b&quot;</span> : <span class="number">8</span> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="in-in-Array"><a href="#in-in-Array" class="headerlink" title="$in in Array"></a><code>$in</code> in Array</h4><p><code>$in</code> 연산자는 주어진 컬렉션 값이 포함되었는지 비교한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">a</span>:&#123;<span class="string">&#x27;$in&#x27;</span>:[<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>]&#125;&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f3716644005934&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">10</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f371664400593e&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">20</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f3716644005948&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">30</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fc0549c58f3716644005952&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">40</span>, <span class="string">&quot;b&quot;</span> : <span class="string">&quot;bbb&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<p>반대로 <code>$nin</code> 연산자는 주어진 컬렉션에 포함 안된 값을 비교한다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.<span class="property">scores</span>.<span class="title function_">find</span>(&#123;<span class="attr">a</span>:&#123;<span class="string">&#x27;$nin&#x27;</span>:[<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>]&#125;&#125;);</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2d&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">0</span>, <span class="string">&quot;b&quot;</span> : <span class="number">1</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2e&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">1</span>, <span class="string">&quot;b&quot;</span> : <span class="number">2</span> &#125;</span><br><span class="line">&#123; <span class="string">&quot;_id&quot;</span> : <span class="title class_">ObjectId</span>(<span class="string">&quot;4fbe149b206a4e5abfad0e2f&quot;</span>), <span class="string">&quot;a&quot;</span> : <span class="number">2</span>, <span class="string">&quot;b&quot;</span> : <span class="number">3</span> &#125;</span><br><span class="line">…</span><br><span class="line">has more</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<!--

#### Query#populate

`query#populate` 는 쿼리 결과에서 특정한 쿼리를 다시 질의할 수 있다.

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Query.populate( path, [fields], [model], [cond], [options] )</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Album</span>.<span class="title function_">findOne</span>().<span class="title function_">exec</span>(<span class="keyword">function</span>(<span class="params">err, doc</span>) &#123;</span><br><span class="line">   <span class="comment">// print undefind</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>( doc.<span class="property">artist</span>.<span class="property">name</span>) ;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Album</span>.<span class="title function_">findOne</span>().<span class="title function_">populate</span>(<span class="string">&#x27;artist&#x27;</span>).<span class="title function_">exec</span>(<span class="keyword">function</span>(<span class="params">err, doc</span>) &#123;</span><br><span class="line">   <span class="comment">// print fink flod</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>( doc.<span class="property">artist</span>.<span class="property">name</span>) ;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>–&gt;</p>
<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><p>[^1]: <a target="_blank" rel="noopener" href="https://www.mongodb.com/compare/mongodb-mysql?jmp=docs">Terminology and Concepts</a><br>[^3]: <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/glossary/#term-cursor">Cursor</a><br>[^4]: <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/operator/query/">Query and Projection operators</a><br>[^5]: <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/glossary/#term-bson">Term of BSON</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/3/">이전</a></div><div class="pagination-next"><a href="/page/5/">다음</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link is-current" href="/page/4/">4</a></li><li><a class="pagination-link" href="/page/5/">5</a></li><li><a class="pagination-link" href="/page/6/">6</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/qkboo_400.png" alt="Gangtai"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Gangtai</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Paju, South Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">53</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">14</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">95</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/thinkbee" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/gtko"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">링크</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">26</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/NodeJS/"><span class="level-start"><span class="level-item">NodeJS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/NodeJS/"><span class="level-start"><span class="level-item">NodeJS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/NodeJS/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Photoshop/"><span class="level-start"><span class="level-item">Photoshop</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Angular/"><span class="level-start"><span class="level-item">Angular</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Angularjs/"><span class="level-start"><span class="level-item">Angularjs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Raspberry-Pi/"><span class="level-start"><span class="level-item">Raspberry Pi</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/Raspberry-Pi/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/Raspberry-Pi/Linux/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-23T15:47:59.802Z">2022-02-24</time></p><p class="title"><a href="/2022/02/24/hello-world/">blog.thinkbee.kr 이전 작업중입니다.</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-02-02T09:00:00.000Z">2020-02-02</time></p><p class="title"><a href="/2020/02/02/linux/2020-02-02-letsencrypt%EB%B0%9C%EA%B8%89/">HTTPS를 위한 공인인증서 - Let&#039;s Encrypt 발급</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-12-20T03:00:00.000Z">2019-12-20</time></p><p class="title"><a href="/2019/12/20/linux-2019-12-20-mongodb-config/">MongoDB 구성 설정과 사용자 인증 사용</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Database/">Database</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-12-20T01:00:00.000Z">2019-12-20</time></p><p class="title"><a href="/2019/12/20/linux-2019-12-20-mongodb-4-2-install-arm64/">MongoDB Community Edition 4.2 설치 - ARM64 Ubuntu/Debian Armbian</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Database/">Database</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-09-05T11:00:00.000Z">2019-09-05</time></p><p class="title"><a href="/2019/09/05/python/2019-09-05-OpenSuse-JupyterNotebook_scientific/">openSUSE - 과학계산을 위한 Python, Jupyter Notebook</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Programming/">Programming</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">2월 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">2월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">12월 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">9월 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">10월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">8월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">7월 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">6월 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">12월 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/11/"><span class="level-start"><span class="level-item">11월 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">10월 2017</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">9월 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/07/"><span class="level-start"><span class="level-item">7월 2017</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">5월 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/04/"><span class="level-start"><span class="level-item">4월 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">12월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/02/"><span class="level-start"><span class="level-item">2월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ARM/"><span class="tag">ARM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Armbian/"><span class="tag">Armbian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Artificial-Intelligence/"><span class="tag">Artificial Intelligence</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian/"><span class="tag">Debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian-Strech/"><span class="tag">Debian Strech</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JSON-Web-Token/"><span class="tag">JSON Web Token</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JWT-Toekn/"><span class="tag">JWT Toekn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LEAP-15-0/"><span class="tag">LEAP 15.0</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LEAP-42-3/"><span class="tag">LEAP 42.3</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Numpy/"><span class="tag">Numpy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Odroid/"><span class="tag">Odroid</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Odroid-C2/"><span class="tag">Odroid C2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Orange-Pi/"><span class="tag">Orange Pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi/"><span class="tag">Raspberry Pi</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi-3/"><span class="tag">Raspberry Pi 3</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspbian/"><span class="tag">Raspbian</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SD-Card/"><span class="tag">SD Card</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Scientific/"><span class="tag">Scientific</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TensorFlow/"><span class="tag">TensorFlow</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript-Tutorials/"><span class="tag">TypeScript Tutorials</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/X11/"><span class="tag">X11</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/amd64/"><span class="tag">amd64</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/angular4/"><span class="tag">angular4</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/angularjs/"><span class="tag">angularjs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache/"><span class="tag">apache</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/arm64/"><span class="tag">arm64</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/armbian/"><span class="tag">armbian</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/banana-pi/"><span class="tag">banana pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/certificate-ssl/"><span class="tag">certificate ssl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clipping-mask/"><span class="tag">clipping-mask</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/collages/"><span class="tag">collages</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cross-compiler/"><span class="tag">cross compiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debian/"><span class="tag">debian</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firewall/"><span class="tag">firewall</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firewalld/"><span class="tag">firewalld</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/https/"><span class="tag">https</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/install/"><span class="tag">install</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jasmine/"><span class="tag">jasmine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter/"><span class="tag">jupyter</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter-notebook/"><span class="tag">jupyter notebook</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter-notebook/"><span class="tag">jupyter-notebook</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/karma/"><span class="tag">karma</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/leap-15/"><span class="tag">leap 15</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/leap-42-3/"><span class="tag">leap 42.3</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lvm/"><span class="tag">lvm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lvm2/"><span class="tag">lvm2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/micro-SD-Card/"><span class="tag">micro SD Card</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/middleware/"><span class="tag">middleware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongodb/"><span class="tag">mongodb</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongoose/"><span class="tag">mongoose</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs-tutorials/"><span class="tag">nodejs tutorials</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nvm/"><span class="tag">nvm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid/"><span class="tag">odroid</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid-c2/"><span class="tag">odroid c2</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid-c2/"><span class="tag">odroid-c2</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openSUSE/"><span class="tag">openSUSE</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/opensuse/"><span class="tag">opensuse</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/opensuse-leap-15/"><span class="tag">opensuse leap 15</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/orange-pi/"><span class="tag">orange pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/photoshop/"><span class="tag">photoshop</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/raspberry-pi/"><span class="tag">raspberry pi</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssl/"><span class="tag">ssl</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/synergy/"><span class="tag">synergy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tmux/"><span class="tag">tmux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ubuntu/"><span class="tag">ubuntu</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unit-testing/"><span class="tag">unit testing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/virtualenv/"><span class="tag">virtualenv</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/virtualenvwrapper/"><span class="tag">virtualenvwrapper</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webdav/"><span class="tag">webdav</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%8D%B0%EB%B9%84%EC%95%88/"><span class="tag">데비안</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%8D%B0%EC%9D%B4%EC%95%88/"><span class="tag">데이안</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4/"><span class="tag">라즈베리파이</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%9D%BC%EC%A6%88%EB%B9%84%EC%95%88/"><span class="tag">라즈비안</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/"><span class="tag">리눅스</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%B0%94%EB%82%98%EB%82%98%ED%8C%8C%EC%9D%B4/"><span class="tag">바나나파이</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%B0%A9%ED%99%94%EB%B2%BD/"><span class="tag">방화벽</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%98%A4%EB%A0%8C%EC%A7%80%ED%8C%8C%EC%9D%B4/"><span class="tag">오렌지파이</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9A%B0%EB%B6%84%ED%88%AC/"><span class="tag">우분투</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9B%B9%ED%86%A0%ED%81%B0/"><span class="tag">웹토큰</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/"><span class="tag">인공지능</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%A0%84%EC%9B%90%EA%B4%80%EB%A6%AC/"><span class="tag">전원관리</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC/"><span class="tag">파이썬</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%8C%EC%9D%B4%EC%96%B4%EC%9B%94/"><span class="tag">파이어월</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">업데이트 소식 받기</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="구독"></div></div></form></div></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">광고</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1465716454138955" data-ad-slot="4883770640" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="구독"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/thinkbee_logo.png" alt="Blogging through Programming" height="28"></a><p class="is-size-7"><span>&copy; 2022 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>