<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Blogging through Programming</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Blogging through Programming">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Blogging through Programming">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Blogging through Programming" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Blogging through Programming</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="검색"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="검색"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-python-2017-10-30-jupyter-scitific" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/10/30/python-2017-10-30-jupyter-scitific/" class="article-date">
  <time class="dt-published" datetime="2017-10-30T00:00:00.000Z" itemprop="datePublished">2017-10-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/10/30/python-2017-10-30-jupyter-scitific/">Python - 과학계산을 위한 Jupyter(Armbian)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Debian 계열의 ARM CPU를 위한 <strong>Armbian</strong> 에서 과학계산을 위한 Jupyter 설치 및 구성까지 요약하고 있다.</p>
<p><a target="_blank" rel="noopener" href="https://packaging.python.org/guides/installing-scientific-packages/">https://packaging.python.org/guides/installing-scientific-packages/</a></p>
<h2 id="과학계산을-위한-Python-Jupyter"><a href="#과학계산을-위한-Python-Jupyter" class="headerlink" title="과학계산을 위한 Python Jupyter"></a>과학계산을 위한 Python Jupyter</h2><p>과학계산을 위한 Python 과 Jupyter Notebook 환경을 정리한다. </p>
<ul>
<li>개발 프론트 엔드: Jupyter</li>
<li>과학계산 모듈: numpy, scipy 등</li>
</ul>
<p>Python과 Virtualenv 환경을 더 알고 싶으면 다음 두 링크에 자세한 설명이 있다.</p>
<ul>
<li><a href="!--swig%EF%BF%BC33--">Python - Install virtualenv on Linux</a></li>
</ul>
<h3 id="공개-사이트"><a href="#공개-사이트" class="headerlink" title="공개 사이트"></a>공개 사이트</h3><ol>
<li><a target="_blank" rel="noopener" href="https://colab.research.google.com/">Google Colaboratory</a></li>
<li>nbview</li>
<li></li>
</ol>
<h3 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h3><p>시스템에 Python2, Python3 가 설치되었는지 확인:</p>
<ul>
<li>Ubuntu&#x2F;Debian 계열: Python 2.7, Python 3.5 설치되어 있다.</li>
<li>openSUSE : Python2.7</li>
</ul>
<h4 id="Python-3-설치"><a href="#Python-3-설치" class="headerlink" title="Python 3 설치"></a>Python 3 설치</h4><h4 id="시스템-개발-패키지-설치"><a href="#시스템-개발-패키지-설치" class="headerlink" title="시스템 개발 패키지 설치"></a>시스템 개발 패키지 설치</h4><p>컴파일에 필요한 헤더 등이 포함된 개발자 라이브러리를 설치한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential</span><br><span class="line">sudo apt-get install python-dev python-distlib python3-dev python3-distlib</span><br></pre></td></tr></table></figure>

<p>python-dev, python-distlib, apython-setuptools 은 파이썬 개발과 패키징을 지원한다.</p>
<h4 id="pip-설치"><a href="#pip-설치" class="headerlink" title="pip 설치"></a>pip 설치</h4><p>apt-get install python3-pip</p>
<p>python3 설치후 마지막으로 <code>update-alternatives</code> 를 이용해 <code>pip</code> 를 pip3 로 연결해 준다. </p>
<p>다른 배포본에서 필요시 update-alternatives 사용:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/pip pip /usr/bin/pip3 30</span><br></pre></td></tr></table></figure>

<h4 id="라이브러리-설치"><a href="#라이브러리-설치" class="headerlink" title="라이브러리 설치"></a>라이브러리 설치</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libzmq3-dev</span><br></pre></td></tr></table></figure>

<p>libzmq3-dev은 쥬피터 노트북에서 필요로 한다.</p>
<ul>
<li>python-curses: Python이 (N)Curses Libr에 대한 인터페이스이다</li>
</ul>
<h4 id="Scientific-stack-pip"><a href="#Scientific-stack-pip" class="headerlink" title="Scientific stack - pip"></a>Scientific stack - <code>pip</code></h4><p>Python2.6부터 User scheme 개념이 도입되며서 <code>pip</code>로 설치하는 패키지를 개별 사용자 환경 위치에 설치할 수 있다. </p>
<p>install 명령에 <code>--user</code> 옵션을 주고 설치한다.[^2] </p>
<ul>
<li>기본으로 리눅스는 <em>~&#x2F;.local</em> 폴더이고, </li>
<li>Mac OS X 는 <em>~&#x2F;Library&#x2F;Python&#x2F;X.Y</em> 에 위치한다.[^3]</li>
</ul>
<p>그리고 <code>PATH</code> 에 <em>~&#x2F;.local&#x2F;bin</em> 을 추가한다.</p>
<p>xlsx 파일을 위해 xlrd 패키지 설치</p>
<p>pip install -U –user xlrd</p>
<h4 id="Scientific-stack-apt"><a href="#Scientific-stack-apt" class="headerlink" title="Scientific stack - apt"></a>Scientific stack - <code>apt</code></h4><p>과학계산을 지원하는 Python2 모듈을 시스템 패키지에 <code>apt</code> 로 설치할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install python-numpy python-decorator python-scipy</span><br><span class="line">$ sudo apt-get install python-matplotlib</span><br></pre></td></tr></table></figure>

<p>Python3 패키지도 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install python3-decorator python3-numpy python3-scipy</span><br><span class="line">$ sudo apt-get install python3-matplotlib</span><br></pre></td></tr></table></figure>

<p>symbolic mathematics 관련 패키지도 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-sympy python-nose</span><br><span class="line">sudo apt-get install python3-sympy python3-nose</span><br></pre></td></tr></table></figure>

<p>설치되고 사용이 가능한지 확인한다. 다음 두 모듈이 없으면 jupyter 설치가 제대로 안된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="string">&quot;import numpy;print(numpy.__version__)&quot;</span></span><br><span class="line">1.9.3</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="string">&quot;import numpy;print(numpy.__version__)&quot;</span></span><br><span class="line">0.16.0</span><br></pre></td></tr></table></figure>


<p>여기까지 설치하면 의존성에 관련한 아래 같은 여러 패키지가 함께 설치된다.</p>
<ul>
<li>requests : Python package provides a graceful interface for making HTTP requests, </li>
<li>pil : provides Python imaging capabilities, </li>
<li>scrapy : is a web scraping framework, </li>
<li>geopy provides geocoding and geodesic distance functions, </li>
<li>shapely provides 2D geometry manipulation, </li>
<li>pyproj: provides cartographic transformations. In the second command, jupyter provides interactive coding notebooks, </li>
<li>geopandas spatializes pandas, </li>
<li>OSMnx lets you work with OpenStreetMap street networks.</li>
</ul>
<p>이 패키지들은 별도로 설치를 하고자 하면 <code>pip</code>로 설치하거나 시스템 패키지로 다음 같이 설치 할 수 있다.</p>
<p>Python2 </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-requests python-pil python-scrapy python-geopy python-shapely python-pyproj</span><br></pre></td></tr></table></figure>

<p>Python3</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-requests python3-pil python3-scrapy python3-geopy python3-shapely python3-pyproj</span><br></pre></td></tr></table></figure>


<h4 id="Pandas"><a href="#Pandas" class="headerlink" title="Pandas"></a>Pandas</h4><p>Pandas 로 데이터 셋트를 다룰 예정이라면 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libgdal-dev</span><br></pre></td></tr></table></figure>

<p>libgdal-dev 은 geopandas에서 geospatial analysis 에 필요하다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-pandas python3-pandas</span><br></pre></td></tr></table></figure>


<br>
### Jupyter Notebook

<p>Jupyter는 웹 브라우저를 통해서 IDE 환경을 제공하고, 다양한 언어&#x2F;문법을 지원하는 Kernel 이라는 해석기를 통해 IDE에서 코딩한 결과를 확인할 수 있다. </p>
<p>여기서는 가상환경을 구성해 Jupyter 관련 패키지를 설치하고 사용하겠다.</p>
<ul>
<li>시스템에 설치된 Python3 와 pip 모듈</li>
</ul>
<h4 id="virtualenv-와-virtualenvwrapper"><a href="#virtualenv-와-virtualenvwrapper" class="headerlink" title="virtualenv 와 virtualenvwrapper"></a>virtualenv 와 virtualenvwrapper</h4><p>pip 를 업그레이드하고, 가상 개발환경에서 쥬피터 관련 모듈을 설치하고 관리하기 위해 <code>pip</code>로 virtualenv, virtualenvwrapper 설치한다. </p>
<p>시스템 <code>pip</code> 모듈을 최신 버전으로 업그레이드한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install --upgrade pip</span><br></pre></td></tr></table></figure>

<p>그리고 virtualenv, virtualenvwrapper 설치하는데, 사용자의 <code>.local</code> 폴더에 설치하도록 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --user virtualenv virtualenvwrapper</span><br></pre></td></tr></table></figure>

<p>자동으로 추가되지 않으면, 다음 스크립을 <code>.bashrc</code> 에 추가해 준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># set PATH for pip</span></span><br><span class="line"><span class="keyword">if</span> [ -d <span class="string">&quot;<span class="variable">$HOME</span>/.local/bin&quot;</span> ] ; <span class="keyword">then</span></span><br><span class="line">    PATH=<span class="string">&quot;<span class="variable">$HOME</span>/.local/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3</span><br><span class="line"><span class="built_in">export</span> WORKON_HOME=<span class="variable">$HOME</span>/.virtualenvs</span><br><span class="line"><span class="built_in">export</span> PROJECT_HOME=<span class="variable">$HOME</span>/Devel</span><br><span class="line"><span class="built_in">source</span> <span class="variable">$HOME</span>/.local/bin/virtualenvwrapper.sh</span><br></pre></td></tr></table></figure>

<p>로그아웃했다 로그인하면 <code>mkvirtualenv</code>, <code>rmvirtualenv</code> 등의 명령어 스크립이 설치된다.</p>
<h4 id="Jupyter-가상환경"><a href="#Jupyter-가상환경" class="headerlink" title="Jupyter 가상환경"></a>Jupyter 가상환경</h4><p>다음은 <code>mkvirtualenv</code> 명령으로 <em>jupyter</em>라는 가상환경을 <em>python3</em>, 시스템 패키지 사용을 위해 <em>–system-site-packages</em> 옵션으로 생성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkvirtualenv -p python3 --system-site-packages jupyter</span><br><span class="line">(jupyter) $</span><br><span class="line">(jupyter) $ python --version</span><br><span class="line">Python 3.4.6</span><br></pre></td></tr></table></figure>

<p>가상환경 <em>jupyter</em> 에서 필수 모듈이 사용 가능한지 확인한다. 다음 두 모듈이 없으면 jupyter 설치가 제대로 안된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(jupyter) $ python -c <span class="string">&quot;import numpy;print(numpy.__version__)&quot;</span></span><br><span class="line">1.9.3</span><br><span class="line">(jupyter) $ python -c <span class="string">&quot;import numpy;print(numpy.__version__)&quot;</span></span><br><span class="line">0.16.0</span><br></pre></td></tr></table></figure>


<p>그리고 pip로 Jupyter 가상환경에 Jupyter를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(jupyter)$ pip install jupyter </span><br></pre></td></tr></table></figure>

<blockquote>
<p>물론 가상환경이 아닌 시스템 패키지로 설치해도 된다.<br>$ sudo pip install jupyter geopandas osmnx</p>
</blockquote>
<p><code>jupyter-notebook</code>을 실행해 보고, 서버 관련 구성 내용을 설정해서 사용해 보자.</p>
<h5 id="Upgrade-jupyter"><a href="#Upgrade-jupyter" class="headerlink" title="Upgrade jupyter"></a>Upgrade jupyter</h5><p>여기서는 pip 가상머신을 이용하고 있어서 다음 같이 pip install 명령으로 업그레이드 할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(jupyter)$ pip install -U jupyter</span><br></pre></td></tr></table></figure>

<p>virtualenv, virtualenvwrapper는 여기서 사용자 .local 환경에 설치했으므로 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -U --user virtualenv virtualenvwrapper</span><br></pre></td></tr></table></figure>

<p>pip3 freeze —local &gt; requirements.txt</p>
<h4 id="서버로-실행"><a href="#서버로-실행" class="headerlink" title="서버로 실행"></a>서버로 실행</h4><p><code>jupyter-notebook</code> 은 로컬 머신에서 브라우저를 실행한다. 여기서는 원격 사용을 위해 다음 같이 시작할 수 있다. <code>[DIR]</code> 에 jupyter-notebook에서 작성한 노트북 파일이 저장된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter-notebook --no-browser --ip=* --port=8000 [DIR]</span><br><span class="line">[I 02:51:04.797 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).</span><br><span class="line">[C 02:51:04.800 NotebookApp]</span><br><span class="line"></span><br><span class="line">    Copy/paste this URL into your browser when you connect for the first time,</span><br><span class="line">    to login with a token:</span><br><span class="line">        http://localhost:8585/?token=a747472bc9a7c6684829267d2ed0a4cd9a722e</span><br></pre></td></tr></table></figure>

<p>시작후 <code>?token=a.....</code> 부분의 토큰을 복사해 브라우저에 입력후 쥬피터 노트북 사용을 시작한다. 브라우저로 노트북에 접속해서 복사한 토큰을 입력한 후 로그인한다.</p>
<p><img src="/images/python/jupyter5-run.png">{:width&#x3D;”650”}</p>
<br>
### Jupyter 설정 이용

<p>jupyter는 설치된 후에 jupyter 시스템 디렉토리와 사용자 <strong>JUPYTER_DATA_DIR</strong>에 필요한 내용을 저장한다.</p>
<ul>
<li><strong>시스템 디렉토리</strong>: &#x2F;usr&#x2F;local&#x2F;share&#x2F;jupyter&#x2F;</li>
<li><strong>JUPYTER_DATA_DIR</strong> 는 보통 ~&#x2F;.jupyter</li>
</ul>
<p>설정 파일을 이용해서 사용자 비밀번호를 이용해 노트북을 사용할 수 있다.</p>
<p>먼저 실행중인 쥬피터 노트북에서 <code>passwd()</code> 를 실행해 <strong>패스워드 해시 값</strong>을 얻는다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">from</span> notebook.auth <span class="keyword">import</span> passwd</span><br><span class="line">In [<span class="number">2</span>]: passwd()</span><br><span class="line">Enter password:</span><br><span class="line">Verify password:</span><br><span class="line">Out[<span class="number">2</span>]: <span class="string">&#x27;sha1:67c9e60bb8b6:9ffede0825894254b2e043ea597d771089e11eed&#x27;</span></span><br></pre></td></tr></table></figure>

<p>패스워드 해시 값을 데이터 디렉토리의 설정 파일에 입력해야 한다.</p>
<h4 id="데이터-설정-파일"><a href="#데이터-설정-파일" class="headerlink" title="데이터 설정 파일"></a>데이터 설정 파일</h4><p>다음 같이 설정 파일을 생성해서 사용할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter notebook --generate-config</span><br><span class="line">Writing default config to: /home/foo/.jupyter/jupyter_notebook_config.py</span><br><span class="line">$ <span class="built_in">cd</span> .jupyter &amp;&amp; <span class="built_in">mv</span> jupyter_notebook_config.py mynotebook.py</span><br></pre></td></tr></table></figure>

<p><em>mynotebook.py</em>에 다음을 설정한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## The base URL for the notebook server.</span><br><span class="line">c.NotebookApp.base_url = &#x27;http://www.yourdomain.com/notebok&#x27;</span><br><span class="line">c.NotebookApp.password = &#x27;&#x27;</span><br><span class="line">c.NotebookApp.port = 8000</span><br><span class="line">c.NotebookApp.port_retries = 50</span><br></pre></td></tr></table></figure>

<p>복사한 패스워드 해시 값을 mynotebook.py 설정 파일 안의 <code>c.NotebookApp.password</code> 항목 주석을 풀고 해시 값을 입력한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.password = &#x27;sha1:4ee6bb2da3d7:ed76216b87228540e5f5f20fcfa8069cf82686f0&#x27;</span><br></pre></td></tr></table></figure>

<p>설정 파일을 이용해 jupyter-notebook을 실행한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter notebook --config .jupyter/mybook_config.py [DIR]</span><br></pre></td></tr></table></figure>

<p>이제 jupyter에 접속하려면 다음 같이 패스워드를 묻고 입력한 후에 사용할 수 있다.</p>
<p><img src="/images/python/jupyter-login.png">{:width&#x3D;”650”}</p>
<h4 id="Background-실행"><a href="#Background-실행" class="headerlink" title="Background 실행"></a>Background 실행</h4><p>Jupyter-notebook을 백그라운드로 실행하려면 <code>nohup</code> 을 사용할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">nohup</span> jupyter notebook --no-browser --ip=* --port=8000 [DIR] &gt; log-jupyter.log &amp;</span><br></pre></td></tr></table></figure>

<p>nohup은 재시동시 다시 시작해야 하는 불편한 점이 있다.</p>
<h4 id="crontab-으로-실행"><a href="#crontab-으로-실행" class="headerlink" title="crontab 으로 실행"></a>crontab 으로 실행</h4><p>nohup 과 결합해서 사용해도 좋은 방법으로 crontab 을 사용해 재시동 후 자동으로 시작해 줄 수 있다. 사용자 crontab 을 편집해 다음 같이 사용할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@reboot cd /home/foo; jnohup jupyter notebook --no-browser --ip=* --port=8000 [DIR] &gt; log-jupyter.log &amp;</span><br></pre></td></tr></table></figure>


<p>이 방법도 사용자가 시작&#x2F;상태확인&#x2F;종료 같은 직접적인 방법을 사용하기는 좀 불편하다.</p>
<p>그래서 upstart의 init.d 를 사용하거나 systemd 의 unit으로 생성해서 사용하는 것이 좋다.</p>
<h4 id="systemd-에서-실행"><a href="#systemd-에서-실행" class="headerlink" title="systemd 에서 실행"></a>systemd 에서 실행</h4><p>systemd unit으로 새로운 unit 파일을 생성해서 기존 <code>systemctl</code> 명령으로 시작&#x2F;상태&#x2F;종료&#x2F;재시작 등의 작업을 할 수 있다. 물론 재시동 관련해서도 완벽히 동작한다.</p>
<p>우선 jupyter-notebook 명령의 절대 경로를 찾아서 이 위치를 유닛 파일의 Exec 명령에 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ which jupyter-notebook</span><br><span class="line">/home/foo/.local/bin/jupyter-notebook</span><br></pre></td></tr></table></figure>

<p>systemd의 unit 위치는 OS 마다 조금 다른 것 같다. 여기서는 <em>&#x2F;etc&#x2F;systemd&#x2F;system</em> 밑에 <em>jupyter.service</em> 라는 유닉 파일로 직접 작업한다.</p>
<ul>
<li>&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;jupyter.service</li>
</ul>
<p>가상환경을 사용하고 있으므로 systemd unit의 <code>ExecStart</code> 의 python도 가상환경 위치로 지정해 주어야 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=My Jupyter-Notebook</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">PIDFile=/run/jupyter-notebook.pid</span><br><span class="line">ExecStart=/home/foo/.local/bin/jupyter-notebook --config=/home/foo/.jupyter/mynotebook.py</span><br><span class="line">User=foo</span><br><span class="line">Group=foo</span><br><span class="line">WorkingDirectory=/home/foo/notebooks</span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>그리고 시스템 유닛을 시작해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable jupyter.service</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart jupyter.service</span><br></pre></td></tr></table></figure>


<p>현재 서버의 열린 포트는 다음 같이 <code>netstat</code> 명령으로 확인이 가능하다. 세번째 컬럼 처럼 <code>127.0.0.1</code> 에 열리면 외부에서 접근이 안된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ netstat -tlnp</span><br><span class="line">tcp        0      0 127.0.0.1:8585          0.0.0.0:*              LISTEN      11906/python3</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ netstat -tlnp</span><br><span class="line">tcp        0      0 0.0.0.0:8585          0.0.0.0:*              LISTEN      11906/python3</span><br></pre></td></tr></table></figure>


<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><ul>
<li><a target="_blank" rel="noopener" href="http://pandas.pydata.org/pandas-docs/stable/install.html">Pandas Install</a></li>
<li><a target="_blank" rel="noopener" href="https://www.scipy.org/install.html">Scipy Install</a></li>
<li><a target="_blank" rel="noopener" href="http://geoffboeing.com/2016/03/scientific-python-raspberry-pi/">Scientific Python on Raspberry Pi</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/10/30/python-2017-10-30-jupyter-scitific/" data-id="cl0196xgv002wjs7g4o114gih" data-title="Python - 과학계산을 위한 Jupyter(Armbian)" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jupyter/" rel="tag">jupyter</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jupyter-notebook/" rel="tag">jupyter-notebook</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/virtualenv/" rel="tag">virtualenv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/virtualenvwrapper/" rel="tag">virtualenvwrapper</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-raspberrypi-2017-10-30-opensuse-jeos-mongodb" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/10/30/raspberrypi-2017-10-30-opensuse-jeos-mongodb/" class="article-date">
  <time class="dt-published" datetime="2017-10-30T00:00:00.000Z" itemprop="datePublished">2017-10-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Raspberry-Pi/">Raspberry Pi</a>►<a class="article-category-link" href="/categories/Raspberry-Pi/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Raspberry-Pi/Linux/Database/">Database</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/10/30/raspberrypi-2017-10-30-opensuse-jeos-mongodb/">Raspberry Pi 3 64bit OS openSUSE: Build MongoDB 3.4</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Raspberry Pi 3 64bit OS openSUSE</strong> 는 이글은 4개 글타래로 구성되며, openSUSE 설치 및 사용에 대해 작성한다.</p>
<p>Opensuse 에서 Raspberry Pi 3를 위한 64bit OS openSESE Leap 42.2 을 제공하고 있다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3">https://en.opensuse.org/HCL:Raspberry_Pi3</a></li>
</ul>
<ol>
<li><a href="!--swig%EF%BF%BC32--">Install 64bit openSUSE Leap 42.2 &#x2F; JeOS</a></li>
<li>openSUSE: Managing Service daemon</li>
<li>openSUSE: Basic OS Security for Server</li>
<li>Install &amp; Configuration - Nginx, Node JS</li>
<li>Build MongoDB 3.4.x</li>
</ol>
<h2 id="MongoDB-Community-Edition-설치"><a href="#MongoDB-Community-Edition-설치" class="headerlink" title="MongoDB Community Edition 설치"></a>MongoDB Community Edition 설치</h2><p>Opensuse 용 MongoDB가 제공되지만 AMD64, X64 관련한 플랫폼에 지원될 뿐이다. Raspberry Pi 3에 JeOS를 설치하고 네이티브로 빌드해보기로 했다.</p>
<h3 id="준비"><a href="#준비" class="headerlink" title="준비"></a>준비</h3><p>MongoDB 빌드를 위해서 git, gcc 등, Scons 가 필요하다.</p>
<h4 id="컴파일-환경-준비"><a href="#컴파일-환경-준비" class="headerlink" title="컴파일 환경 준비"></a>컴파일 환경 준비</h4><p>최신 <strong>master branch</strong>는,</p>
<ul>
<li>최신 C++11 compiler:<ul>
<li>VS2015 Update 2 or newer</li>
<li>GCC 5.3.0</li>
<li>Clang 3.4 (or Apple XCode 5.1.1 Clang) or newer</li>
</ul>
</li>
<li>Python 2.7</li>
<li>SCons 2.3.5 or newer (for MSVC 2015 support)</li>
</ul>
<p><strong>branch 3.2, 3.0</strong> 는</p>
<ul>
<li>C++11 compiler:<ul>
<li>VS2013 Update 4 or newer. Note that VS2015 is currently not compatible with the 3.0 and 3.2 branches. You must use VS2013.</li>
<li>GCC 4.8.2 or newer. Note that versions of GCC newer than 4.8.2 may produce warnings when building these branches, which are promoted to errors. Please use the –disable-warnings-as-errors build option if necessary to allow the build to succeed despite the warnings.</li>
</ul>
</li>
<li>Python 2.7</li>
<li>SCons 2.3.0 or newer</li>
</ul>
<h3 id="필요한-패키지"><a href="#필요한-패키지" class="headerlink" title="필요한 패키지"></a>필요한 패키지</h3><p>여기서는 터미널에서 openSUSE <code>yast</code> 사용해 관련 패키지를 설치한다. <code>yast</code>를 시작한다.<br><em>YaST -&gt; Software -&gt; Software Management</em> 를 선택한다.</p>
<p>![][&#x2F;images&#x2F;opensuse&#x2F;yast-sw2.png]</p>
<h4 id="gcc"><a href="#gcc" class="headerlink" title="gcc"></a>gcc</h4><p>gcc 을 선택한다. gcc를 선택하면 gcc-4.8 을 기본으로 설치한다.</p>
<p>![][&#x2F;images&#x2F;opensuse&#x2F;yast-sw-gcc.png]</p>
<p>여러 버전을 설치하면 gcc 를 선택하기 위해 <code>update-alternatives</code>을 사용한다. 링크 <a href="/linux/linux-update-alternatives/">update-alternatives</a> 에서 설명을 볼 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc \</span><br><span class="line">/usr/bin/gcc-4.8 10 --slave /usr/bin/g++ g++ /usr/bin/g++-4.8</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc \</span><br><span class="line">/usr/bin/gcc-6 30 --slave /usr/bin/g++ g++ /usr/bin/g++-6</span><br></pre></td></tr></table></figure>

<h4 id="python"><a href="#python" class="headerlink" title="python"></a>python</h4><p>검색어에 다음 패키지를 넣고 찾아 하나씩 <strong>+</strong> 키로 패키지를 선택한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git python python-pip python-devel python3 python3-pip python3-devel</span><br></pre></td></tr></table></figure>

<p><em>Search Phrase</em>에 다음 패키지를 찾아 개발관련 라이브러리를 설치한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">build-essential libboost-filesystem-dev libboost-program-options-dev</span><br><span class="line"> libboost-system-dev libboost-thread-dev -y</span><br></pre></td></tr></table></figure>

<p><em>yast-sw-devel_basis</em> 패키지를 찾아 설치한다.</p>
<p><img src="/images/opensuse/yast-sw-devel_basis.png">{:width&#x3D;”640”}</p>
<p><em>Search Phrase</em> 에 gcc 를 넣고 적절한 버전을 선택한다.</p>
<p><img src="/images/opensuse/yast-sw-gcc.png">{:width&#x3D;”640”}</p>
<p>그리고 Action 탭에서 설치를 실행한다.</p>
<p><img src="/images/opensuse/yast-sw-gcc3.png">{:width&#x3D;”640”}</p>
<p>ssl 지원을 위해서 Debian과 Ubuntu systems에서 SSL 지원을 위해서 <strong>libssl-dev</strong> 가 필요하다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper install libopenssl-devel</span><br></pre></td></tr></table></figure>

<!--

#### zypper 로 설치



zypper in devel_basis

Opensuse for Ubuntu/Debian users
>
개발관련 라이브러리를 설치한다.
>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git python python-pip python-dev python3 python3-pip python3-dev</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">build-essential libboost-filesystem-dev libboost-program-options-dev libboost-system-dev libboost-thread-dev -y</span><br></pre></td></tr></table></figure>

<p>–&gt;</p>
<h4 id="SCons"><a href="#SCons" class="headerlink" title="SCons"></a>SCons</h4><p>mongodb 3.x는 scons를 최신버전으로 요구한다. Suse LEAP은 <code>scons</code> 가 2.3 버전이지만, 여기서 최신 버전 2.5.1 버전을 다운로드해서 설치했다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget http://prdownloads.sourceforge.net/scons/scons-2.5.1.tar.gz</span><br><span class="line">tar xvf scons-2.5.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> scons-2.5.1</span><br><span class="line">sudo python setup.py install</span><br><span class="line">scons --version</span><br><span class="line">SCons by Steven Knight et al.:</span><br><span class="line">  script: v2.5.1.rel_2.5.1:3735:9dc6cee5c168[MODIFIED], 2016/11/03 14:02:02, by bdbaddog on mongodog</span><br></pre></td></tr></table></figure>

<h3 id="Build-시작"><a href="#Build-시작" class="headerlink" title="Build 시작"></a>Build 시작</h3><p><a target="_blank" rel="noopener" href="https://github.com/mongodb">github mongodb</a> 소스를 사용하고, 라즈베리파이세 Fan을 달라</p>
<blockquote>
<p>혹시, 이 글을 보고, 또 필요해서 꼭 라즈베리파이에서 MongoDB를 빌드하고자 하면<br>필자는 빌드를 시작해서 9일이 걸렸다.</p>
</blockquote>
<h4 id="소스-다운로드"><a href="#소스-다운로드" class="headerlink" title="소스 다운로드"></a>소스 다운로드</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/mongodb/mongo.git mongodb-src</span><br><span class="line">git checkout v3.4.9</span><br></pre></td></tr></table></figure>

<p>pip 패키지 설치</p>
<p>opensuse에서 배포하는 pip는 7.x 버전으로 최신버전으로 업그레이드한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install --upgrade pip</span><br></pre></td></tr></table></figure>

<p>최신 3.4 master 브랜치를 설치하려면 소스를 다운로드한 후에 pip로 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r buildscripts/requirements.txt</span><br></pre></td></tr></table></figure>

<p>그리고 scons에서 에러코드 점검에 사용하는 다음 패키지를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --user regex</span><br></pre></td></tr></table></figure>

<p>swap이 필요하다. 다음은 block size 1G 크기 파일을 4회에 걸쳐 만들기 때문에 4G 파일이 생성된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo dd if=/dev/zero of=/data/swap4G bs=1G count=4</span><br><span class="line">sudo chmod 600 /swapfile</span><br><span class="line">sudo mkswap /swapfile</span><br><span class="line">sudo swapon /swapfile</span><br><span class="line">sudo swapon -s</span><br></pre></td></tr></table></figure>

<h4 id="Build-시작-1"><a href="#Build-시작-1" class="headerlink" title="Build 시작"></a>Build 시작</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">~&gt; w</span><br><span class="line"> 11:14:58 up 1 day,  2:26,  2 users,  load average: 7.27, 7.30, 7.52</span><br><span class="line">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">qkboo    pts/0    192.168.11.102   10:30    2.00s  1.56s  0.07s w</span><br><span class="line">qkboo    pts/1    tmux(9980).%0    05:08    6:06m  4:48   0.72s /usr/lib64/gcc/</span><br><span class="line"></span><br><span class="line">~&gt; free</span><br><span class="line">             total       used       free     shared    buffers     cached</span><br><span class="line">Mem:        803988     771156      32832          0       6528     355580</span><br><span class="line">-/+ buffers/cache:     409048     394940</span><br><span class="line">Swap:      2594940    1158396    1436544</span><br></pre></td></tr></table></figure>

<p>그리고 드디어, 빌드가 끝나고 나니 <strong>9일</strong>이 걸렸다 Bravo!!!</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Linking build/opt/mongo/mongod</span><br><span class="line">Install file: <span class="string">&quot;build/opt/mongo/mongod&quot;</span> as <span class="string">&quot;mongod&quot;</span></span><br><span class="line">scons: <span class="keyword">done</span> building targets.</span><br><span class="line"></span><br><span class="line">real    13514m39.223s</span><br><span class="line">user    751m26.374s</span><br><span class="line">sys     180m32.031s</span><br></pre></td></tr></table></figure>

<p>빌드한 바이너리는 build&#x2F;opt&#x2F;mongo 밑에 생성된다. 이 바이너리에는 디버깅용 심볼 정보가 포함되어 있다. 이 부분을 제거하기 위해서 <code>strip</code> 명령을 사용한다. 여기서는 <code>mongod</code> 만 빌드해서</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~&gt; <span class="built_in">cd</span> build/opt/mongo</span><br><span class="line">~&gt; strip -s mongod</span><br></pre></td></tr></table></figure>

<h3 id="MongoDB-설치"><a href="#MongoDB-설치" class="headerlink" title="MongoDB 설치"></a>MongoDB 설치</h3><p>소스를 빌드한 바이너리를 설치한다. 먼저 <code>mongod</code> 를 복사한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo <span class="built_in">cp</span> mongo mongod mongos /usr/local/bin/</span><br><span class="line">~&gt; sudo <span class="built_in">chown</span> root:root /usr/local/bin/mongo*</span><br><span class="line">~&gt; sudo <span class="built_in">chmod</span> 755 /usr/local/bin/mongo*</span><br></pre></td></tr></table></figure>

<h4 id="User-mongodb"><a href="#User-mongodb" class="headerlink" title="User mongodb"></a>User mongodb</h4><p>사용자를 추가하기 openSUSE <code>yast</code>라는 시스템 도구로 할 수 있지만 여기선 <code>adduser</code> 명령을 사용해서 사용자 추가한다. 자세한 것은 <a target="_blank" rel="noopener" href="http://www.tecmint.com/add-users-in-linux/">useradd 명령</a>을 참조한다.</p>
<p><code>useradd</code> 는 홈 디렉토리, 쉘 등에 대한 옵션을 주고 사용자를 등록하는데, 사용자 아이디를 <em>&#x2F;etc&#x2F;passwd</em>, <em>&#x2F;etc&#x2F;shadow</em>, <em>&#x2F;etc&#x2F;group</em>과 <em>&#x2F;etc&#x2F;gshadow</em>에 추가해준다.</p>
<p>로그인이 필요없는 사용자므로, 로그인, 패스워드, 홈디렉토리를 비활성화한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo useradd -M -N -s /dev/zero -g nogroup mongodb</span><br></pre></td></tr></table></figure>

<h4 id="디렉토리와-설정"><a href="#디렉토리와-설정" class="headerlink" title="디렉토리와 설정"></a>디렉토리와 설정</h4><p>mongod 가 사용하는 로그 디렉토리,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo <span class="built_in">mkdir</span> /var/log/mongodb</span><br><span class="line">~&gt; sudo <span class="built_in">chown</span> mongodb:nogroup /var/log/mongodb</span><br></pre></td></tr></table></figure>

<p>데이터 디렉토리</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo <span class="built_in">mkdir</span> /var/lib/mongodb</span><br><span class="line">~&gt; sudo <span class="built_in">chown</span> mongodb:root /var/lib/mongodb</span><br><span class="line">~&gt; sudo <span class="built_in">chmod</span> 775 /var/lib/mongodb</span><br></pre></td></tr></table></figure>

<p>이제 <code>mongod</code> 데몬을 시작해 보자, 먼저 다음 같이 명령을 입력해 시작한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo /usr/local/bin/mongod --dbpath /var/lib/mongodb</span><br></pre></td></tr></table></figure>

<p>데이터베이스 엔진에서 발생하는 로그가 화면에 출력되는 것을 확인할 수 있다.</p>
<p><code>mongo</code> 클라이언트 혹은 mongobooster 같은 클라이언트에서 데이터베이스에 접속해 보고 잘 동작하는지 확인한다.</p>
<p>확인후 log 파일을 지정해 확인한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo /usr/local/bin/mongod --dbpath /var/lib/mongodb/ --logpath /var/log/mongodb/mongod.log</span><br></pre></td></tr></table></figure>

<h4 id="mongod-conf"><a href="#mongod-conf" class="headerlink" title="mongod.conf"></a>mongod.conf</h4><p>보통 MongoDB는 데이터베이스 엔진 실행시 필요한 설정으로 로그 파일, 데이터 디렉토리 등의 내용을 <em>&#x2F;etc&#x2F;mongod.conf</em> 설정 파일에 선언해서 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo vi /etc/mongod.conf</span><br></pre></td></tr></table></figure>

<p>다음 내용으로 작성한다. 설정 파일 내용에 대해서는 <a target="_blank" rel="noopener" href="https://docs.mongodb.com/manual/reference/configuration-options">mongodb.conf</a>를 참조한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">storage:</span><br><span class="line">  dbPath: /data/mongodata</span><br><span class="line">  journal:</span><br><span class="line">    enabled: true</span><br><span class="line">#  engine: mmapv1</span><br><span class="line">#  mmapv1:</span><br><span class="line">  wiredTiger:</span><br><span class="line">    engineConfig:</span><br><span class="line">      cacheSizeGB: 0.5</span><br><span class="line"></span><br><span class="line">systemLog:</span><br><span class="line">  destination: file</span><br><span class="line">  logAppend: true</span><br><span class="line">  path: /var/log/mongodb/mongod.log</span><br><span class="line"></span><br><span class="line"># network interfaces</span><br><span class="line">net:</span><br><span class="line">  port: 27017</span><br><span class="line">  bindIp: 0.0.0.0</span><br><span class="line"></span><br><span class="line">security:</span><br><span class="line">  authorization: disabled</span><br></pre></td></tr></table></figure>

<p>설정 파일을 주고 시작해 본다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo /usr/local/bin/mongod --config /etc/mongod.conf</span><br></pre></td></tr></table></figure>

<p>잘 동작한다.</p>
<h3 id="create-systemd-x2F-service-entry"><a href="#create-systemd-x2F-service-entry" class="headerlink" title="create systemd &#x2F; service entry"></a>create systemd &#x2F; service entry</h3><p>이제 systemd unit 파일 <code>mongod.service</code> 를 생성해서 데몬으로 등록해 보자. <em>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system</em> 디렉토리는 서비스 유닛 파일이 설치되는 곳으로, 활성화 되면 <em>&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;</em> 밑에 설치된다.</p>
<blockquote>
<p>Ubuntu&#x2F;Debian 계열은 <em>&#x2F;lib&#x2F;systemd&#x2F;system</em> 이다</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~&gt; <span class="built_in">cd</span> /usr/lib/systemd/system</span><br><span class="line">~&gt; sudo vi mongod.service</span><br></pre></td></tr></table></figure>

<p>다음 내용을 입력한다:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=High-performance, schema-free document-oriented database</span><br><span class="line">After=network.target</span><br><span class="line">Documentation=https://docs.mongodb.org/manual</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">#User=mongodb</span><br><span class="line">#Group=nogroup</span><br><span class="line">ExecStart=/usr/local/bin/mongod --config /etc/mongod.conf</span><br><span class="line"># file size</span><br><span class="line">LimitFSIZE=infinity</span><br><span class="line"># cpu time</span><br><span class="line">LimitCPU=infinity</span><br><span class="line"># virtual memory size</span><br><span class="line">LimitAS=infinity</span><br><span class="line"># open files</span><br><span class="line">LimitNOFILE=64000</span><br><span class="line"># processes/threads</span><br><span class="line">LimitNPROC=64000</span><br><span class="line"># total threads (user+kernel)</span><br><span class="line">TasksMax=infinity</span><br><span class="line">TasksAccounting=false</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p><code>mongod</code> 에 대한 제약은 <a target="_blank" rel="noopener" href="http://docs.mongodb.org/manual/reference/ulimit/#recommended-settings">Recommended limits for for mongod</a> 를 참조한다.</p>
<p>서비스 유닛 파일이 제대로 위치하는지 검증하기 위해 다음 명령으로 확인한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl list-unit-files --<span class="built_in">type</span>=service  |grep mongod</span><br><span class="line">mongodb.service             disabled</span><br></pre></td></tr></table></figure>

<p>이제 <code>mongod.service</code> 를 할성화 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> mongod.service</span><br></pre></td></tr></table></figure>

<p>활성화 되면 <em>&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;multi-user.target</em> 밑에 설치된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl status mongod.service</span><br><span class="line">● mongod.service - High-performance, schema-free document-oriented database</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/mongodb.service; enabled; vendor preset: disabled)</span><br><span class="line">   Active: inactive (dead)</span><br><span class="line">     Docs: https://docs.mongodb.org/manual</span><br></pre></td></tr></table></figure>

<p>이제 mongodb 를 시작한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mongod.service</span><br></pre></td></tr></table></figure>

<p>중지는,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop mongod.service</span><br><span class="line">sudo systemctl restart mongod.service</span><br></pre></td></tr></table></figure>

<p>그리고 <em>mongod.service</em> 내용을 수정하면 다시 로딩을 해야 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure>

<p>일단 여기까지 데몬으로 잘 실행된다. 다만 사용자가 아닌 <code>root</code> 에서만… ㅠ.ㅜ</p>
<!--

#### Data disk

MLC를 지원하는 USB memory 를 장착하고, 2017-04-03-odroid-lvm2 에서 설명한데로 디렉토리를 구성해서 데이터 파일시스템으로 사용하고 있다.
-->

<h3 id="기념사진"><a href="#기념사진" class="headerlink" title="기념사진"></a>기념사진</h3><p>우분투&#x2F;데비안 계열에 익숙해 있다가 Raspberry Pi 3 에 openSUSE 를 개발자용 패키지들을 설치하고, 맘 먹고 빌드를 시작해서 9일이 걸렸다. <em>9일 동안 꿋꿋이 버텨준</em> <strong>Raspberry Pi 3&#x2F;openSUSE</strong> machine!!!</p>
<p><img src="/images/opensuse/rpi3-opensuse-machine.JPG">{:width&#x3D;”550”}</p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p>[^1]: <a target="_blank" rel="noopener" href="http://koenaerts.ca/compile-and-install-mongodb-on-raspberry-pi/">Mongodb on Raspberry pi</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/10/30/raspberrypi-2017-10-30-opensuse-jeos-mongodb/" data-id="cl0196xh6003cjs7g6iejaehq" data-title="Raspberry Pi 3 64bit OS openSUSE: Build MongoDB 3.4" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Raspberry-Pi-3/" rel="tag">Raspberry Pi 3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openSUSE/" rel="tag">openSUSE</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-raspberrypi-2017-10-21-opensuse-jeos-nginxjupyter" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/10/21/raspberrypi-2017-10-21-opensuse-jeos-nginxjupyter/" class="article-date">
  <time class="dt-published" datetime="2017-10-21T00:00:00.000Z" itemprop="datePublished">2017-10-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Raspberry-Pi/">Raspberry Pi</a>►<a class="article-category-link" href="/categories/Raspberry-Pi/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/10/21/raspberrypi-2017-10-21-opensuse-jeos-nginxjupyter/">Raspberry Pi 3 64bit OS openSUSE: Nginx, Node JS, Jupyter </a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Raspberry Pi 3 64bit OS openSUSE</strong> 는 이글은 5개 글타래로 구성되며, openSUSE 설치, 개발도구 구성 및 서버 구축 사용에 대해 작성한다.</p>
<p>Opensuse 에서 Raspberry Pi 3를 위한 64bit OS openSESE Leap 42.2 을 제공하고 있다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3">https://en.opensuse.org/HCL:Raspberry_Pi3</a></li>
</ul>
<ol>
<li><a href="!--swig%EF%BF%BC37--">Install 64bit openSUSE Leap 42.3 &#x2F; JeOS</a></li>
<li>openSUSE: Managing Service daemon</li>
<li>openSUSE: Basic OS Security for Server</li>
<li><strong>Install &amp; Configuration - Nginx, Node JS, Jupyter</strong></li>
<li>Build MongoDB 3.4.x</li>
</ol>
<h2 id="Nginx-Node-JS-Jupyter-Notebook"><a href="#Nginx-Node-JS-Jupyter-Notebook" class="headerlink" title="Nginx, Node JS, Jupyter Notebook"></a>Nginx, Node JS, Jupyter Notebook</h2><ul>
<li>Raspberry Pi 3</li>
<li>openSUSE LEAP 42.2 &#x2F; JeOS</li>
</ul>
<p>Target services</p>
<ul>
<li>Nginx</li>
<li>Nginx Proxy<ul>
<li>www app : nodejs (PORT 50000)</li>
<li>jupyter notebook: PORT 8585</li>
</ul>
</li>
<li>Node.js with nvm</li>
<li>Python and virtualenv, jupyter notebook</li>
</ul>
<h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><p>nginx는 1.8 버전으로 당연히 사용하던 데비안 계열과 설정 파일 구성이 조금 다르다.</p>
<ul>
<li>nginx 사용자: nginx</li>
<li>&#x2F;etc&#x2F;nginx&#x2F;nginx.conf 가 sites-_ 폴더가 아닌 vhost_ 폴더를 가르킨다.<ul>
<li>여기서는 sites-* 폴더를 그대로 사용한다.</li>
</ul>
</li>
<li>기존 데비안 계열 형식 <code>sites-*</code> 폴더를 사용하고 사용자먄 <code>nginx</code> 사용.</li>
</ul>
<h4 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h4><p>zypper 로 nginx 배포본을 설치한다. 현재는 1.8.1-10.5.1 버전이다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper <span class="keyword">in</span> nginx</span><br></pre></td></tr></table></figure>

<p>설치하면 사용자 <em>nginx:nginx</em> 가 추가된다.</p>
<h4 id="nginx-conf"><a href="#nginx-conf" class="headerlink" title="nginx.conf"></a>nginx.conf</h4><p>nginx 설정은 <a href="!--swig%EF%BF%BC38--">Nginx - Install, WebDAV, Proxy on Ubuntu&#x2F;Debian</a> 에 설명되어 있다. 이 구성을 기초로 우분투&#x2F;데비안 계열 같이 <code>site-*</code> 폴더를 구성해서 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/nginx</span><br><span class="line"><span class="built_in">mv</span> nginx.conf nginx.orig</span><br></pre></td></tr></table></figure>

<p>nginx.conf 에 include 지시자를 사용해 <em>sites-enabled</em> 를 추가한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">include /etc/nginx/conf.d/*.conf;</span><br><span class="line">include /etc/nginx/sites-enabled/*;</span><br></pre></td></tr></table></figure>

<p>그리고 <code>sites-available</code>, <code>sites-enabled</code> 폴더를 생성하고 사이트 파일을 만든다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/nginx</span><br><span class="line">sudo <span class="built_in">mkdir</span> sites-available sites-enabled</span><br><span class="line">sudo <span class="built_in">touch</span> sites-available/my-site</span><br></pre></td></tr></table></figure>

<p>my-site 가상호스트 파일은 [my-site](&#x2F;2017&#x2F;04&#x2F;03&#x2F;ubuntu-nginx#my-site) 내용의 파일을 site-available 에 작성하고, 그 링크를 site-enabled에 링크를 걸어 준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/nginx</span><br><span class="line">sudo -s /etc/nginx/sites-available/my-site /etc/nginx/sites-enabled/my-site</span><br></pre></td></tr></table></figure>

<br>
<br>
### node.js

<p>nvm을 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.6/install.sh | bash</span><br></pre></td></tr></table></figure>

<p>Node.js 설치와 개발환경 설치에 대해서는 <a href="!--swig%EF%BF%BC40--">NodeJS &#x2F; nvm 기반 개발환경 설치</a> 글을 참조할 수 있다.</p>
<h4 id="node-js-설치"><a href="#node-js-설치" class="headerlink" title="node.js 설치"></a>node.js 설치</h4><p>최신 v8 버전을 설치한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; nvm install v8</span><br><span class="line">Downloading and installing node v8.8.1...</span><br><span class="line">Creating default alias: default -&gt; v8 (-&gt; v8.8.1)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; which node</span><br><span class="line">/home/qkboo/.nvm/versions/node/v8.8.1/bin/node</span><br></pre></td></tr></table></figure>

<h4 id="pm2-설치"><a href="#pm2-설치" class="headerlink" title="pm2 설치"></a>pm2 설치</h4><p>node.js 앱을 시스템 서비스로 등록하기 위해서 <strong>pm2</strong> 를 설치한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g pm2</span><br></pre></td></tr></table></figure>

<p>예를 들어 express 앱이 있으면 다음 같이 pm2로 시작한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd www-app</span><br><span class="line">pm2 start -n &quot;www-app&quot; bin/www</span><br></pre></td></tr></table></figure>

<h4 id="pm2-startup"><a href="#pm2-startup" class="headerlink" title="pm2 startup"></a>pm2 startup</h4><p>startup 시 pm2 start 로 생성되는 .pm2 디렉토리의 pid 와 app.js 파일을 실행해 준다.</p>
<p>pm2 startup systemd 로 스타트를 하면 2개의 프로세스가 만들어 진다.</p>
<p>방법은,,,</p>
<ol>
<li>먼저 앱을 시작해 둔다.</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start -n <span class="string">&quot;www-app&quot;</span> bin/www</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>dump를 생성한다.</li>
</ol>
<p>pm2로 현재 실행중인 프로세스 정보를 <code>save</code>로 덤프하게 저장한다. <code>systemd</code> 서비스 스크립을 작성하는데 유용하다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 save</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>pm2 startup 명령</li>
</ol>
<p><code>pm2 startup</code> 명령은 pm2로 실행중인 프로세스를 systemd 서비스 유니트 파일로 제어 할 수 있다. 명령을 실행하면 <code>sudo</code> 명령으로 실행할 수 있는 스크립을 출력해 준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 startup systemd</span><br><span class="line">...</span><br><span class="line">sudo <span class="built_in">env</span> PATH=<span class="variable">$PATH</span>:/home/foo/.nvm/versions/node/v8.8.1/bin /home/foo/.nvm/versions/node/v8.8.1/lib/node_modules/pm2/bin/pm2 startup systemd -u foo --hp /home/foo</span><br></pre></td></tr></table></figure>

<p>이 스크립을 실행해 주면 <strong>pm2-foo.service</strong> 서비스 유니 파일이 생성된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Target path</span><br><span class="line">/etc/systemd/system/pm2-foo.service</span><br></pre></td></tr></table></figure>

<p>이 서비스 파일을 활성화하고 시작해준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> pm2-foo</span><br></pre></td></tr></table></figure>

<p>이제 시스템을 재시작해도 pm2 로 실행중인 프로세스는 자동으로 시작된다.</p>
<br>
<br>
### Python

<p>Python 개발 환경을 virtualenv 를 이용해서 구성하고, jupyter 를 설치한다. 그리고 시스템 시작 스크립으로 자동으로 시작하는 jupyter notebook 환경 구성까지 진행한다.</p>
<h4 id="python3-설치"><a href="#python3-설치" class="headerlink" title="python3 설치"></a>python3 설치</h4><p>openSUSE에 python2.7 만 설치되어 있어서, python3 를 설치한다. 다른 버전을 설치하면 openSUSE에서는 자동으로 update-alternatives로 <code>pip</code>를 등록해준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper <span class="keyword">in</span> python3</span><br><span class="line"></span><br><span class="line">update-alternatives: using /usr/bin/pip3.4 to provide /usr/bin/pip (pip) <span class="keyword">in</span> auto mode</span><br></pre></td></tr></table></figure>

<h4 id="개발자-패키지-설치"><a href="#개발자-패키지-설치" class="headerlink" title="개발자 패키지 설치"></a>개발자 패키지 설치</h4><p>jupyter 등 개발, 서버 개발에 필요한 시스템 개발도구를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper <span class="keyword">in</span> devel_basis</span><br></pre></td></tr></table></figure>

<p>파이썬 개발과 패키지등에서 필요한 파이썬 헤더를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper <span class="keyword">in</span> python3-devel python-devel</span><br></pre></td></tr></table></figure>

<p>jupyter에서 필요한 zmq 라이브러리를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper <span class="keyword">in</span> python-distutils-extra libczmq3 libgdal20</span><br></pre></td></tr></table></figure>

<ul>
<li>libzmq3 : jupyter 에서 필요</li>
<li>libgdal : geospatial analysis with geopandas.</li>
</ul>
<p><strong>openSUSE 에서</strong>는 curses 관련 파이썬 모듈을 설치해야 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper <span class="keyword">in</span> python-curses python3-curses</span><br></pre></td></tr></table></figure>

<ul>
<li>python-curses: Python이 (N)Curses Libr에 대한 인터페이스이다</li>
</ul>
<h4 id="virtualenv"><a href="#virtualenv" class="headerlink" title="virtualenv"></a>virtualenv</h4><p><code>pip</code> 로 user scheme 에서 설치했다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --user virtualenv virtualenvwrapper</span><br></pre></td></tr></table></figure>

<h4 id="Scientific-과-Pandas-개발환경"><a href="#Scientific-과-Pandas-개발환경" class="headerlink" title="Scientific 과 Pandas 개발환경"></a>Scientific 과 Pandas 개발환경</h4><p>사용하려는 Python 버전에 따라 혹은 모두 아래 과학계산용 모듈을 시스템 패키지로 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper <span class="keyword">in</span> python-decorator python-numpy python-scipy python-matplotlib</span><br><span class="line">sudo zypper <span class="keyword">in</span> python3-decorator python3-numpy python3-scipy python3-matplotlib</span><br><span class="line">sudo zypper <span class="keyword">in</span> python3-sympy python3-nose</span><br></pre></td></tr></table></figure>

<blockquote>
<p>라즈베피라이, 오드로이드 등 환경에서 pip로 위 모듈을 설치시 시간이 많이 걸린다.</p>
<blockquote>
<p>pip install –user pandas decorator numpy scipy matplotlib sympy nose<br>그래서 시스템 패키지로 설치했다.</p>
</blockquote>
</blockquote>
<p>겨로가적으로 앞선 scipy, matplotlib 설치하며 아래 모듈이 의존성에 따라 함게 설치된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3-requests python3-pil python3-scrapy python3-geopy python3-shapely python3-pyproj</span><br></pre></td></tr></table></figure>

<h3 id="Jupyter-Notebook"><a href="#Jupyter-Notebook" class="headerlink" title="Jupyter Notebook"></a>Jupyter Notebook</h3><p>Jupyter notebook 으로 파이선, typescript, javascript, c&#x2F;c++ 등의 IDE 역할을 할 수 있다. 도한 Markdown 을 지원해서 문서화에도 휼륭한 플랫폼이다.</p>
<h4 id="jupyter-가상환경-만들기"><a href="#jupyter-가상환경-만들기" class="headerlink" title="jupyter 가상환경 만들기"></a><em>jupyter</em> 가상환경 만들기</h4><p><code>mkvirtualenv</code> 명령으로 <em>jupyter</em> 라는 가상환경을 만드는데, 과학계산용 라이브러리를 시스템 패키지로 설치했으므로 여기서는 가상환경 생성시 시스템 패키지를 함께 참조하도록 생성한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkvirtualenv -p python3 --system-site-packages jupyter</span><br><span class="line">(jupyter) $</span><br></pre></td></tr></table></figure>

<p>가상환경에서 파이썬 버전을 확인하고 과학계산 개발 등에 필요한 라이브러리가 설치됐는지 확인하자.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(jupyter) $ python --version</span><br><span class="line">Python 3.4.6</span><br></pre></td></tr></table></figure>

<p>필수 모듈이 설치되고 사용이 가능한지 확인한다. 버전 정보가 출력되면 관련 라이브러리가 제대로 설치되었고 가상환경에서 잘 접근되는 것이다. 다음 두 모듈이 없으면 jupyter 설치가 제대로 안된다.</p>
<blockquote>
<p>설치가 안되었으면 앞의 파이썬 개발자 패키지 설치 단락을 확인한다.</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="string">&quot;import numpy;print(numpy.__version__)&quot;</span></span><br><span class="line">1.9.3</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="string">&quot;import numpy;print(numpy.__version__)&quot;</span></span><br><span class="line">0.16.0</span><br></pre></td></tr></table></figure>

<p>그리고 Jupyter 가상환경에서 <code>pip</code> 로 <strong>Jupyter</strong>를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(jupyter)$ pip install jupyter</span><br></pre></td></tr></table></figure>

<p>주피커 노트북 파일이 저장되는 위치가 <code>iPython</code> 디렉토리라고 하면 아래 같이 시작할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(jupyter)$ jupyter-notebook --no-browser --ip=* --port=8000 ./iPython</span><br></pre></td></tr></table></figure>

<p>옵션은</p>
<ul>
<li><code>--no-browser</code> : 로컬 브라우저는 시작하지 않는다.</li>
<li><code>--ip</code> : 접속 가능 <code>*</code>는 모든 곳에서 접근 가능</li>
<li><code>--port</code>:</li>
</ul>
<p>이런 시작 구성을 설정 파일을 이용해서 저장할 수 있고 이 파일을 이용해서 시작하는 것을 권장한다.</p>
<h4 id="Jupyter-설정-파일-이용"><a href="#Jupyter-설정-파일-이용" class="headerlink" title="Jupyter 설정 파일 이용"></a>Jupyter 설정 파일 이용</h4><p>사용자 <strong>JUPYTER_DATA_DIR</strong> 인 홈 디렉토리 밑 <code>~/.jupyter</code> 에 설정 파일을 구성해야 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(jupyter)$ jupyter notebook --generate-config</span><br><span class="line">(jupyter)$ <span class="built_in">cd</span> .jupyter &amp;&amp; <span class="built_in">mv</span> jupyter_notebook_config.py mynotebook.py</span><br></pre></td></tr></table></figure>

<h4 id="systemd"><a href="#systemd" class="headerlink" title="systemd"></a>systemd</h4><p>jupyter notebook을 시스템 서비스로 등록해 보자. <code>jupyter.service</code>라는 시스템 서비스 파일을 <code>/etc/systemd/system/jupyter.service</code> 에 생성하고 아래 내용을 입력한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=HomePi Jupyter-Notebook</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">PIDFile=/run/homepi-jupyter.pid</span><br><span class="line">ExecStart=/home/foo/.virtualenvs/jupyter/bin/jupyter-notebook --config=/home/foo/.jupyter/mybook_config.py</span><br><span class="line">User=qkboo</span><br><span class="line">Group=users</span><br><span class="line">WorkingDirectory=/home/foo/iPython</span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>그리고 이 시스템 서비스 파이을 활성화하고 시작한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> jupyter.service</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart jupyter.service</span><br></pre></td></tr></table></figure>

<h4 id="Typescript-kernel"><a href="#Typescript-kernel" class="headerlink" title="Typescript kernel"></a>Typescript kernel</h4><p>jupyter notebook에서 Typescript 을 작성하고 컴파일한 결과를 확인할 수 있다.</p>
<p>먼저 Nodejs용 itypescript 모듈을 global로 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g itypescript</span><br></pre></td></tr></table></figure>

<p>its 명령으로 Jupyter kenel로 설치해 준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">its --ts-install=<span class="built_in">local</span></span><br></pre></td></tr></table></figure>

<h3 id="Jupyter-notebook-Nginx-설정"><a href="#Jupyter-notebook-Nginx-설정" class="headerlink" title="Jupyter-notebook Nginx 설정"></a>Jupyter-notebook Nginx 설정</h3><p>Jupyter-notebook 을 nginx 뒤에서 실행시 아래 같은 동작이 반복적으로 보이이면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[I 19:26:48.843 NotebookApp] Adapting to protocol v5.1 for kernel 97e659cd-0509-4f56-878e-10e2c31803e2</span><br><span class="line">[I 19:26:48.853 NotebookApp] Restoring connection for 97e659cd-0509-4f56-878e-10e2c31803e2:b4d78dff5dff4563b0e5fc7195fefca1</span><br><span class="line">[I 19:26:48.881 NotebookApp] Starting buffering for 97e659cd-0509-4f56-878e-10e2c31803e2:b4d78dff5dff4563b0e5fc7195fefca1</span><br><span class="line">[I 19:26:51.904 NotebookApp] Adapting to protocol v5.1 for kernel 97e659cd-0509-4f56-878e-10e2c31803e2</span><br><span class="line">[W 19:26:51.930 NotebookApp] Replacing stale connection: 97e659cd-0509-4f56-878e-10e2c31803e2:b4d78dff5dff4563b0e5fc7195fefca1</span><br><span class="line">[W 19:26:51.957 NotebookApp] Replacing stale connection: 97e659cd-0509-4f56-878e-10e2c31803e2:b4d78dff5dff4563b0e5fc7195fefca1</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/42350182/jupyter-notebook-keeps-reconnecting-to-kernel">jupyter-notebook-keeps-reconnecting</a> 설명 처럼 nginx proxy 에서 http 버전을 명시해 준다.</p>
<p>If you are using jupyter behind a nginx proxy, this post may be effective.</p>
<p>Add this line to nginx conf.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_http_version 1.1;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html">http_proxy_module</a> 에 따르면 keepalive 를 사용하기 위해서 1.1 버전을 꼭 사용해야 할 것 같다.</p>
<blockquote>
<p>Sets the HTTP protocol version for proxying. By default, version 1.0 is used. Version 1.1 is recommended for use with keepalive connections and NTLM authentication.</p>
</blockquote>
<p>참조용 jupyter-notebook conf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">upstream my-notebook-workhorse &#123;</span><br><span class="line">  server 127.0.0.1:8888 fail_timeout=0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map $http_upgrade $connection_upgrade &#123;</span><br><span class="line">    default upgrade;</span><br><span class="line">    &#x27;&#x27; close;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># let my-notebook deal with the redirection</span><br><span class="line">server &#123;</span><br><span class="line">  listen                    80;</span><br><span class="line">  server_name               my-notebook.wh;</span><br><span class="line">  server_tokens             off;</span><br><span class="line">  root                      /dev/null;</span><br><span class="line"></span><br><span class="line">  # Increase this if you want to upload larger attachments</span><br><span class="line">  client_max_body_size      20m;</span><br><span class="line"></span><br><span class="line">  # individual nginx logs for this vhost</span><br><span class="line">  access_log                /var/log/nginx/my-notebook_access.log;</span><br><span class="line">  error_log                 /var/log/nginx/my-notebook_error.log;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    proxy_pass http://my-notebook-workhorse;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Forwarded_For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header X-NginX-Proxy true;</span><br><span class="line">    auth_basic &quot;Restricted Content&quot;;</span><br><span class="line"></span><br><span class="line">    # WebSocket support</span><br><span class="line">    proxy_http_version 1.1;</span><br><span class="line">    proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">    proxy_set_header Connection $connection_upgrade;</span><br><span class="line">    proxy_set_header Origin &quot;&quot;;</span><br><span class="line">    proxy_read_timeout 86400;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.howtoforge.com/tutorial/how-to-deploy-nodejs-applications-with-pm2-and-nginx-on-ubuntu/">How to deploy nodejs app with pm2</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/10/21/raspberrypi-2017-10-21-opensuse-jeos-nginxjupyter/" data-id="cl0196xh30037js7gg22p7abm" data-title="Raspberry Pi 3 64bit OS openSUSE: Nginx, Node JS, Jupyter " class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Raspberry-Pi-3/" rel="tag">Raspberry Pi 3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jupyter-notebook/" rel="tag">jupyter notebook</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openSUSE/" rel="tag">openSUSE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-raspberrypi-2017-10-21-opensuse-jeos-securities" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/10/21/raspberrypi-2017-10-21-opensuse-jeos-securities/" class="article-date">
  <time class="dt-published" datetime="2017-10-21T00:00:00.000Z" itemprop="datePublished">2017-10-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Raspberry-Pi/">Raspberry Pi</a>►<a class="article-category-link" href="/categories/Raspberry-Pi/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/10/21/raspberrypi-2017-10-21-opensuse-jeos-securities/">Raspberry Pi 3 64bit OS openSUSE: Basic Security</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Raspberry Pi 3 64bit OS openSUSE</strong> 는 이글은 3개 글타래로 구성되며, openSUSE 설치 및 사용에 대해 작성한다.</p>
<p>Opensuse 에서 Raspberry Pi 3를 위한 64bit OS openSESE Leap 42.3 을 제공하고 있다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3">https://en.opensuse.org/HCL:Raspberry_Pi3</a></li>
</ul>
<ol>
<li><a href="!--swig%EF%BF%BC5--">Install 64bit openSUSE Leap 42.3 &#x2F; JeOS</a></li>
<li>openSUSE: Managing Service daemon</li>
<li>openSUSE: Basic OS Security for Server</li>
<li>Install &amp; Configuration - Nginx, Node JS</li>
<li>Build MongoDB 3.4.x</li>
</ol>
<h2 id="openSUSE-Basic-OS-Security-for-Server"><a href="#openSUSE-Basic-OS-Security-for-Server" class="headerlink" title="openSUSE: Basic OS Security for Server"></a>openSUSE: Basic OS Security for Server</h2><p>이전 글에서 라즈베리파이 3에 설치한 64bit OS openSUSE LEAP &#x2F; JeOS를 서버 구성을 위해서 보안 설정을 한다. 이 글은 다음 세가지 내용을 포함하고 있다.</p>
<ul>
<li>ssh와 sshd 설정</li>
<li>방화벽 설정: YaST Firewall 대비 ufw 설치</li>
<li>Fail2ban 설치 및 설정</li>
</ul>
<h3 id="sshd-config"><a href="#sshd-config" class="headerlink" title="sshd_config"></a>sshd_config</h3><p>ssh 사용시 </p>
<p><a href="/linux/sshd-basic-securities/">sshd securities</a></p>
<h3 id="방화벽-설정"><a href="#방화벽-설정" class="headerlink" title="방화벽 설정"></a>방화벽 설정</h3><p>openSUSE 42.3까지 SuSEfirewall2 가 기본으로 제공되어 서비스를 활성화 하면 사용할 수 있다. </p>
<h4 id="UFW"><a href="#UFW" class="headerlink" title="UFW"></a>UFW</h4><p>SuSEFirewall2 을 우분투&#x2F;데비안에서 익숙한 ufw 를 사용할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Basic Syntax:</span><br><span class="line">    yast2 firewall interactive</span><br><span class="line">    yast2 firewall &lt;command&gt; [verbose] [options]</span><br><span class="line">    yast2 firewall help</span><br><span class="line">    yast2 firewall longhelp</span><br><span class="line">    yast2 firewall xmlhelp</span><br><span class="line">    yast2 firewall &lt;command&gt; help</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">    broadcast     Broadcast packet settings</span><br><span class="line">    disable       Disables firewall</span><br><span class="line">    enable        Enables firewall</span><br><span class="line">    interfaces    Network interfaces configuration</span><br><span class="line">    logging       Logging settings</span><br><span class="line">    masqredirect  Redirect requests to masqueraded IP</span><br><span class="line">    masquerade    Masquerading settings</span><br><span class="line">    services      Allowed services, ports, and protocols</span><br><span class="line">    startup       Start-up settings</span><br><span class="line">    summary       Firewall configuration summary</span><br><span class="line">    zones         Known firewall zones</span><br></pre></td></tr></table></figure>

<p>먼저 SuSEfirewall2 를 멈추고 비활성화 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yast firewall disable</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop SuSEfirewall2</span><br><span class="line">systemctl <span class="built_in">disable</span> SuSEfirewall2</span><br></pre></td></tr></table></figure>

<p>그리고 ufw를 설치하고</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zypper in ufw</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ufw default deny</span><br><span class="line">ufw enable</span><br><span class="line">systemctl enable ufw</span><br><span class="line">systemctl start ufw</span><br></pre></td></tr></table></figure>


<h3 id="Fail2ban"><a href="#Fail2ban" class="headerlink" title="Fail2ban"></a>Fail2ban</h3><p>rsyslog 를 설치한다.</p>
<p><a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:SSH_systematic_attack_protection">https://en.opensuse.org/SDB:SSH_systematic_attack_protection</a></p>
<p><a target="_blank" rel="noopener" href="https://www.howtoforge.com/fail2ban_opensuse10.3">https://www.howtoforge.com/fail2ban_opensuse10.3</a></p>
<p>zypper in fail2ban</p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p><a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:OpenSSH_public_key_authentication">OpenSSH Public Key Authentication</a></p>
<p><a target="_blank" rel="noopener" href="https://doc.opensuse.org/documentation/leap/security/html/book.security/cha.security.firewall.html">https://doc.opensuse.org/documentation/leap/security/html/book.security/cha.security.firewall.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/10/21/raspberrypi-2017-10-21-opensuse-jeos-securities/" data-id="cl0196xh40038js7g94uz9ht5" data-title="Raspberry Pi 3 64bit OS openSUSE: Basic Security" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Raspberry-Pi-3/" rel="tag">Raspberry Pi 3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openSUSE/" rel="tag">openSUSE</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-raspberrypi-2017-10-20-opensuse-jeos-install" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/10/20/raspberrypi-2017-10-20-opensuse-jeos-install/" class="article-date">
  <time class="dt-published" datetime="2017-10-20T00:10:00.000Z" itemprop="datePublished">2017-10-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Raspberry-Pi/">Raspberry Pi</a>►<a class="article-category-link" href="/categories/Raspberry-Pi/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/10/20/raspberrypi-2017-10-20-opensuse-jeos-install/">Raspberry Pi 3 64bit OS openSUSE: Install</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>2017-10-30: swap 추가, timezone 수정<br>{:.right-history}</p>
</blockquote>
<p>Opensuse 에서 Raspberry Pi 3를 위한 64bit OS openSESE Leap 42.2 을 제공하고 있다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3">https://en.opensuse.org/HCL:Raspberry_Pi3</a></li>
</ul>
<p>이글은 5개 글타래로 구성되며, openSUSE 설치 및 사용에 대해 작성한다.</p>
<ol>
<li><strong>Install 64bit openSUSE Leap 42.2 &#x2F; JeOS</strong></li>
<li>openSUSE: Managing Service daemon</li>
<li>openSUSE: Basic OS Security for Server</li>
<li><a href="!--swig%EF%BF%BC32--">Install &amp; Configuration - Nginx, Node JS, Jupyter</a></li>
<li>openSUSE: Build MongoDB 3.4.x</li>
</ol>
<h2 id="Install-64bit-openSUSE-Leap-42-2-x2F-JeOS"><a href="#Install-64bit-openSUSE-Leap-42-2-x2F-JeOS" class="headerlink" title="Install 64bit openSUSE Leap 42.2 &#x2F; JeOS"></a>Install 64bit openSUSE Leap 42.2 &#x2F; JeOS</h2><p>openSUSE는 <strong>Raspberry Pi 3</strong>를 위한 Opensuse community edition은 정식 버전 <strong>Leap 42.2 image</strong>, 개발버전 <em>Tumbleweed image</em>, 커뮤니티버전 non-upstream openSUSE Tumbleweed image* 으로 구성되어 있다.</p>
<p>이들 버전은 용도에 따라 JeOS, E20, LXQT X11 이미지로 다운받을 수 있다.</p>
<ul>
<li><p>Just Enought Operating System (JeOS)</p>
<ul>
<li>jeOS 이미지는 기본 오에스만을 포함하고 있다.</li>
<li><a target="_blank" rel="noopener" href="https://www.suse.com/products/server/jeos/">https://www.suse.com/products/server/jeos/</a></li>
</ul>
</li>
<li><p>E20</p>
<ul>
<li>데스크탑 환경으로 Enlightenment 을 사용하 GUI 이미지</li>
</ul>
</li>
<li><p>LXQt</p>
<ul>
<li>LXDE-Qt 와 RazorQt 병합한 데스크탑 환경</li>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/LXQt">https://en.opensuse.org/LXQt</a></li>
</ul>
</li>
</ul>
<br>
### Download and Install

<p><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3">Download Page</a> 의 두번째 <em>Installing the 64-bit openSUSE Leap image</em> 단락에 있는 JeOS image 를 다운로드 한다.</p>
<h4 id="Writing-image-to-SD-Card"><a href="#Writing-image-to-SD-Card" class="headerlink" title="Writing image to SD Card"></a>Writing image to SD Card</h4><p><a target="_blank" rel="noopener" href="http://etcher.io/">Etcher</a> 등을 이용해서 다운받은 이미지 파일을 SD Card에 쓴다.</p>
<p><img src="/images/opensuse/etcher-image-writing.png">{:width&#x3D;”640”}</p>
<h5 id="dd-를-사용한다면"><a href="#dd-를-사용한다면" class="headerlink" title="dd 를 사용한다면,"></a><code>dd</code> 를 사용한다면,</h5><p>다운받은 <code>.xz</code> 파일을 <code>dd</code> 를 이용해서 SD Card에 쓴다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xzcat openSUSE-Leap42.2-ARM-JeOS-raspberrypi3.aarch64.raw.xz | sudo dd of=/dev/rdisk1 bs=4m; sync</span><br></pre></td></tr></table></figure>

<br>
#### Serial console

<p>여기서는 <strong>Serial console</strong>에서 네트워크 확인 및 초기 설정을 하고 <strong>ssh</strong> 로 서버에 로그인해서 시스템 구성을 진행한다.</p>
<blockquote>
<p>SD Card를 라즈베리파이에 꽃고 HDMI, Keyboard 및 Mouse 가 별도로 준비되어 있으면 직접 모니터를 보고 작업을 진행하면 좋다.</p>
</blockquote>
<p>USB to Serial 케이블을 사용해서 Raspberry Pi의 Serial Console에 연결한다.</p>
<p><img src="/images/raspberrypi/rpi-usb-serial.png">{:width&#x3D;”640”}</p>
<p>그리고 시리얼 포트를 통해 tty 연결을 위해 터미널 프로그램에서 baud rate 115200 으로 연결한다. 아래는 macOS의 <code>screen</code> CLI 명령으로 usb serial 포트에 연결하고 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen /dev/cu.usbserial 115200</span><br></pre></td></tr></table></figure>

<p>이제 SD Card를 넣고 부팅을 하면, 터미널에 부트 단계가 진행되고 처음 5분 정도 소요된다.</p>
<p><img src="/images/opensuse/opensuse-boot33.png">{:width&#x3D;”640”}</p>
<p>Raspberry Pi를 위한 이미지는 처음 계정은 <code>root/linux</code> 이다.</p>
<p>터미널에서 uname 은 <strong>aarch64</strong> 임을 확인 할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root<span class="comment"># uname -a</span></span><br><span class="line">Linux homepi 4.4.90-18.32-default <span class="comment">#1 SMP Fri Oct 6 13:30:08 UTC 2017 (465b410) aarch64 aarch64 aarch64 GNU/Linux</span></span><br></pre></td></tr></table></figure>

<p>처음으로 라즈베리파이에서 64bit 환경으로 운영해 볼 수 있게 됐다.</p>
<br>
<br>
### 설치 후 서버 구성을 위해 할 일

<p>JeOS를 서버로 구성하기 위해서 다음 같은 작업을 수행해 준다.</p>
<ul>
<li>root 패스워드 변경</li>
<li>sudoer 사용자 생성</li>
<li>DHCP를 고정 IP로 변경</li>
</ul>
<h4 id="root-패스워드"><a href="#root-패스워드" class="headerlink" title="root 패스워드"></a>root 패스워드</h4><p>root 사용자의 패스워드를 변경한다.</p>
<p><img src="/images/opensuse/opensuse-root-passwd.png">{:width&#x3D;”640”}</p>
<h4 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h4><p>Ubuntu&#x2F;Debian 계열의 패키지 명령 <code>apt</code>,<code>apt-get</code> 과 비슷한 openSUSE 명령라인 패키지 관리자는 <strong>zypper</strong> 가 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">zypper <span class="built_in">help</span> search     <span class="comment"># to print help for the search command</span></span><br><span class="line">zypper refresh, ref    <span class="comment"># Refresh all repositories.</span></span><br><span class="line">zypper update,  up     <span class="comment"># to update all installed packages</span></span><br><span class="line">zypper lp              <span class="comment"># to see what patch updates are needed</span></span><br><span class="line">zypper patch           <span class="comment"># to apply the needed patches</span></span><br><span class="line">zypper se sqlite       <span class="comment"># to search for sqlite</span></span><br><span class="line">zypper <span class="built_in">rm</span> sqlite2      <span class="comment"># to remove sqlite2</span></span><br><span class="line">zypper <span class="keyword">in</span> sqlite3      <span class="comment"># to install sqlite3</span></span><br><span class="line">zypper <span class="keyword">in</span> yast*        <span class="comment"># to install all packages matching &#x27;yast*&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:Zypper_usage">zypper usages</a> 에서 사용방법을 자세히 알 수 있다.</li>
</ul>
<p>머저 최신 소프트웨어 목록으로 업데이트 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zypper refresh</span><br><span class="line">zypper ref</span><br></pre></td></tr></table></figure>

<p>그리고 최근 업그레이드된 필요한 패키지를 다운로드하고 설치한다.[^1]</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zypper update</span><br><span class="line">zypper up</span><br></pre></td></tr></table></figure>

<blockquote>
<p>지원중단된 패키지, 나뉘어진 패키지 등의 의존성을 고려한 업그레이드를 하려면 <code>dup</code> 명령을 사용한다.&gt;</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zypper dup             <span class="comment"># distribution upgrade</span></span><br><span class="line">zypper dist-upgrade</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="upgrade-후에"><a href="#upgrade-후에" class="headerlink" title="upgrade 후에"></a>upgrade 후에</h5><p>실행중인 데몬을 재시작해줄 필요가 있는데 <code>zypper ps -s</code> 를 실행하면 목록을 표시해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">pi64:/home/ # zypper ps -s</span><br><span class="line">The following running processes use deleted files:</span><br><span class="line"></span><br><span class="line">PID   | PPID  | UID  | User       | Command                    | Service</span><br><span class="line">------+-------+------+------------+----------------------------+-------------------</span><br><span class="line">307   | 1     | 0    | root       | systemd-journald (deleted) | systemd-journald</span><br><span class="line">484   | 1     | 0    | root       | auditd                     | auditd</span><br><span class="line">502   | 1     | 1000 | qkboo      | python3                    | jupyter</span><br><span class="line">513   | 1     | 499  | messagebus | dbus-daemon (deleted)      | dbus</span><br><span class="line">525   | 1     | 0    | root       | systemd-logind (deleted)   | systemd-logind</span><br><span class="line">529   | 1     | 0    | root       | agetty (deleted)           | getty@tty1</span><br><span class="line">996   | 1     | 0    | root       | cupsd                      | cups</span><br><span class="line">1018  | 1     | 0    | root       | cron                       | cron</span><br><span class="line">1043  | 1     | 74   | ntp        | ntpd                       | ntpd</span><br><span class="line">1047  | 1043  | 74   | ntp        | ntpd                       | ntpd</span><br><span class="line">1145  | 1     | 0    | root       | python2.7                  | fail2ban</span><br><span class="line">1146  | 1     | 1000 | qkboo      | node                       | pm2-qkboo</span><br><span class="line">2131  | 1     | 0    | root       | agetty (deleted)           | serial-getty@ttyS0</span><br><span class="line">5716  | 1146  | 1000 | qkboo      | node                       | pm2-qkboo</span><br><span class="line">5749  | 1146  | 1000 | qkboo      | node                       | pm2-qkboo</span><br><span class="line">12400 | 1     | 0    | root       | sshd (deleted)             |</span><br><span class="line">12402 | 1     | 1000 | qkboo      | systemd (deleted)          |</span><br><span class="line">12405 | 0     | 1000 | qkboo      | systemd (deleted)          |</span><br><span class="line">12411 | 12400 | 1000 | qkboo      | sshd (deleted)             |</span><br><span class="line">12412 | 12411 | 1000 | qkboo      | bash                       |</span><br><span class="line">12783 | 12412 | 0    | root       | sudo                       |</span><br><span class="line">12784 | 12783 | 0    | root       | bash                       |</span><br><span class="line">12876 | 1     | 0    | root       | nginx                      | nginx</span><br><span class="line">12879 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">12880 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">12881 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">12882 | 12876 | 494  | nginx      | nginx                      | nginx</span><br><span class="line">15908 | 502   | 1000 | qkboo      | node                       | jupyter</span><br><span class="line">15916 | 15908 | 1000 | qkboo      | node                       | jupyter</span><br><span class="line">26929 | 502   | 1000 | qkboo      | node                       | jupyter</span><br></pre></td></tr></table></figure>

<h4 id="ip-주소-확인"><a href="#ip-주소-확인" class="headerlink" title="ip 주소 확인"></a>ip 주소 확인</h4><p>ifconfig 명령으로 현재 IP Address를 확인하고 이 IP Address에 <code>ssh</code> 를 사용해 접속한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">linux:~ <span class="comment"># ifconfig</span></span><br><span class="line">eth0      Link encap:Ethernet  HWaddr B9:40:EB:BA:10:02</span><br><span class="line">          inet addr:192.168.1.104  Bcast:192.168.1.255  Mask:255.255.255.0</span><br><span class="line">          inet6 addr: fe90::ba37:ebff:feba:1012/64 Scope:Link</span><br><span class="line">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span><br><span class="line">          RX packets:83136 errors:0 dropped:0 overruns:0 frame:0</span><br><span class="line">          TX packets:27300 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">          collisions:0 txqueuelen:1000</span><br><span class="line">          RX bytes:120797947 (115.2 Mb)  TX bytes:2369690 (2.2 Mb)</span><br><span class="line">linux:~ <span class="comment">#</span></span><br><span class="line">linux:~ <span class="comment"># shutdown now</span></span><br></pre></td></tr></table></figure>

<p>좀더 편리한 사용을 위해 <code>ifconfig</code> 명령으로 찾은 IP address에 ssh 로그인을 해서 작업을 진행한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@192.168.1.104</span><br></pre></td></tr></table></figure>

<br>
<br>
### 시스템 설정

<p>이제 sudoer 사용자로 시스템을 서버에 적합하게 구성해 보자.</p>
<ul>
<li>sudoer 추가</li>
<li>yast 소개</li>
<li>timezone</li>
<li>Network 구성: 호스트 이름, IP 주소</li>
<li>swap 개선</li>
<li>yast로 사용자 추가</li>
</ul>
<h4 id="sudoer"><a href="#sudoer" class="headerlink" title="sudoer"></a>sudoer</h4><p><strong>root</strong> 사용자가 아닌 일반사용자를 <code>sudoer</code>로 등록해 관리자 기능을 대행 할 수 있다. 그러기 위해서 먼저 사용자를 추가한다. openSUSE <code>yast</code>라는 시스템 도구로 할 수 있지만 여기선 <code>useradd</code> 명령을 사용해서 사용자 추가한다. <code>useradd</code>에 대해서는 <a target="_blank" rel="noopener" href="http://www.tecmint.com/add-users-in-linux/">useradd 명령</a>을 참조한다.</p>
<p><code>useradd</code> 는 홈 디렉토리, 쉘 등에 대한 옵션을 주고 사용자를 등록한다.</p>
<ul>
<li>추가한 사용자를 &#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group and &#x2F;etc&#x2F;gshadow 추가</li>
<li>그리고 <code>-m</code> 옵션으로 으로 사용자 홈 디렉토리 까지 생성한다.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root<span class="comment">#  useradd -m foo</span></span><br></pre></td></tr></table></figure>

<p>그리고 패스워드를 등록한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root<span class="comment"># passwd foo</span></span><br><span class="line">New password:</span><br><span class="line">Retype new password:</span><br><span class="line">passwd: password updated successfully</span><br></pre></td></tr></table></figure>

<h4 id="sudoer-등록"><a href="#sudoer-등록" class="headerlink" title="sudoer 등록"></a>sudoer 등록</h4><p><code>visudo</code> 명령으로 <em>&#x2F;etc&#x2F;sudoers</em> 파일을 편집한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo visudo</span><br></pre></td></tr></table></figure>

<p><em>sudoer</em> 파일에 있는 <em>User privilege</em> 항목 아래에 새로운 사용자 foo를 아래 같이 등록한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># User privilege specification</span><br><span class="line">root  ALL=(ALL) ALL</span><br><span class="line">foo  ALL=(ALL) ALL</span><br></pre></td></tr></table></figure>

<p>이제 root에서 로그아웃하고 새로 추가한 사용자로 로그인한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ssh foo@192.168.1.104</span><br><span class="line">Password:</span><br><span class="line">Have a lot of fun...</span><br><span class="line">foo@linux:~&gt;</span><br></pre></td></tr></table></figure>

<p>openSUSE는 관리자용 명령을 직접 내리면 찾지 못한다고 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo@linux:~&gt; yast2 timezone</span><br><span class="line">-bash: yast2: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>

<p>그리고 처음으로 sudoer 사용자가 관리자 권한이 필요한 명령을 사용하기 위해 <code>sudu</code> 로 명령을 내리면 아래 같은 경고가 나온다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">foo@linux:~&gt; sudo /sbin/yast2 timezone</span><br><span class="line"></span><br><span class="line">We trust you have received the usual lecture from the <span class="built_in">local</span> System</span><br><span class="line">Administrator. It usually boils down to these three things:</span><br><span class="line"></span><br><span class="line">    <span class="comment">#1) Respect the privacy of others.</span></span><br><span class="line">    <span class="comment">#2) Think before you type.</span></span><br><span class="line">    <span class="comment">#3) With great power comes great responsibility.</span></span><br></pre></td></tr></table></figure>

<p>openSUSE는 시스템 관리 도구로 <code>yast</code> 를 사용해서 소프트웨어 설치, 네트워크 구성, 시간 관리, 보안 및 사용자 등을 다루는 소프트웨어로 GUI와 CLI 모두 사용할 수 있다.</p>
<p>시스템 네트워크를 구성하기 위해서 <code>yast</code> 명령을 사용해보자,</p>
<h4 id="yast"><a href="#yast" class="headerlink" title="yast"></a>yast</h4><p>yast는 GUI 혹은 ClI에서 사용이 가능하다 . 다음은 <code>sudo yast</code> 를 실행하면 Ncurse 로 표시되는 yast 화면이다.</p>
<p><img src="/images/opensuse/yast-cli-ui.png">{:width&#x3D;”640”}</p>
<p>TAB 키로 각 항목을 이동할 수 있고, Enter로 실행한다. 전체 화면에서 F9는 Cancel, F10은 OK 기능을 수행한다.</p>
<h4 id="Timezone"><a href="#Timezone" class="headerlink" title="Timezone"></a>Timezone</h4><p>처음 설치후 <em>CET</em> 시간대로 되어 있어서 Asia&#x2F;Seoul로 변경하고자 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linux:~ <span class="comment"># date</span></span><br><span class="line">Sun Oct 29 09:19:31 CET 2017</span><br></pre></td></tr></table></figure>

<p>시스템 시간대를 설정하려면 <code>yast</code> 를 시작해 <em>System -&gt; Date and Time</em> 을 실행해 시간대를 지정한다. 혹은 <code>yast timezone</code> 모듈 명령을 주면 해당 Date and Time 화면으로 이동할 수 있다.</p>
<p><img src="/images/opensuse/yast-date_time.png">{:width&#x3D;”640”}</p>
<p>시간대를 변경후 확인해 보면,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linux:~ # date</span><br><span class="line">Sun Oct 29 17:22:11 KST 2017</span><br></pre></td></tr></table></figure>

<p>ntp로 동기화하려면 <em>Other Settings…</em> 항목을 선택해 <em>ntp server</em> 를 설치하고 활성화 한다.</p>
<p><img src="/images/opensuse/yast-date_time-ntp1.png">{:width&#x3D;”640”}<br><img src="/images/opensuse/yast-date_time-ntp2.png">{:width&#x3D;”640”}</p>
<!--
참고로 ClI로 `yast` 명령을 사용할 수 있다. 예를 들어 timezone 사용 가능한 시간대는

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yast2 timezone list</span><br></pre></td></tr></table></figure>

<p>해당 하는 시간대 문자열을 이용해 시간대를 지정한다.</p>
<blockquote>
<p>sudo yast2 timezone set timezone&#x3D;[TIMEZONE]</p>
</blockquote>
<p>우리나라 시간대 ‘Asia&#x2F;Seoul (Seoul)’는 이렇게 지정할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo yast2 timezone <span class="built_in">set</span> timezone=<span class="string">&#x27;Asia/Seoul (Seoul)&#x27;</span></span><br></pre></td></tr></table></figure>
<p>–&gt;</p>
<h4 id="yast로-네트워크-설정하기"><a href="#yast로-네트워크-설정하기" class="headerlink" title="yast로 네트워크 설정하기"></a>yast로 네트워크 설정하기</h4><p>시스템 네트워크 구성을 설정하려면 <code>yast</code> 에서 <em>System -&gt; Network Settings</em> 을 실행한다.</p>
<p><img src="/images/opensuse/yast-network1.png">{:width&#x3D;”640”}</p>
<p>네트워크 구성 상태를 가져오는 시간이 걸린다.</p>
<p><img src="/images/opensuse/yast-network2.png">{:width&#x3D;”640”}</p>
<p>네트워크 구성을 시작한다. TAB으로 <code>Edit</code> 를 선택하고,</p>
<p><img src="/images/opensuse/yast-network-settings.png">{:width&#x3D;”640”}</p>
<p><em>Statically Assigned IP Address</em>를 선택하고, 아래 IP Address, Subnet Mask, Hostname 을 입력한다.</p>
<p><img src="/images/opensuse/yast-network-ip-address.png">{:width&#x3D;”640”}</p>
<p>TAB으로 이동해 <strong>Next</strong> 버튼을 누른다. 그리고 TAB으로 <strong>Hostname&#x2F;DNS</strong> 탭 으로 이동해서 Name Server를 입력한다. 보통 DHCP를 지원하는 공유기&#x2F;라우터에서 DNS server 역할을 하므로 게이트웨이 IP를 입력해도 무방하다.</p>
<p><img src="/images/opensuse/yast-network-host.png">{:width&#x3D;”640”}</p>
<p>마지막으로 <strong>Routing</strong> 탭을 이동해 Gateway를 입력해 준다.</p>
<p><img src="/images/opensuse/yast-network-gw.png">{:width&#x3D;”640”}</p>
<p>완료됐으면 <em>F10</em> 혹은 TAB으로 <strong>OK 버튼</strong>으로 이동해 설정한 내용을 저장한다. 이로서 수동 IP 주소 입력을 마친다.</p>
<p><code>yast</code> ClI 명령으로 Host 이름을 변경할 수 있다.</p>
<blockquote>
<p>yast dns edit hostname&#x3D;HOSTNAME</p>
</blockquote>
<p>또한 <code>yast</code> ClI 명령으로 소프트웨어 패키지를 설치 할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yast -i &lt;package_name&gt;</span><br><span class="line">sudo yast --install &lt;package_name&gt;</span><br></pre></td></tr></table></figure>

<h4 id="swap-개선"><a href="#swap-개선" class="headerlink" title="swap 개선"></a>swap 개선</h4><p>JeOS는 별도의 파티션에 swap을 가지고 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~&gt; sudo swapon -s</span><br><span class="line">Filename        Type    Size  Used  Priority</span><br><span class="line">/dev/mmcblk0p3                          partition 497384  1816  -1</span><br></pre></td></tr></table></figure>

<p>별도의 swap 을 1GB 크기 Swap file로 추가하려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=/dev/zero of=/var/swapfile1G bs=1G count=1</span><br><span class="line">$ sudo chmod 600 /var/swapfile1G</span><br><span class="line">$ sudo mkswap /var/swapfile1G</span><br><span class="line">Setting up swapspace version 1, size = 1024 MiB (1073737728 bytes)</span><br><span class="line">no label, UUID=3b192470-5297-42ef-a033-b19b0de03590</span><br><span class="line"></span><br><span class="line">$ sudo swapon /var/swapfile1G</span><br><span class="line">$ sudo swapon -s</span><br></pre></td></tr></table></figure>

<p><code>mkswap</code> 명령 결과에 있는 <em>UUID&#x3D;…</em> 부분을 복사해 &#x2F;etc&#x2F;fstab 에 종속적으로 등록해 주면 재시동 후에도 사용 가능하다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UUID=3b192470-5297-42ef-a033-b19b0de03590 swap swap defaults 0 0</span><br></pre></td></tr></table></figure>

<h4 id="yast-사용자-추가"><a href="#yast-사용자-추가" class="headerlink" title="yast 사용자 추가"></a>yast 사용자 추가</h4><p>앞에서 <code>adduser</code> 명령으로 사용자를 추가했는데 openSUSE에서는 <code>yast</code>에서 사용할 수 있다. <code>yast</code> 를 시작해서 사용자 관리로 가거나, 아래 같이 바로 사용자 관리 화면으로 시작할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yast2 <span class="built_in">users</span></span><br></pre></td></tr></table></figure>

<p>yast 화면에서 사용자 관리 화면,</p>
<p><img src="/images/opensuse/yast-user.png">{:width&#x3D;”650”}</p>
<p>다음 서버로 운영을 위해서 openSUSE에서 sshd 보안 강화, 방화벽, 필터링 등의 기본적인 보안 작업을 진행한다. <em>다음 openSUSE: Basic Security for Server</em></p>
<h4 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h4><p>rpi3 가 1GB 메인메모리로 출시, raspbian 실제 메모리 정보는,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat /proc/meminfo</span><br><span class="line">MemTotal:         949572 kB</span><br><span class="line">MemFree:          386192 kB</span><br><span class="line">MemAvailable:     711148 kB</span><br></pre></td></tr></table></figure>

<p>rpi3에 openSUSE LEAP 42.2에서</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; cat /proc/meminfo</span><br><span class="line">MemTotal:         803988 kB</span><br><span class="line">MemFree:          661276 kB</span><br><span class="line">MemAvailable:     684504 kB</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://raspberrypi.stackexchange.com/questions/56266/raspberry-pi-3-has-less-than-1gb-memory-available-at-os-level">여기</a> 에 따르면 GPU 때문 인듯…</p>
<h3 id="tune2fs"><a href="#tune2fs" class="headerlink" title="tune2fs"></a>tune2fs</h3><p>fsck로 마지막 체크한 시간 확인은 <code>tune2fs</code> 명령을 이용</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$sudo tune2fs -l /dev/sdbX | grep Last\ c</span><br><span class="line">Last checked:             Sun Dec 13 09:14:22 2015</span><br></pre></td></tr></table></figure>

<h4 id="e2fsck-점검"><a href="#e2fsck-점검" class="headerlink" title="e2fsck 점검"></a>e2fsck 점검</h4><p>부팅시 e2fsck로 점검할 마운트 횟수가 설정되 있다. <code>-l</code> 옵션으로 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tune2fs -l /dev/sdbX | grep Mount</span><br><span class="line">Mount count:              157</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tune2fs -l /dev/sdbX | grep Max</span><br><span class="line">Maximum mount count:      -1</span><br></pre></td></tr></table></figure>

<p>이 마운트 회수를 지정할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tune2fs -c 10 /dev/sdb1</span><br></pre></td></tr></table></figure>

<br>

<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><p><a target="_blank" rel="noopener" href="https://en.opensuse.org/HCL:Raspberry_Pi3#Installing_the_64-bit_openSUSE_Leap_image">Raspberry Pi 3: Installing 64bit openSuse Leap Image</a></p>
<p>[^1]: <a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:System_upgrade">System Upgrade</a><br>[^2]: <a target="_blank" rel="noopener" href="https://software.opensuse.org/package/net-tools-deprecated">net-tools deprecated</a><br>[^4]: <a target="_blank" rel="noopener" href="http://www.susegeek.com/networking/how-to-setup-persistent-static-routes-in-opensuse-110/">Static route in Opensuse</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/10/20/raspberrypi-2017-10-20-opensuse-jeos-install/" data-id="cl0196xk800i5js7gc0ltftfh" data-title="Raspberry Pi 3 64bit OS openSUSE: Install" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Raspberry-Pi-3/" rel="tag">Raspberry Pi 3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openSUSE/" rel="tag">openSUSE</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-linux-2017-09-17-synergy-build" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/09/17/linux-2017-09-17-synergy-build/" class="article-date">
  <time class="dt-published" datetime="2017-09-17T05:00:00.000Z" itemprop="datePublished">2017-09-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/09/17/linux-2017-09-17-synergy-build/">synergy build</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>2017-09-17: 최초 작성<br>{:.right-history}</p>
</blockquote>
<h2 id="Synergy"><a href="#Synergy" class="headerlink" title="Synergy"></a>Synergy</h2><p><a href="">Synergy</a>는 키보드와 마우스 자원을 공유할 수 있는 클라이언트 서버 프로그램이다.</p>
<ul>
<li>홈페이지: <a target="_blank" rel="noopener" href="https://symless.com/synergy">https://symless.com/synergy</a></li>
<li>Github: <a target="_blank" rel="noopener" href="https://github.com/symless/synergy-core">https://github.com/symless/synergy-core</a></li>
</ul>
<p><img src="https://symless.com/img/synergy/homepage-explainer-graphic.png">{:width&#x3D;”600”}</p>
<p>[그림. Synergy 통한 결합 (symless.com)]</p>
<p><a target="_blank" rel="noopener" href="https://symless.com/synergy">https://symless.com/synergy</a> 에서 유료 가입도 가능하고, 소스 기반의 배포본을 직접 빌드해서 사용할 수 있다.</p>
<p>사용하는 Mac과 Arm 기반의 Orangepiplus, Raspberry Pi 사이의 키보드&#x2F;마우스 공유를 위해서 Synergy를 사용하는데, Arm 기반의 바이너리가 없어서 빌드를 하는 과정을 기록했다.</p>
<h3 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h3><p>여기서는 다음 저장소의 버전을 사용.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/brahma-dev/synergy-stable-builds">https://github.com/brahma-dev/synergy-stable-builds</a></p>
<p>위 페이지의 releases 페이지에 MacOS 버전은 dmg 로 제공받을 수 있다. 다만 Arm 기반 머신의 바이너리는 없어서 소스 빌드를 해야 한다.</p>
<p>다운로드한 소스에서 README 파일을 참고해서 빌드를 한다.</p>
<h4 id="사전-준비"><a href="#사전-준비" class="headerlink" title="사전 준비"></a>사전 준비</h4><p>소스 빌드를 위해서 개발용 패키지가 필요하다. 여기서 Ubuntu, Debian 계열에서 필요한 패키지만 나열했다. [^1]</p>
<p>Ubuntu 10.04 to 15.10</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install cmake make g++ xorg-dev libqt4-dev libcurl4-openssl-dev libavahi-compat-libdnssd-dev libssl-dev libx11-dev</span><br></pre></td></tr></table></figure>

<p>Debian 7&#x2F;8</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential cmake libavahi-compat-libdnssd-dev libcurl4-openssl-dev libssl-dev lintian python qt4-dev-tools xorg-dev fakeroot</span><br></pre></td></tr></table></figure>

<h4 id="Orangepi-Plus"><a href="#Orangepi-Plus" class="headerlink" title="Orangepi Plus"></a>Orangepi Plus</h4><p>현재 Orangepiplus 머신에 Armbian 릴리즈를 설치해서 사용중이다.  그런데 빌드중 gtest, qmake 관련한 에러가 발생해서 libgtest와 qt4-qmake 를 설치했다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libgtest-dev</span><br><span class="line">sudo apt install qt4-qmake libqt4-dev</span><br></pre></td></tr></table></figure>


<h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><p>소스를 git으로 다운로드한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/brahma-dev/synergy-stable-builds.git synergy</span><br><span class="line"><span class="built_in">cd</span> synergy</span><br><span class="line"><span class="built_in">cat</span> README</span><br></pre></td></tr></table></figure>

<p>README에서 “hm conf” 와 “hm build” 로 빌드한다고 한다. 쉘 유틸리티 <code>hm.sh</code> 를 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./hm.sh </span><br></pre></td></tr></table></figure>

<p>먼저 빌드환경을 설정 - <code>hm.sh genlist</code> 결과 중에서 선택한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./hm.sh genlist</span><br><span class="line">1: Unix Makefiles</span><br><span class="line">2: Eclipse CDT4 - Unix Makefiles</span><br></pre></td></tr></table></figure>

<p>해당 빌드환경으로 선택해 설정을 시작한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ./hm.sh conf -g 1</span><br><span class="line">Mapping <span class="built_in">command</span>: conf -&gt; configure</span><br><span class="line">Running setup...</span><br><span class="line">Setup complete.</span><br><span class="line">cmake version 3.5.1</span><br></pre></td></tr></table></figure>

<p>빌드를 진행한다 - 거의 1시간 이상 소요 허…ㄱ 허…ㄱ</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./hm.sh build</span><br></pre></td></tr></table></figure>


<blockquote>
<p>빌드중 다음같은 qmake 에러가 발생하면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Going back to: /home/qkboo/Hdd/synergy-stable-builds</span><br><span class="line">Error: Could not test for cmake: qmake: could not exec &#x27;/usr/lib/arm-linux-gnueabihf/qt4/bin/qmake&#x27;: No such file or directory</span><br></pre></td></tr></table></figure>

<p>qt4-qmake를 설치해 준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install qt4-qmake libqt4-dev</span><br></pre></td></tr></table></figure>
</blockquote>
<p>빌드가 완료되면 <em>build&#x2F;bin</em> 디렉토리 밑의 실행 파일을 적당한 곳에 옮겨 놓고 <code>synergy</code> 를 실행하면 된다.</p>
<h3 id="synergy-사용"><a href="#synergy-사용" class="headerlink" title="synergy 사용"></a>synergy 사용</h3><p>보통 서버는 마우스&#x2F;키보드를 공유할 컴퓨터이고, 클라이언트는 공유 마우스&#x2F;키보드를 사용할 컴퓨터이다.<br>그러므로 같은 네트워크에 있는 컴퓨터여야 한다. ( 같은 허브, 라우터 등)</p>
<p>아래 같이 해주면 기본적으로 마우스&#x2F;키보드를 서버-클라이언트에서 사용할 수 있다.</p>
<p>(1) 먼저 클라이언트에서 <code>synergy</code>를 실행해서 클라이언트 screen name을 정한다. 보통 호스트 이름이 그대로 사용된다.<br>이 screen name으로 서버에서 접속을 허용되므로 주의해야 한다.</p>
<p>(2) 서버에서 <code>synergy</code>를 실행해 클라이언트를 추가하고 클라이언트의 screen name을 입력해준다.</p>
<p><img src="/images/linux/synergy-server-setup.png">{:width&#x3D;”600”}</p>
<br/>
## 참조

<p>[^1]: <a target="_blank" rel="noopener" href="https://github.com/symless/synergy-core/wiki/Compiling">실제 공식 컴파일 위키</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/09/17/linux-2017-09-17-synergy-build/" data-id="cl0196xg20013js7g0tr5455h" data-title="synergy build" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/synergy/" rel="tag">synergy</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-nodejs-2017-09-05-angular-tour-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/09/05/nodejs-2017-09-05-angular-tour-1/" class="article-date">
  <time class="dt-published" datetime="2017-09-05T00:00:00.000Z" itemprop="datePublished">2017-09-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>►<a class="article-category-link" href="/categories/Programming/Angular/">Angular</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/09/05/nodejs-2017-09-05-angular-tour-1/">Angular4 Tutorial for Beginner -- (1)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Angular 이용에 대한 튜토리얼은 <a target="_blank" rel="noopener" href="https://www.tektutorialshub.com/angular-2-tutorial/">Angular Tutorial for beginners to Professionals</a> 를 요약하고 있다.</p>
<h2 id="Angular-App"><a href="#Angular-App" class="headerlink" title="Angular App"></a>Angular App</h2><p>여기서는 angular cli를 사용해서 angular project를 생성하고 다루는데, 링크 <a href="!--swig%EF%BF%BC7--">Angular Cli Usages</a> 에서 새 프로젝트 실행에 대해 살펴볼 수 있다.</p>
<blockquote>
<p>Anguar 의 개발 환경은 <a target="_blank" rel="noopener" href="https://www.tektutorialshub.com/create-first-angular-2-application/">Create Angular2</a> 를 참조한다.</p>
</blockquote>
<h4 id="프로젝트-생성"><a href="#프로젝트-생성" class="headerlink" title="프로젝트 생성"></a>프로젝트 생성</h4><p><code>ng new</code> 명령으로 프로젝트를 생성한다. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng new myproducts</span><br></pre></td></tr></table></figure>

<p>새로 생성한 프로젝트 디렉토리로 이동해서 서비스를 실행한다. <em>ng serve</em> 명령은 서버를 실행</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd myproducts</span><br><span class="line">ng serve</span><br></pre></td></tr></table></figure>

<p>브라우저로 localhost:4200 으로 접속</p>
<h4 id="디렉토리-구성"><a href="#디렉토리-구성" class="headerlink" title="디렉토리 구성"></a>디렉토리 구성</h4><p><code>ng new</code> 생성하는 템플릿은 이렇게 구성되 있다.</p>
<p><strong>Root</strong> 폴더</p>
<ul>
<li><strong>Angular-cli.json</strong>: Angular CLI를 위한 구성 파일.</li>
</ul>
<p><strong>.editorconfig</strong>:  에디터 설정 파일. <a target="_blank" rel="noopener" href="http://editorconfig.org/">http://editorconfig.org</a> 참고.<br><strong>.gitignore</strong>: git 소스 제어를 하지 않는 설정 파일.</p>
<ul>
<li><strong>karma.conf.js</strong>: karma test runner 설정 파일.</li>
<li><strong>package.json</strong>: npm 패키지 목록 설정 파일</li>
<li><strong>protractor.conf.js</strong>: The Configuration file for protractor end to end test runner.</li>
<li><strong>README.md</strong></li>
<li><strong>tsconfig.json</strong>: TypeScript compiler configuration for your IDE to pick up and give you helpful tooling.</li>
<li><strong>tslint.json</strong>: tslint is a static code analysis tool used in software development for checking Typescript code quality. To check if TypeScript source code complies with coding rules. TSLint checks your TypeScript code for readability, maintainability, and functionality errors</li>
<li><strong>typings.d.ts</strong>: Typescript type definition file</li>
</ul>
<p><strong>e2e</strong> 폴더</p>
<p><em>protractor</em> 가 엔드투엔드 테스트하는데 필요한 파일을 포함한다. <em>Protractor</em>는 실제 브라우저에 대비해 앱을 테스트할 수 있게 한다. <a target="_blank" rel="noopener" href="http://www.protractortest.org/#/">여기</a>서 자세한 것은 배울 수 있다.</p>
<h3 id="콤포넌트-분석"><a href="#콤포넌트-분석" class="headerlink" title="콤포넌트 분석"></a>콤포넌트 분석</h3><p>Angular CLI로 생성한 프로젝트는 여러 콤포넌트로 구성되어 있다. <em>src&#x2F;app&#x2F;</em> 밑에 콤포넌트 소스가 있다.</p>
<h4 id="app-component-ts"><a href="#app-component-ts" class="headerlink" title="app.component.ts"></a>app.component.ts</h4><p>앱의 뷰를 표현하고, 뷰는 화면의 한 부분이다. 3개로 구성되어 있다. class, class decorator, import statement</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;app-root&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./app.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./app.component.css&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppComponent</span> &#123;</span><br><span class="line">  title = <span class="string">&#x27;app&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>export</strong> 키워드로 AppComponent class는 다른 콤포넌트에서 사용할 수 있다. 이런 콤포넌트 클래스는 속성과 메서드를 가질 수 있다.</p>
<p><strong>@Component</strong> decorator는 클래스 데코레이터로 이 콤포넌트에 대한 메타데이터를 제공한다. 이 메타데이터를 사용해서 Angular가 뷰를 생성한다.</p>
<ul>
<li>templateUrl:</li>
<li>styleUrl:</li>
<li>selector: angular에게 템플릿을 표시할 곳을 말한다. 이 콤포넌트에서 app-root 셀렉터는 index.html에서 사용한다.</li>
</ul>
<p><strong>import</strong> 구문 외부 라이브러리를 콤포넌트에서 사용하고자 할 때 사용. 여기서 @angular&#x2F;core 라이브러리에서 Component 데코레이터를 가져왔다.</p>
<h4 id="Root-모듈"><a href="#Root-모듈" class="headerlink" title="Root 모듈"></a>Root 모듈</h4><p>angular 앱은 모듈로 구성된다. <em>app.module.ts</em> 소스를 루트 모듈(root module)로 부른다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BrowserModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.component&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">  <span class="attr">declarations</span>: [</span><br><span class="line">    <span class="title class_">AppComponent</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">imports</span>: [</span><br><span class="line">    <span class="title class_">BrowserModule</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">providers</span>: [],</span><br><span class="line">  <span class="attr">bootstrap</span>: [<span class="title class_">AppComponent</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123; &#125;</span><br></pre></td></tr></table></figure>

<p>Angular 모듈의 구조는 콤포넌트 클래스와 비슷하다. class, class decorator, import</p>
<p><strong>Module class</strong> 는 콤포넌트와 비슷하게 <em>export</em>로 외부 모듈에서 사용할 수 있다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123; &#125;</span><br></pre></td></tr></table></figure>

<p>Angular 모듈은 <strong>@NgModule</strong> 데코레이터를 필요로 한다. 이 데코레이터로 모듈에 관련한 메타데이터를 전달한다. 소스에서 <strong>@NgModule</strong>은 <em>declarations</em>, <em>imports</em>, <em>providers</em>, <em>bootstrap</em> 네 가지 필드를 선언하고 있다.</p>
<ul>
<li><strong>imports</strong>: 이 모듈에서 사용하는 모듈을 선언한다.</li>
<li><strong>Declarations</strong>: 이 모듈에 관련한 콤포넌트, 디렉티브, 파이프를 선언한다.</li>
<li><strong>Providers</strong>: 서비스를 선언하면 다른 콤포넌트가 사용할 수 있다.</li>
<li><strong>Bootstrap</strong>: 메타 데이터는 루트 콤포넌트를 식별한다.</li>
</ul>
<h4 id="Import-구문"><a href="#Import-구문" class="headerlink" title="Import 구문"></a>Import 구문</h4><p><strong>AppModuel</strong> 에서 요구하는 외부 라이브러리를 들여오는데 사용한다. 또한 원하는 AppComponent를 들여오기 위해서 AppComponent가 필요하다.</p>
<h3 id="부트스트래핑"><a href="#부트스트래핑" class="headerlink" title="부트스트래핑"></a>부트스트래핑</h3><p>루트 모듈을 부트스트랩 해보자. 먼저 화면에 보이기 위해서 템플릿 파일인 app.component.html 이 있다. 이것은 AppComponent에 바인딩 된다. 결국 AppComponent 가 AppModule이 로드될 때 부트스트랩된다고 알 수 있다.</p>
<p>그래서 앱이 올라올 때 Angular에게 AppModule을 적재하자고 묻는데 이것은 <strong>src&#x2F;main.ts</strong> 파일에서 완성된다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; enableProdMode &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; platformBrowserDynamic &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser-dynamic&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app/app.module&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; environment &#125; <span class="keyword">from</span> <span class="string">&#x27;./environments/environment&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (environment.<span class="property">production</span>) &#123;</span><br><span class="line">  <span class="title function_">enableProdMode</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">platformBrowserDynamic</span>().<span class="title function_">bootstrapModule</span>(<span class="title class_">AppModule</span>)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err));</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>platformBrowserDynamic</strong> 콤포넌트: angular 앱에서 부트스트랩을 위해 필요한 모든 함수들.</li>
<li><strong>enableProdMode</strong>: 기본적으로 개발자 모드로 실행하게 한다.</li>
<li><strong>environment</strong>: <em>environment.ts</em> 는 개발자 모드 환경이 있다. 개발자 환경에서 environments.ts 파일을 사용한다. 실제 상업 모드에서는 environments.prod.ts 가 사용된다. <strong>env</strong> 맵의 목록에서 어떤 파일이 사용되는지 확인할 수 있는데 <strong>angular-cli.json</strong> 파일에 있다.</li>
</ul>
<h4 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h4><p>앱의 메인 페이지이다. <strong><app-root></strong> 셀렉터가 콤포넌트를 태그 처럼 사용하게 한다. app.component.ts에 선언한데로 이 셀렉터에 템플릿이 표시된다.</p>
<h3 id="다른-파일"><a href="#다른-파일" class="headerlink" title="다른 파일"></a>다른 파일</h3><p>app 폴더 밑에 다른 파일을 살펴보자.</p>
<h4 id="Assets-폴더"><a href="#Assets-폴더" class="headerlink" title="Assets 폴더"></a>Assets 폴더</h4><p>이미지 혹은 앱을 빌드하는데 필요한 자원을 넣어 두는 곳.</p>
<h4 id="polyfills-ts"><a href="#polyfills-ts" class="headerlink" title="polyfills.ts"></a>polyfills.ts</h4><p>웹 표준을 다르게 구현&#x2F;지원하는 여러 브라우저를 위해 일반화를 해준다. 브라우저 지원 가이드에 따라서 <strong>core-js</strong>, <strong>zone.js</strong> 로 관리한다.</p>
<h4 id="styles-css"><a href="#styles-css" class="headerlink" title="styles.css"></a>styles.css</h4><p>전역에 지원하는 스타일을 선언한다.</p>
<h4 id="test-ts"><a href="#test-ts" class="headerlink" title="test.ts"></a>test.ts</h4><p>단위 테스트를 위한 관문.</p>
<h4 id="tsconfig-applspec-json"><a href="#tsconfig-applspec-json" class="headerlink" title="tsconfig.{applspec}.json"></a>tsconfig.{applspec}.json</h4><p>타입스크립 컴파일러 구성 과 테스트 구성파일.</p>
<h3 id="ng-명령"><a href="#ng-명령" class="headerlink" title="ng 명령"></a>ng 명령</h3><p>ng new, init, </p>
<h4 id="ng-new-명령"><a href="#ng-new-명령" class="headerlink" title="ng new 명령"></a>ng new 명령</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng new &lt;project-name&gt; [Options]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>–dry-run</strong>, <strong>-d</strong>: 시험 실행, 실제 프로젝트 파일은 만들지 않고 출력 파일만 생성한다. </li>
<li><strong>–verbose</strong>, <strong>-v</strong>: </li>
<li><strong>–skip</strong> : 프로젝트 생성 후에 npm 명령 실행 못한다.</li>
<li><strong>–skip-git</strong>: 이 프로젝트에는 git repository 생성 못한다.</li>
<li><strong>–</strong> : 새 프로젝트를 생성할 부모 디렉토리.</li>
</ul>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.tektutorialshub.com/create-first-angular-2-application/">https://www.tektutorialshub.com/create-first-angular-2-application/</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/09/05/nodejs-2017-09-05-angular-tour-1/" data-id="cl0196xgk002cjs7gcnrr6lu9" data-title="Angular4 Tutorial for Beginner -- (1)" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular4/" rel="tag">angular4</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-nodejs-2017-09-02-angular-cli" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/09/02/nodejs-2017-09-02-angular-cli/" class="article-date">
  <time class="dt-published" datetime="2017-09-02T00:30:00.000Z" itemprop="datePublished">2017-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>►<a class="article-category-link" href="/categories/Programming/Angular/">Angular</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/09/02/nodejs-2017-09-02-angular-cli/">Angular 개발환경</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Angular4-CLI"><a href="#Angular4-CLI" class="headerlink" title="Angular4 CLI"></a>Angular4 CLI</h2><p>2017년 3월에 기존 2.x 버전에 호환하는 Angular 4.0.0이 출시되었다. [^1] </p>
<br/>
### CLI Quick Start

<p><a target="_blank" rel="noopener" href="https://cli.angular.io/">Angular CLI</a>는 명령행 인터페이스로 프로젝트를 생성, 파일 추가 그리고 개발 태스크 - 테스트, 번들, 개발에 대한 기능을 제공하고 있다.<br>여기서 Angular CLI로 TypeScript 에서 앱을 개발하는 과정을 <a target="_blank" rel="noopener" href="https://angular.io/guide/styleguide">Style Guide</a>가 권장하는데 맞게 진행해 보자</p>
<p><a target="_blank" rel="noopener" href="https://angular.io/generated/zips/cli-quickstart/cli-quickstart.zip">예제 다운로드</a></p>
<h4 id="개발환경-설정"><a href="#개발환경-설정" class="headerlink" title="개발환경 설정"></a>개발환경 설정</h4><p><a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">node.js와 npm</a>에 대해 사용이 가능해야 하고 구성해야 한다.</p>
<p>Angular CLI를 전역환경에 설치한다. 시간이 소요된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @angular/cli</span><br></pre></td></tr></table></figure>

<p><code>ng</code> 명령을 사용할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng -v</span><br></pre></td></tr></table></figure>


<h4 id="CLI에서-새-프로젝트-생성"><a href="#CLI에서-새-프로젝트-생성" class="headerlink" title="CLI에서 새 프로젝트 생성"></a>CLI에서 새 프로젝트 생성</h4><p><code>ng new</code> 명령으로 프로젝트를 생성한다 - 생성으로 관련 npm 패키지를 설치하는 과정이 길다. [^2]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng new my-app</span><br></pre></td></tr></table></figure>

<p>새로 생성한 프로젝트 디렉토리로 이동해서 서비스를 실행한다. <em>ng serve</em> 명령은 서버를 실행하고, 파일을 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd my-app</span><br><span class="line">ng serve --open</span><br></pre></td></tr></table></figure>



<br/>
#### Angular QuickStart Source

<p><a target="_blank" rel="noopener" href="https://github.com/angular/quickstart.git">Angular Quickstart Source</a> 를 사용해서 <a target="_blank" rel="noopener" href="https://coursetro.com/posts/code/55/How-to-Install-an-Angular-4-App">CLI 없이 Angular 4를 시작</a>할 수 있다. – 여러 의존성 문제가 발생한다.</p>
<ul>
<li>node v4.x.x 와 npm 3.x.x 이상을 필요로한다.</li>
</ul>
<p>To use the Angular 2 Quickstart, you run:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/angular/quickstart.git my-proj</span><br><span class="line">$ <span class="built_in">cd</span> my-proj</span><br></pre></td></tr></table></figure>

<p>Quickstart source 에 푸시하지 않으려면 <em>.git</em> 폴더를 삭제해도 무방하다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf .git  <span class="comment"># OS/X (bash)</span></span><br><span class="line">rd .git /S/Q <span class="comment"># windows</span></span><br></pre></td></tr></table></figure>

<p>또한 테스트와 저장소 유지를 위해 사용하는 <em>non-essential</em>을 삭제해도 된다.</p>
<p>Linux (bash)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xargs rm -rf &lt; non-essential-files.txt</span><br><span class="line">rm src/app/*.spec*.ts</span><br><span class="line">rm non-essential-files.txt</span><br></pre></td></tr></table></figure>

<p>OS&#x2F;X (bash)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xargs rm -rf &lt; non-essential-files.osx.txt</span><br><span class="line">rm src/app/*.spec*.ts</span><br><span class="line">rm non-essential-files.osx.txt</span><br></pre></td></tr></table></figure>

<p>Windows</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for /f %i in (non-essential-files.txt) do del %i /F /S /Q</span><br><span class="line">rd .git /s /q</span><br><span class="line">rd e2e /s /q</span><br></pre></td></tr></table></figure>

<p>패키지를 설치한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>이제 최신 angular4 패키지를 설치하고 package.json 에 저장한다.</p>
<p>To upgrade, paste (Mac only):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @angular/&#123;common,compiler,compiler-cli,core,forms,http,platform-browser,platform-browser-dynamic,platform-server,router,animations&#125;@next --save</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @angular/common@next @angular/compiler@next @angular/compiler-cli@next @angular/core@next @angular/forms@next @angular/http@next @angular/platform-browser@next @angular/platform-browser-dynamic@next @angular/platform-server@next @angular/router@next @angular/animations@next --save</span><br></pre></td></tr></table></figure>

<p>npm install @angular&#x2F;core  @angular&#x2F;http –save</p>
<p>Typescript 이 설치되어 있지 않다면 역시 설치해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install typescript@2.3 --save</span><br></pre></td></tr></table></figure>

<p>시작</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure>


<h3 id="앱-프로젝트-살펴보기"><a href="#앱-프로젝트-살펴보기" class="headerlink" title="앱 프로젝트 살펴보기"></a>앱 프로젝트 살펴보기</h3><h4 id="Angular-component-수정"><a href="#Angular-component-수정" class="headerlink" title="Angular component 수정"></a>Angular component 수정</h4><p><strong>app-root</strong> 로 불리는 * .&#x2F;src&#x2F;app&#x2F;app.component.ts.* 콤포넌트를 수정해 보자. 에디터에서 열고 <strong>title</strong> 속성을 수정해 보자.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">  <span class="attr">selector</span>: <span class="string">&#x27;app-root&#x27;</span>,</span><br><span class="line">  <span class="attr">templateUrl</span>: <span class="string">&#x27;./app.component.html&#x27;</span>,</span><br><span class="line">  <span class="attr">styleUrls</span>: [<span class="string">&#x27;./app.component.css&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppComponent</span> &#123;</span><br><span class="line">  title = <span class="string">&#x27;안녕하세요. Angular App&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>.&#x2F;app.component.css</em> 스타일시트 파일을 수정해 보자.</p>
<h4 id="css-수정"><a href="#css-수정" class="headerlink" title="css 수정"></a>css 수정</h4><p><em>src&#x2F;app&#x2F;app.component.css</em> 에서 스타일을 수정해 보자.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#369</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, Helvetica, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">250%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="프로젝트-구성"><a href="#프로젝트-구성" class="headerlink" title="프로젝트 구성"></a>프로젝트 구성</h4><p><code>src</code> 폴더는 Angular components, templates, styles, images 등을 포함하고 있다.</p>
<table>
<thead>
<tr>
<th>파일</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>app&#x2F;app.component.{ts,html,css,spec.ts}</td>
<td><strong>AppComponent</strong>를 HTML 템플릿, CSS 스타일, 단위 테스트와 함게 선언한다. 이것은 앱에 관련한 계층적인 콤포넌트 트리가 되는 root 콤로넌트다.</td>
</tr>
</tbody></table>
<h3 id="ng-기본-명령"><a href="#ng-기본-명령" class="headerlink" title="ng 기본 명령"></a>ng 기본 명령</h3><p><code>ng serve</code> 로 서버를 제공한다. 기본 <code>http://localhost:4200/</code> 에서 확인한다. 그리고 변경된 내용은 자동으로 서버에 적용된다.</p>
<p>서비스 포트와 호스트는 기본 포트는 4200번으로 <strong>.angular-cli.json</strong> 파일에 <strong>defaults</strong> 섹션에 선언할 수 있다. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;defaults&quot;: &#123;</span><br><span class="line">    &quot;styleExt&quot;: &quot;css&quot;,</span><br><span class="line">    &quot;component&quot;: &#123;&#125;,</span><br><span class="line">    &quot;serve&quot;: &#123;</span><br><span class="line">      &quot;port&quot;: 4201,</span><br><span class="line">      &quot;host&quot;: 127.0.0.1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="Code-발판"><a href="#Code-발판" class="headerlink" title="Code 발판"></a>Code 발판</h4><p>새로운 콤포넌트를 추가하려면 <code>ng generate component component-name</code> 명령을 실행하면 새로운 모듈이 추가된다. </p>
<p><strong>ng generate</strong> 명령</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng generate directive|pipe|service|class|guard|interface|enum|module</span><br></pre></td></tr></table></figure>

<h4 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h4><p>Run <code>ng build</code> 명령은 프로젝트를 빌드한다. 빌드 결과물은  <strong>dist&#x2F;</strong> 디렉토리에 저장된다. <code>-prod</code> 옵션을 사용하면 완성본을 구성할 수 있다.</p>
<h4 id="Running-unit-tests"><a href="#Running-unit-tests" class="headerlink" title="Running unit tests"></a>Running unit tests</h4><p>단위 테스트를 수행할 수 있는데, <code>ng test</code> 는 <a target="_blank" rel="noopener" href="https://karma-runner.github.io/">Karma</a>를 통해서 단위테스트를 수행한다.</p>
<h4 id="Running-end-to-end-tests"><a href="#Running-end-to-end-tests" class="headerlink" title="Running end-to-end tests"></a>Running end-to-end tests</h4><p>Run <code>ng e2e</code> to execute the end-to-end tests via <a target="_blank" rel="noopener" href="http://www.protractortest.org/">Protractor</a>.<br>Before running the tests make sure you are serving the app via <code>ng serve</code>.</p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p><a target="_blank" rel="noopener" href="https://coursetro.com/posts/code/55/How-to-Install-an-Angular-4-App">CLI 없이 Angular 4를 시작</a></p>
<p>[^1]: <a target="_blank" rel="noopener" href="http://angularjs.blogspot.kr/2017/03/angular-400-now-available.html">Angular 4.0.0 Now Available</a><br>[^2]: <a target="_blank" rel="noopener" href="https://angular.io/guide/quickstart">Angular 4 Quick Start</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/09/02/nodejs-2017-09-02-angular-cli/" data-id="cl0196xgi0029js7g35yshgsl" data-title="Angular 개발환경" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular4/" rel="tag">angular4</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-nodejs-2017-09-02-angular-0start" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/09/02/nodejs-2017-09-02-angular-0start/" class="article-date">
  <time class="dt-published" datetime="2017-09-02T00:00:00.000Z" itemprop="datePublished">2017-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>►<a class="article-category-link" href="/categories/Programming/Angular/">Angular</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/09/02/nodejs-2017-09-02-angular-0start/">Angular 개발환경</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Angular"><a href="#Angular" class="headerlink" title="Angular"></a>Angular</h2><p>모바일, 데스크탑 웹 앱 구축을 지원하는 UI Framework 이다.</p>
<p>Version History</p>
<ul>
<li>Angular 2: Initial Release   14.09.2016</li>
<li>Angular 4: Release on 23.03.2017<ul>
<li>2017년 3월에 기존 2.x 버전에 호환하는 Angular 4.0.0이 출시되었다. [^1]</li>
</ul>
</li>
<li>Angular 5: Currently  in beta 4 release 16.08.2017</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/angular/angular/blob/master/CHANGELOG.md">Angular Changelog</a> 에서 최신 정보를 얻을 수 있다.</p>
<h3 id="Angular4-특징"><a href="#Angular4-특징" class="headerlink" title="Angular4 특징"></a>Angular4 특징</h3><p>기존 Angular 2에 비해 새로운게 많이 추가되었다.</p>
<h5 id="작고-빠르게"><a href="#작고-빠르게" class="headerlink" title="작고 빠르게"></a>작고 빠르게</h5><p>Angular 4 앱은 이전 버전에 비해 더 작은 공간이 소모되고 빠른 실행이 된다.</p>
<h5 id="View-engine"><a href="#View-engine" class="headerlink" title="View engine"></a>View engine</h5><h5 id="개선된-nglf-와-ngFor"><a href="#개선된-nglf-와-ngFor" class="headerlink" title="개선된 *nglf 와 *ngFor"></a>개선된 <strong>*nglf</strong> 와 <strong>*ngFor</strong></h5><p>템플릿 바인딩이 변겨오디었는데 <code>if/else</code> 문법을 사용하고 관찰할 대상에 대해 변수를 대입할 수 있다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> *<span class="attr">ngIf</span>=<span class="string">&quot;userList | async as users; else loading&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">user-profile</span> *<span class="attr">ngFor</span>=<span class="string">&quot;let user of users; count as count; index as i&quot;</span> [<span class="attr">user</span>]=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">User &#123;&#123;i&#125;&#125; of &#123;&#123;count&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">user-profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ng-template</span> #<span class="attr">loading</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">ng-template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="Angular-Universal"><a href="#Angular-Universal" class="headerlink" title="Angular Universal"></a>Angular Universal</h5><p>커뮤니티 안에서 개발되던 것을 angular team에서 받아들여, Universal 은 서버에서 Angular를 실행할 수 있게 해준다. <code>@angular/platform-server</code> 에 포함되어 있다.</p>
<p>Angular Universal 를 배우려면 먼저 @angular&#x2F;platform-server 안의 <a target="_blank" rel="noopener" href="https://github.com/angular/angular/blob/56f232cdd70a352cb9151bc7cfe8981bc2710ea6/modules/%40angular/platform-server/src/utils.ts#L63-L72">renderModuleFactory</a> 메서드를 살펴보고,  Rob Wormald’s <a target="_blank" rel="noopener" href="https://github.com/robwormald/ng-universal-demo/">Demo Repository</a> 를 살펴보라.</p>
<h5 id="TypeScript-2-1-2-2-호환"><a href="#TypeScript-2-1-2-2-호환" class="headerlink" title="TypeScript 2.1, 2.2 호환"></a>TypeScript 2.1, 2.2 호환</h5><p>최신 버전의 TypeScript 를 적용했다. 그러므로 ngc 스피드를 향샹 시켰고, 앱에서 형 점검을 더 좋게 했다.</p>
<h5 id="템플릿을-위한-소스-맵"><a href="#템플릿을-위한-소스-맵" class="headerlink" title="템플릿을 위한 소스 맵"></a>템플릿을 위한 소스 맵</h5><p>템플릿에서 어떤 에러가 발생하면 소스 맵을 생성해서 원래 템플릿에서 의미있는 내용을 보여준다.</p>
<h4 id="Flat-ESM-x2F-FESM"><a href="#Flat-ESM-x2F-FESM" class="headerlink" title="Flat ESM &#x2F; FESM"></a>Flat ESM &#x2F; FESM</h4><p>펼친 모듈을 배보한다. <a target="_blank" rel="noopener" href="https://github.com/angular/core-builds/blob/85cbe3f8d6107af033b0f8b56456c181cbcb5eb7/%40angular/core.js">예제 파일</a> 참조.</p>
<h5 id="ES2015-빌드"><a href="#ES2015-빌드" class="headerlink" title="ES2015 빌드"></a>ES2015 빌드</h5><p>우리 패키지를 the ES2015 Flat ESM format 형식으로 배포하고 있다. 이것은 실험적인 선택사항이다. 이 패키지와 합친 경우 7% 번들 크기가 줄어드는 것으로 복되고 있다.</p>
<h4 id="4-0으로-업그레이드"><a href="#4-0으로-업그레이드" class="headerlink" title="4.0으로 업그레이드"></a>4.0으로 업그레이드</h4><p>Angular 의존성을 4.0.0으로 업그레이드는 쉽다.</p>
<h5 id="Linux-x2F-Mac"><a href="#Linux-x2F-Mac" class="headerlink" title="Linux&#x2F;Mac"></a>Linux&#x2F;Mac</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @angular/&#123;common,compiler,compiler-cli,core,forms,http,platform-browser,platform-browser-dynamic,platform-server,router,animations&#125;@latest typescript@latest --save </span><br></pre></td></tr></table></figure>

<h5 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @angular/common@latest @angular/compiler@latest @angular/compiler-cli@latest @angular/core@latest @angular/forms@latest @angular/http@latest @angular/platform-browser@latest @angular/platform-browser-dynamic@latest @angular/platform-server@latest @angular/router@latest @angular/animations@latest typescript@latest --save</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://angular-update-guide.firebaseapp.com/">Angular Update guide</a> 참조.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/09/02/nodejs-2017-09-02-angular-0start/" data-id="cl0196xgh0026js7gf6w01mny" data-title="Angular 개발환경" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angular4/" rel="tag">angular4</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-nodejs-2017-09-01-typescript-1quickstart" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2017/09/01/nodejs-2017-09-01-typescript-1quickstart/" class="article-date">
  <time class="dt-published" datetime="2017-08-31T16:00:00.000Z" itemprop="datePublished">2017-09-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2017/09/01/nodejs-2017-09-01-typescript-1quickstart/">Typescript / 5min in Typescript</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>자바스크립트 개발자 또는 경험자를 위한 typescriptlang.org 의 Tutorials 를 정리했다.</p>
<ul>
<li>5분에 끝내는 TypeScript</li>
<li><a href="!--swig%EF%BF%BC13--">Gulp</a></li>
<li>Migrating from Javascript</li>
<li>React &amp; Webpack</li>
</ul>
<h2 id="5분에-끝내는-TypeScript"><a href="#5분에-끝내는-TypeScript" class="headerlink" title="5분에 끝내는 TypeScript"></a>5분에 끝내는 TypeScript</h2><p>자바스크립트 개발자 또는 경험자가 알아야할 내용을 정리한 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">TypeScript in 5min</a>을 정리했다.</p>
<h3 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h3><p>TypeScript는 Node.js를 사용하며, npm으로 typescript 지원 도구를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure>

<p>개발자용 nightly build도 설치 할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript@next</span><br></pre></td></tr></table></figure>

<h4 id="tsc-컴파일러"><a href="#tsc-컴파일러" class="headerlink" title="tsc 컴파일러"></a>tsc 컴파일러</h4><p>TypeScript 소스를 <code>tsc</code> 컴파일러로 컴파일하고, 결과는 Javascript로 생성된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc -V</span><br><span class="line">Version 2.5.2</span><br></pre></td></tr></table></figure>

<p>최신버전 갱신은 <a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/typescript/">Typscript blog</a> 를 참조한다.</p>
<h3 id="첫번째-TypeScript-파일"><a href="#첫번째-TypeScript-파일" class="headerlink" title="첫번째 TypeScript 파일"></a>첫번째 TypeScript 파일</h3><p>보통 Typescript 소스 확장자는 <strong>.ts</strong> 로 저장하고 <code>tsc</code> 컴파일러로 컴파일한다. <strong>.ts</strong> 파일을 컴파일 하면 <strong>.js</strong> 자바스크립트 소스파일이 생성된다.</p>
<p>예를 들어 아래 자바스크립트로 구성된 코드를 <strong>greeter.ts</strong> 파일에 입력한다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = <span class="string">&quot;Jone James&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>


<p>그리고 컴파일 하면 자바스크립트 소스 <strong>greeter.js</strong> 가 생성된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tsc greeter.ts</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>greeter.ts</strong> 소스와 컴파일 결과 <strong>greeter.js</strong> 소스는 일치한다.</p>
</blockquote>
<h3 id="Type-annotations"><a href="#Type-annotations" class="headerlink" title="Type annotations"></a>Type annotations</h3><p>TypeScript에서 형(Types) 표기는 함수 혹은 변수에 의미를 부여하기 위한 방법으로, 아래 코드의 greeter 함수에 전달하는 인자가 <code>string</code> 형 이라고 의도하기 위해서, 변수 다음 <code>:</code>으로 오른쪽에 형을 지정(annotation)해 선언한다 - 즉, 문자열로 전달할 거야 하는 의도를 선언한다고 이해하면 된다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = [<span class="string">&#x27;My&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>이제 <code>tsc</code> 로 컴파일을 실행하면 아래 같이 형 지정 에러를 표시한다. 비슷하게 <code>greeter()</code> 함수의 매개변수를 모두 지우고 컴파일해도 비슷한 결과를 보여준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc greeter.ts</span><br><span class="line">greeter_2.ts(7,9): error TS2345: Argument of <span class="built_in">type</span> <span class="string">&#x27;(string | number)[]&#x27;</span> is not assignable to parameter of <span class="built_in">type</span> <span class="string">&#x27;string&#x27;</span>.</span><br></pre></td></tr></table></figure>

<p>Typescript의 형 지정은 코드와 주어진 형 지정자를 기반으로 정적 분석을 제공한다.</p>
<p>이렇게 컴파일 에러는 발생하지만 <strong>.js</strong> 자바스크립트는 생성되는 것을 확인 할 수 있다. 코드에 에러가 있어도 TypeScript을 사용할 수 있다, 다만 <em>원래 의도데로 실행되지는 않는다</em>는 것을 경고해 준다.</p>
<h3 id="Interfaces"><a href="#Interfaces" class="headerlink" title="Interfaces"></a>Interfaces</h3><p>추상화를 위해 <strong>interface</strong> 를 사용해서 속성을 가진 개체를 선언 할 수 있다. </p>
<p>아래 Person 인터페이스는 <code>firstName</code>, <code>lastName</code> 속성으로 선언하고 있다. TypeScript에서는 <strong>내부 구조가 호환하면 두 객체는 호횐 된다</strong>고 한다. 이것은 명시적으로 <code>implements</code> 절을 사용하지 않고도 인터페이스가 요구하는 형태를 가지면 인터페이스에 동일하게 구현이 가능하다고 한다. 이제 greeter 함수를 인터페이스 Person 형으로 다음 같이 선언할 수 있다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person: Person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + person.<span class="property">lastName</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = &#123; <span class="attr">firstName</span>: <span class="string">&quot;Jane&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;User&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>이 소스를 <code>tsc</code> 로 컴파일 해도 형이 일치한다고 판단해서 경고가 없고 결과 자바스크립트를 HTML로 코딩해서 결과를 확인해 보자,</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>TypeScript Greeter<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;greeter_3interface.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h3><p>자바스크립에는 없는 클래스 기반의 객체지향 프로그래밍을 지원한다. <strong>class</strong> 키워드로 선언하고 속성과 메서드를 가진다. 또한 생성자 <code>constructor()</code> 에 <code>public</code> 접근제한자를 지정해서 추상화 단계를 결정하게 하고, 생성자의 public 지정자는 해당 이름으로 자동으로 속성을 생성하게 해준다. 이것은 클래스가 인터페이스와 잘 결합되게 해준다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="attr">fullName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"> <span class="keyword">public</span> firstName: <span class="built_in">string</span>, <span class="keyword">public</span> middleInitial: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">     <span class="keyword">public</span> lastName: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">fullName</span> = firstName + <span class="string">&quot; &quot;</span> + middleInitial + <span class="string">&quot; &quot;</span> + lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person : Person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + person.<span class="property">lastName</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Jane&quot;</span>, <span class="string">&quot;M.&quot;</span>, <span class="string">&quot;User&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>Person 인터페이스를 요구받는 <code>greeter()</code>에 Student class의 생성자에 호혼한다. 그래서 <code>tsc</code>로 컴파일해도 아무 문제 없다.</p>
<p>다만, 클래스의 생성자 매개변수가 인자 수, 형 같이 다르면 다음 같이 에러를 발생한다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greeter_4classes.<span class="title function_">ts</span>(<span class="number">18</span>,<span class="number">12</span>): error <span class="title class_">TS2554</span>: <span class="title class_">Expected</span> <span class="number">3</span> <span class="variable language_">arguments</span>, but got <span class="number">2.</span></span><br></pre></td></tr></table></figure>


<p>컴파일한 자바스크립은 HTML에서 실행할 수 있다.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>TypeScript Greeter<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;greeter.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>실제 실행하면 Person 객체는 세번째 매개변수가 없기 때문에 <em>undefined</em> 로 나타난다.</p>
<blockquote>
<p>Hello, Jane undefined</p>
</blockquote>
<p>TypeScript에서 클래스 기반의 코드를 컴파일해서 자바스크립트 생성된 결과를 보면, 클래스는 자바스크립트의 프로토타입 기반의 객체지향 방법의 축약형이다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Student</span> = <span class="comment">/** <span class="doctag">@class</span> */</span> (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">firstName, middleInitial, lastName</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">firstName</span> = firstName;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">middleInitial</span> = middleInitial;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lastName</span> = lastName;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">fullName</span> = firstName + <span class="string">&quot; &quot;</span> + middleInitial + <span class="string">&quot; &quot;</span> + lastName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Student</span>;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">Typescript in 5 min</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2017/09/01/nodejs-2017-09-01-typescript-1quickstart/" data-id="cl0196xgd0020js7g52ijezmk" data-title="Typescript / 5min in Typescript" class="article-share-link">공유</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript-Tutorials/" rel="tag">TypeScript Tutorials</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; 이전</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/">다음 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">카테고리</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI/">AI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Database/">Database</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/NodeJS/">NodeJS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Programming/">Programming</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/NodeJS/">NodeJS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/NodeJS/Database/">Database</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Photoshop/">Photoshop</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/Angular/">Angular</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/Angularjs/">Angularjs</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Raspberry-Pi/">Raspberry Pi</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Raspberry-Pi/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Raspberry-Pi/Linux/Database/">Database</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">태그</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARM/" rel="tag">ARM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Armbian/" rel="tag">Armbian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Artificial-Intelligence/" rel="tag">Artificial Intelligence</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debian/" rel="tag">Debian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debian-Strech/" rel="tag">Debian Strech</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON-Web-Token/" rel="tag">JSON Web Token</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JWT-Toekn/" rel="tag">JWT Toekn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LEAP-15-0/" rel="tag">LEAP 15.0</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LEAP-42-3/" rel="tag">LEAP 42.3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Numpy/" rel="tag">Numpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Odroid/" rel="tag">Odroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Odroid-C2/" rel="tag">Odroid C2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Orange-Pi/" rel="tag">Orange Pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Raspberry-Pi/" rel="tag">Raspberry Pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Raspberry-Pi-3/" rel="tag">Raspberry Pi 3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Raspbian/" rel="tag">Raspbian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SD-Card/" rel="tag">SD Card</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scientific/" rel="tag">Scientific</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/" rel="tag">TensorFlow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript-Tutorials/" rel="tag">TypeScript Tutorials</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/X11/" rel="tag">X11</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/amd64/" rel="tag">amd64</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular4/" rel="tag">angular4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angularjs/" rel="tag">angularjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache/" rel="tag">apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/arm64/" rel="tag">arm64</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/armbian/" rel="tag">armbian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/banana-pi/" rel="tag">banana pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/certificate-ssl/" rel="tag">certificate ssl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clipping-mask/" rel="tag">clipping-mask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/collages/" rel="tag">collages</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cross-compiler/" rel="tag">cross compiler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debian/" rel="tag">debian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firewall/" rel="tag">firewall</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firewalld/" rel="tag">firewalld</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/" rel="tag">https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/install/" rel="tag">install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jasmine/" rel="tag">jasmine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter/" rel="tag">jupyter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter-notebook/" rel="tag">jupyter notebook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter-notebook/" rel="tag">jupyter-notebook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/karma/" rel="tag">karma</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leap-15/" rel="tag">leap 15</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leap-42-3/" rel="tag">leap 42.3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvm/" rel="tag">lvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvm2/" rel="tag">lvm2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macOS/" rel="tag">macOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/micro-SD-Card/" rel="tag">micro SD Card</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/middleware/" rel="tag">middleware</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/" rel="tag">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongoose/" rel="tag">mongoose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs-tutorials/" rel="tag">nodejs tutorials</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nvm/" rel="tag">nvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/odroid/" rel="tag">odroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/odroid-c2/" rel="tag">odroid c2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/odroid-c2/" rel="tag">odroid-c2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openSUSE/" rel="tag">openSUSE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opensuse/" rel="tag">opensuse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opensuse-leap-15/" rel="tag">opensuse leap 15</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/orange-pi/" rel="tag">orange pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/photoshop/" rel="tag">photoshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry-pi/" rel="tag">raspberry pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/" rel="tag">security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssl/" rel="tag">ssl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/synergy/" rel="tag">synergy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/terminal/" rel="tag">terminal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tmux/" rel="tag">tmux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unit-testing/" rel="tag">unit testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/virtualenv/" rel="tag">virtualenv</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/virtualenvwrapper/" rel="tag">virtualenvwrapper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webdav/" rel="tag">webdav</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EB%8D%B0%EB%B9%84%EC%95%88/" rel="tag">데비안</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EB%8D%B0%EC%9D%B4%EC%95%88/" rel="tag">데이안</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4/" rel="tag">라즈베리파이</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EB%9D%BC%EC%A6%88%EB%B9%84%EC%95%88/" rel="tag">라즈비안</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/" rel="tag">리눅스</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EB%B0%94%EB%82%98%EB%82%98%ED%8C%8C%EC%9D%B4/" rel="tag">바나나파이</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EB%B0%A9%ED%99%94%EB%B2%BD/" rel="tag">방화벽</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EC%98%A4%EB%A0%8C%EC%A7%80%ED%8C%8C%EC%9D%B4/" rel="tag">오렌지파이</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EC%9A%B0%EB%B6%84%ED%88%AC/" rel="tag">우분투</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EC%9B%B9%ED%86%A0%ED%81%B0/" rel="tag">웹토큰</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/" rel="tag">인공지능</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%EC%A0%84%EC%9B%90%EA%B4%80%EB%A6%AC/" rel="tag">전원관리</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC/" rel="tag">파이썬</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%ED%8C%8C%EC%9D%B4%EC%96%B4%EC%9B%94/" rel="tag">파이어월</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">태그 클라우드</h3>
    <div class="widget tagcloud">
      <a href="/tags/ARM/" style="font-size: 10px;">ARM</a> <a href="/tags/Armbian/" style="font-size: 10px;">Armbian</a> <a href="/tags/Artificial-Intelligence/" style="font-size: 12px;">Artificial Intelligence</a> <a href="/tags/Debian/" style="font-size: 10px;">Debian</a> <a href="/tags/Debian-Strech/" style="font-size: 10px;">Debian Strech</a> <a href="/tags/JSON-Web-Token/" style="font-size: 10px;">JSON Web Token</a> <a href="/tags/JWT-Toekn/" style="font-size: 10px;">JWT Toekn</a> <a href="/tags/LEAP-15-0/" style="font-size: 11px;">LEAP 15.0</a> <a href="/tags/LEAP-42-3/" style="font-size: 11px;">LEAP 42.3</a> <a href="/tags/Linux/" style="font-size: 19px;">Linux</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/Numpy/" style="font-size: 10px;">Numpy</a> <a href="/tags/Odroid/" style="font-size: 11px;">Odroid</a> <a href="/tags/Odroid-C2/" style="font-size: 10px;">Odroid C2</a> <a href="/tags/Orange-Pi/" style="font-size: 10px;">Orange Pi</a> <a href="/tags/Raspberry-Pi/" style="font-size: 14px;">Raspberry Pi</a> <a href="/tags/Raspberry-Pi-3/" style="font-size: 19px;">Raspberry Pi 3</a> <a href="/tags/Raspbian/" style="font-size: 14px;">Raspbian</a> <a href="/tags/SD-Card/" style="font-size: 10px;">SD Card</a> <a href="/tags/Scientific/" style="font-size: 10px;">Scientific</a> <a href="/tags/TensorFlow/" style="font-size: 11px;">TensorFlow</a> <a href="/tags/TypeScript/" style="font-size: 14px;">TypeScript</a> <a href="/tags/TypeScript-Tutorials/" style="font-size: 11px;">TypeScript Tutorials</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/X11/" style="font-size: 10px;">X11</a> <a href="/tags/amd64/" style="font-size: 14px;">amd64</a> <a href="/tags/angular4/" style="font-size: 12px;">angular4</a> <a href="/tags/angularjs/" style="font-size: 10px;">angularjs</a> <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/arm64/" style="font-size: 14px;">arm64</a> <a href="/tags/armbian/" style="font-size: 16px;">armbian</a> <a href="/tags/banana-pi/" style="font-size: 10px;">banana pi</a> <a href="/tags/certificate-ssl/" style="font-size: 10px;">certificate ssl</a> <a href="/tags/clipping-mask/" style="font-size: 10px;">clipping-mask</a> <a href="/tags/collages/" style="font-size: 10px;">collages</a> <a href="/tags/cross-compiler/" style="font-size: 10px;">cross compiler</a> <a href="/tags/debian/" style="font-size: 15px;">debian</a> <a href="/tags/firewall/" style="font-size: 12px;">firewall</a> <a href="/tags/firewalld/" style="font-size: 10px;">firewalld</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/install/" style="font-size: 11px;">install</a> <a href="/tags/jasmine/" style="font-size: 10px;">jasmine</a> <a href="/tags/jupyter/" style="font-size: 14px;">jupyter</a> <a href="/tags/jupyter-notebook/" style="font-size: 10px;">jupyter notebook</a> <a href="/tags/jupyter-notebook/" style="font-size: 15px;">jupyter-notebook</a> <a href="/tags/karma/" style="font-size: 10px;">karma</a> <a href="/tags/leap-15/" style="font-size: 11px;">leap 15</a> <a href="/tags/leap-42-3/" style="font-size: 11px;">leap 42.3</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/lvm/" style="font-size: 10px;">lvm</a> <a href="/tags/lvm2/" style="font-size: 10px;">lvm2</a> <a href="/tags/macOS/" style="font-size: 10px;">macOS</a> <a href="/tags/micro-SD-Card/" style="font-size: 10px;">micro SD Card</a> <a href="/tags/middleware/" style="font-size: 10px;">middleware</a> <a href="/tags/mongodb/" style="font-size: 17px;">mongodb</a> <a href="/tags/mongoose/" style="font-size: 11px;">mongoose</a> <a href="/tags/nginx/" style="font-size: 12px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 18px;">nodejs</a> <a href="/tags/nodejs-tutorials/" style="font-size: 10px;">nodejs tutorials</a> <a href="/tags/nvm/" style="font-size: 10px;">nvm</a> <a href="/tags/odroid/" style="font-size: 11px;">odroid</a> <a href="/tags/odroid-c2/" style="font-size: 12px;">odroid c2</a> <a href="/tags/odroid-c2/" style="font-size: 14px;">odroid-c2</a> <a href="/tags/openSUSE/" style="font-size: 17px;">openSUSE</a> <a href="/tags/opensuse/" style="font-size: 11px;">opensuse</a> <a href="/tags/opensuse-leap-15/" style="font-size: 10px;">opensuse leap 15</a> <a href="/tags/orange-pi/" style="font-size: 10px;">orange pi</a> <a href="/tags/photoshop/" style="font-size: 11px;">photoshop</a> <a href="/tags/python/" style="font-size: 18px;">python</a> <a href="/tags/raspberry-pi/" style="font-size: 13px;">raspberry pi</a> <a href="/tags/security/" style="font-size: 11px;">security</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/ssl/" style="font-size: 11px;">ssl</a> <a href="/tags/synergy/" style="font-size: 10px;">synergy</a> <a href="/tags/terminal/" style="font-size: 11px;">terminal</a> <a href="/tags/tmux/" style="font-size: 11px;">tmux</a> <a href="/tags/ubuntu/" style="font-size: 15px;">ubuntu</a> <a href="/tags/unit-testing/" style="font-size: 10px;">unit testing</a> <a href="/tags/virtualenv/" style="font-size: 14px;">virtualenv</a> <a href="/tags/virtualenvwrapper/" style="font-size: 14px;">virtualenvwrapper</a> <a href="/tags/webdav/" style="font-size: 10px;">webdav</a> <a href="/tags/%EB%8D%B0%EB%B9%84%EC%95%88/" style="font-size: 10px;">데비안</a> <a href="/tags/%EB%8D%B0%EC%9D%B4%EC%95%88/" style="font-size: 13px;">데이안</a> <a href="/tags/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4/" style="font-size: 19px;">라즈베리파이</a> <a href="/tags/%EB%9D%BC%EC%A6%88%EB%B9%84%EC%95%88/" style="font-size: 14px;">라즈비안</a> <a href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/" style="font-size: 12px;">리눅스</a> <a href="/tags/%EB%B0%94%EB%82%98%EB%82%98%ED%8C%8C%EC%9D%B4/" style="font-size: 10px;">바나나파이</a> <a href="/tags/%EB%B0%A9%ED%99%94%EB%B2%BD/" style="font-size: 10px;">방화벽</a> <a href="/tags/%EC%98%A4%EB%A0%8C%EC%A7%80%ED%8C%8C%EC%9D%B4/" style="font-size: 10px;">오렌지파이</a> <a href="/tags/%EC%9A%B0%EB%B6%84%ED%88%AC/" style="font-size: 15px;">우분투</a> <a href="/tags/%EC%9B%B9%ED%86%A0%ED%81%B0/" style="font-size: 10px;">웹토큰</a> <a href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/" style="font-size: 12px;">인공지능</a> <a href="/tags/%EC%A0%84%EC%9B%90%EA%B4%80%EB%A6%AC/" style="font-size: 10px;">전원관리</a> <a href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC/" style="font-size: 12px;">파이썬</a> <a href="/tags/%ED%8C%8C%EC%9D%B4%EC%96%B4%EC%9B%94/" style="font-size: 10px;">파이어월</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">아카이브</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">2월 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">2월 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">12월 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">9월 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">10월 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">8월 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">7월 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">6월 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">12월 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">11월 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">10월 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">9월 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">7월 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">5월 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">4월 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">12월 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">2월 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">최근 포스트</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/02/24/hello-world/">blog.thinkbee.kr 이전 작업중입니다.</a>
          </li>
        
          <li>
            <a href="/2020/02/02/linux-2020-02-02-letsencrypt%EB%B0%9C%EA%B8%89/">HTTPS를 위한 공인인증서 - Let&#39;s Encrypt 발급</a>
          </li>
        
          <li>
            <a href="/2019/12/20/linux-2019-12-20-mongodb-config/">MongoDB 구성 설정과 사용자 인증 사용</a>
          </li>
        
          <li>
            <a href="/2019/12/20/linux-2019-12-20-mongodb-4-2-install-arm64/">MongoDB Community Edition 4.2 설치 - ARM64 Ubuntu/Debian Armbian</a>
          </li>
        
          <li>
            <a href="/2019/09/05/python-2019-09-05-OpenSuse-JupyterNotebook-scientific/">openSUSE - 과학계산을 위한 Python, Jupyter Notebook</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>