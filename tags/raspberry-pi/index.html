<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>태그: Raspberry Pi - Blogging through Programming</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="thinkbee blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="thinkbee blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Blogging through Programming"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Blogging through Programming"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Blogging through Programming","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"John Doe"},"publisher":{"@type":"Organization","name":"Blogging through Programming","logo":{"@type":"ImageObject","url":"http://example.com/images/thinkbee_logo.png"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-1465716454138955" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 6.0.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/thinkbee_logo.png" alt="Blogging through Programming" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">태그</a></li><li class="is-active"><a href="#" aria-current="page">Raspberry Pi</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-07-10T00:00:00.000Z" title="2018-7-10 9:00:00">2018-07-10</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:51.970Z" title="2022-2-25 1:16:51">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Raspberry-Pi/">Raspberry Pi</a><span> / </span><a class="link-muted" href="/categories/Raspberry-Pi/Linux/">Linux</a></span><span class="level-item">9분안에 읽기 (약 1392 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/07/10/raspberrypi-2018-07-10-opensuse-upgrade-42-2-to-42-3/">Raspberry Pi : Upgrade OpenSUSE LEAP 42.2 to 42.3</a></h1><div class="content"><p>Raspberry Pi 3 에 설치해 사용중이던 openSUSE LEAP 42.2의 지원이 종료되어, 2019년가지 지원하는 LEAP 42.3으로 업그레이드하는 과정을 정리했다. </p>
<blockquote>
<p>openSUSE는 LEAP 15.0으로 최신 버전으로 배포하고 있다. 42.2에서 15.0으로 바로 업그레이드시 내가 해결 못하는 문제가 생겨서 42.3으로 업그레이드 했다.</p>
</blockquote>
<h2 id="Upgrade-OpenSUSE-LEAP-42-2-to-42-3"><a href="#Upgrade-OpenSUSE-LEAP-42-2-to-42-3" class="headerlink" title="Upgrade OpenSUSE LEAP 42.2 to 42.3"></a>Upgrade OpenSUSE LEAP 42.2 to 42.3</h2><p>OpenSUSE LEAP 42.2 는 지원이 종료되어 42.3으로 업그레이드를 한다.</p>
<p><img src="/images/opensuse/opensuse-discontinued-201807.png">{: width&#x3D;”600”}</p>
<figcaption>[그림. 지원 중단 배포본 (OpenSUSE.com)]</figcaption>
<br>
업그레이드에 대한 과정은 [OpenSUSE System Upgrade](https://en.opensuse.org/SDB:System_upgrade) 에 나와있는데 42.3을 15.0으로 배포본 업그레이드 하는 과정과 일반 배포본에서 배포본 업그레이드가 설명되어 있어서 직접 시도하면서 정리했다.


<h3 id="Upgrade-시작"><a href="#Upgrade-시작" class="headerlink" title="Upgrade 시작"></a>Upgrade 시작</h3><p>먼저 42.2 저장소 URI를 42.3 으로 변경한다.</p>
<h4 id="42-3-Repository-Uri"><a href="#42-3-Repository-Uri" class="headerlink" title="42.3 Repository Uri"></a>42.3 Repository Uri</h4><p>현재 시스템의 Repository Uri를 확인해 보고</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$sudo zypper repos --uri</span><br><span class="line"></span><br><span class="line">Repository priorities are without effect. All enabled repositories share the same priority.</span><br><span class="line"></span><br><span class="line"># | Alias                             | Name                              | Enabled | GPG Check | Refresh | URI</span><br><span class="line">--+-----------------------------------+-----------------------------------+---------+-----------+---------+----------------------------------------------------------------------------</span><br><span class="line">1 | openSUSE-Ports-Leap-42.2-Update   | openSUSE-Ports-Leap-42.2-Update   | Yes     | (r ) Yes  | Yes     | http://download.opensuse.org/ports/update/42.2/</span><br><span class="line">2 | openSUSE-Ports-Leap-42.2-repo-oss | openSUSE-Ports-Leap-42.2-repo-oss | Yes     | (r ) Yes  | Yes     | http://download.opensuse.org/ports/aarch64/distribution/leap/42.2/repo/oss/</span><br></pre></td></tr></table></figure>

<p>다른 저장소를 추가하지 않고 사용했다면 LEAP 42.2 배포본 저장소는 위와 같을 것이다. 현재 Uri인 저장소 백업하고,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo cp -Rv /etc/zypp/repos.d /etc/zypp/repos.d.Old</span><br></pre></td></tr></table></figure>


<p>위 목록에서 <em>openSUSE-Ports-Leap-42.2-repo-oss</em>를 제거한다. 목록 번호로 제거할 수 있어서 <code>rr 2</code> 명령으로 제거한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo zypper rr 2</span><br></pre></td></tr></table></figure>


<p>저장소 문자열 42.2 를 42.3 문자열로 치환한다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo sed -i s/42.2/42.3/ /etc/zypp/repos.d/*</span><br></pre></td></tr></table></figure>

<p>여기에 앞에서 제거한 repo-oss 저장소를 LEAP 42.3을 위한 <strong>openSUSE-Leap-42.3-repo-oss</strong> 를 추가해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo zypper addrepo --check --refresh --name &#x27;openSUSE-Leap-42.3-repo-oss&#x27; http://download.opensuse.org/ports/aarch64/distribution/leap/42.3/repo/oss/ repo-oss</span><br></pre></td></tr></table></figure>

<p>새 저장소 Uri를 추가하고 배포본의 Repository Url를 출력해서 Enabled 컬럼이 활성화 되어 있는지 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$sudo zypper repos --uri</span><br><span class="line"># | Alias       | Name                        | Enabled | GPG Check | Refresh | URI</span><br><span class="line">--+-------------+-----------------------------+---------+-----------+---------+----------------------------------------------------------------------------</span><br><span class="line">1 | repo-oss    | openSUSE-Leap-42.3-repo-oss | Yes     | (r ) Yes  | Yes     | http://download.opensuse.org/ports/aarch64/distribution/leap/42.3/repo/oss/</span><br><span class="line">2 | repo-update | openSUSE-Leap-42.3-Update   | Yes     | (r ) Yes  | Yes     | http://download.opensuse.org/update/leap/42.3/oss/</span><br></pre></td></tr></table></figure>

<p>만약 출력한 저장소 목록에서 Enabled 컬럼이 No 라면 다음 명령으로 활성화 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo zypper modifyrepo --enable openSUSE-Leap-42.3-repo-oss</span><br></pre></td></tr></table></figure>

<p>이제 42.3을 위한 저장소 Uri가 정리되었다.</p>
<p>실제 배포본 버전을 업그레이드 하기 위해서는 <code>dup</code> 명령을 내려 실행해야 하지만 역시 42.2를 15.0으로 직접 배포본 업그레이드 했을 때 문제가 발생해서 설치된 패키지를 업르레이드하고 배포본 업그레이드를 진행했다.</p>
<h4 id="Distribution-Upgrade"><a href="#Distribution-Upgrade" class="headerlink" title="Distribution Upgrade"></a>Distribution Upgrade</h4><p>먼저 저장소에서 패키지 목록을 최신으로 갱신하고, package upgrade를 진행해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zypper ref</span><br><span class="line">zypper up</span><br></pre></td></tr></table></figure>

<p>오에스에서 사용하는 패키지가 많기 때문에 패키지 업그레이드 과정은 꽤 긴 시간이 필요하다. </p>
<p>과정중에 펌웨어 버전 충돌이 나오면 Yes 해준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Checking for file conflicts: ............................................[error]</span><br><span class="line">Detected 1 file conflict:</span><br><span class="line"></span><br><span class="line">File /lib/firmware/brcm/brcmfmac43430-sdio.bin</span><br><span class="line">  from install of</span><br><span class="line">     kernel-firmware-20170530-20.1.noarch (openSUSE-Leap-42.3-Update)</span><br><span class="line">  conflicts with file from package</span><br><span class="line">     bcm43xx-firmware-20160301-2.1.noarch (@System)</span><br><span class="line"></span><br><span class="line">File conflicts happen when two packages attempt to install files with the same name but different contents. If you continue, conflicting files will be replaced losing the previous content.</span><br><span class="line">Continue? [yes/no] (no): yes</span><br></pre></td></tr></table></figure>

<p>그리고 재시동을 해준다.</p>
<p>package upgrade를 완료한 후에 Distribution upgrade를 수행하자</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zypper dup</span><br></pre></td></tr></table></figure>



<h4 id="재시동"><a href="#재시동" class="headerlink" title="재시동"></a>재시동</h4><p>업그레이드를 설치한 후에 재시동 하면 약 5분 정도 펌웨어 등을 설치하는 과정을 거친다. 로그인 프롬프트에서 <em>openSUSE Leap 42.3</em> 이 보이면 성공한 것이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Welcome to openSUSE Leap 42.3 - Kernel 4.4.104-18.44-default (ttyS0).</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">homepi64 login:</span><br></pre></td></tr></table></figure>


<h4 id="보안-패치"><a href="#보안-패치" class="headerlink" title="보안 패치"></a>보안 패치</h4><p>openSUSE는 upgrade와 patch 를 분리해서 제공한다. 패치는 보안 사항에 관련한 것을 제공하고 있다. <code>lp</code> 로 다운로드 가능한 패치를 확인할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># zypper lp</span><br><span class="line">Retrieving repository &#x27;openSUSE-Leap-42.3-Update&#x27; metadata ..................[done]</span><br><span class="line">Building repository &#x27;openSUSE-Leap-42.3-Update&#x27; cache .......................[done]</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line"></span><br><span class="line">Repository                | Name               | Category    | Severity  | Interactive | Status | Summary</span><br><span class="line">--------------------------+--------------------+-------------+-----------+-------------+--------+-----------------------------------------------------------------------</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-1268 | security    | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-1425 | recommended | low       | ---         | needed | Recommended update for grub2</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-940  | security    | important | ---         | needed | Security update for subversion</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-118  | security    | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-234  | recommended | low       | ---         | needed | Recommended update for grub2</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-241  | recommended | moderate  | ---         | needed | Recommended update for yast2, yast2-nfs-client, yast2-services-manager</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-586  | recommended | low       | ---         | needed | Recommended update for grub2</span><br><span class="line"></span><br><span class="line">Found 7 applicable patches:</span><br><span class="line">7 patches needed (3 security patches)</span><br></pre></td></tr></table></figure>

<p>패치는 보안 이슈에 대한 것으로 해당 보안 이슈 정보 혹은 분류 등을 확인할 수 있다. 목록에서 Name 컬럼이 발생한 보안 사항 번호로 이 번호로 조회할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zypper info openSUSE-2017-462</span><br></pre></td></tr></table></figure>

<p>패키지 내용은 CVE(Common Vulnerabilities and Exposures)로 보고된 보안 사항을 적용한 내용을 자세히 보여주고 있다.</p>
<p>패치 중에서 Category로 검색할 수 있다. 다음 같이 security 분류만 검색할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">zypper lp --category security</span><br><span class="line">Loading repository data...</span><br><span class="line">Reading installed packages...</span><br><span class="line"></span><br><span class="line">Repository                | Name               | Category | Severity  | Interactive | Status | Summary</span><br><span class="line">--------------------------+--------------------+----------+-----------+-------------+--------+--------------------------------</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-1268 | security | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2017-940  | security | important | ---         | needed | Security update for subversion</span><br><span class="line">openSUSE-Leap-42.3-Update | openSUSE-2018-118  | security | important | ---         | needed | Security update for webkit2gtk3</span><br><span class="line"></span><br><span class="line">Considering 3 out of 7 applicable patches:</span><br><span class="line">3 patches needed (3 security patches)</span><br></pre></td></tr></table></figure>

<p>패치를 전체를 설치하려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper patch</span><br></pre></td></tr></table></figure>

<p>혹은 패치 중에서 특정 패치만 설치할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo zypper install patch:openSUSE-2017-1268</span><br></pre></td></tr></table></figure>


<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><ul>
<li><a target="_blank" rel="noopener" href="https://en.opensuse.org/SDB:System_upgrade">OpenSUSE System Upgrade</a></li>
<li><a target="_blank" rel="noopener" href="https://lukerawlins.com/opensuse-patch-vs-update/">openSUSE Update &amp; Patch</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-22T00:10:00.000Z" title="2018-6-22 9:10:00">2018-06-22</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:51.968Z" title="2022-2-25 1:16:51">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Raspberry-Pi/">Raspberry Pi</a><span> / </span><a class="link-muted" href="/categories/Raspberry-Pi/Linux/">Linux</a></span><span class="level-item">5분안에 읽기 (약 784 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/22/raspberrypi-2018-06-22-raspbian-1-prepare/">Raspberry Pi : Raspbian 설치준비</a></h1><div class="content"><p>이 글은 Raspberry Pi Programming 과정을 진행하며 강의한 자료를 바탕으로 공개강의를 위한 텍스트로 <em>슬라이드쉐어</em>, <em>blog.thinkbee.kr</em> 그리고 실제 과정을 영상 <em>youtube</em> 채널에 공개할 목적으로 작성한다.</p>
<p>Install Rasbperry Pi 글타래는 아래 같이 구성되며 간단한 소개, Serial console, OS 설치,  Service 구성 및 사용에 대해 작성했다.</p>
<ol>
<li><strong>Raspberry Pi 설치준비</strong></li>
<li><strong><a href="!--swig%EF%BF%BC0--">Install Raspbian OS</a></strong></li>
<li>Managing Service daemon</li>
<li>Basic OS Security for Server</li>
<li><a href="!--swig%EF%BF%BC1--">Install &amp; Configuration - Nginx, Node JS, Jupyter</a></li>
</ol>
<blockquote>
<p>2017-10-30: swap 추가, timezone 수정<br>{:.right-history}</p>
</blockquote>
<h2 id="Raspbery-Pi-OS-설치준비"><a href="#Raspbery-Pi-OS-설치준비" class="headerlink" title="Raspbery Pi OS 설치준비"></a>Raspbery Pi OS 설치준비</h2><p>*Raspberry Pi(라즈베리파이)*에 <em>Serial Console</em> 을 연결하고, Raspbian, Ubuntu 등을 설치한 후에 라즈베리파이를 처음 설정하고 <em>SSH</em> 구성을 활성화 하겠다.</p>
<p>라즈베리파이에 OS를 설치하기 위해서는 <strong>NOOBS</strong>를 사용하거나 <strong>오에스 이미지</strong>를 다운받아 SD Card에 구워서 사용한다. 라즈베리파이는 다음과 같은 OS 배포본을 사용할 수 있다. </p>
<table>
<thead>
<tr>
<th>운영체제</th>
<th>특징</th>
</tr>
</thead>
<tbody><tr>
<td>Raspbian (Debian)</td>
<td>Raspberry Pi + Debian의 합성어, 가장 범용 OS.</td>
</tr>
<tr>
<td>Arch Linux (A non-Linux Distribution)</td>
<td>ARM 프로세서를 지원하는 Arch Linux</td>
</tr>
<tr>
<td>RISC OS</td>
<td>ARM 프로세서를 위한 실시가(RTOS) 운영체제</td>
</tr>
<tr>
<td>OpenElec</td>
<td>XBMC 미디어 센터 지원을 위한 운영체제</td>
</tr>
<tr>
<td>RaspBMC</td>
<td>XBMC 미디어 센터 지원을 위한 운영체제</td>
</tr>
<tr>
<td>Pidora</td>
<td>Pi + Fedora 운영체제</td>
</tr>
</tbody></table>
<p>**Raspbian(라즈비안)**은 라즈베리파이를 위한 데비안 리눅스로 가장 대중적인 데비안 리눅스, 우분투와 같은 사용자 경험을 제공해 주고 있다.</p>
<h3 id="Raspberry-Pi-설치-준비"><a href="#Raspberry-Pi-설치-준비" class="headerlink" title="Raspberry Pi 설치 준비"></a>Raspberry Pi 설치 준비</h3><p>Raspberry Pi의 GPIO에 배치된 UART Rx, Tx 포트와 시리얼 케이블의 Tx, Rx로 크로스 연결하면 시리얼 콘솔로 작동한다.</p>
<p>설치에 앞서 준비해야 할 것이 있다. </p>
<ul>
<li>Raspberry Pi 1, 2, 3</li>
<li>SD Memory Card: 8GB 이상, Class6 이상</li>
<li>USB to Serial Cable</li>
</ul>
<h4 id="Raspberry-Pi"><a href="#Raspberry-Pi" class="headerlink" title="Raspberry Pi"></a>Raspberry Pi</h4><p>Raspberry Pi의 GPIO에 배치된 UART Rx, Tx 포트와 시리얼 케이블의 Tx, Rx로 크로스 연결하면 시리얼 콘솔로 작동한다.</p>
<p><img src="/images/raspberrypi/rapi_config-serial.png">{:with&#x3D;”500”}</p>
<h4 id="SD-Memory-Card"><a href="#SD-Memory-Card" class="headerlink" title="SD Memory Card"></a>SD Memory Card</h4><p>라즈베리파이는 SD Meory Card 카드에서 부팅 및 운영 하도록 되어 있다. </p>
<ul>
<li><strong>NOOBS</strong>를 이용한다면 최소 8GB</li>
<li>다른 버전은 최소 4GB</li>
<li>Class 4는 4MB&#x2F;s 쓰기 속도, Class 10은 10MB&#x2F;s 쓰기가 가능하지만 Class 10이 Class 4를 앞선다는 것을 보장하진 않는다. 라즈베리파이는 Class 6의 8GB 사용을 권장하고 있다.</li>
</ul>
<figure>그림.</figure>

<p>SDCardFormatter</p>
<p><a target="_blank" rel="noopener" href="http://v.media.daum.net/v/20180630101105544">PCIe 지원 SD Card 규격 7.0</a></p>
<h4 id="USB-to-Serial-Cable"><a href="#USB-to-Serial-Cable" class="headerlink" title="USB to Serial Cable"></a>USB to Serial Cable</h4><p>USB 주변기기가 대중화 되면 컴퓨터에 Serial port가 사라진 후에 <em>USB to TTL</em> 혹은 <em>USB to Serial</em> 로 Serial 케이블을 사용해야 한다. </p>
<p>구글 검색을 해보면 DB-9 포트 형태, 보드 형태 및 Raspberry Pi 같은 SBC 보드의 GPIO 포트에 사용하기 좋은 Adarfruit 판매하는 핀 형태의 제품도 있다.</p>
<p><img src="/images/raspberrypi/usb-serial-cables.png">{: width&#x3D;”600” }</p>
<figure>그림.USB to Serial Cable(구글 이미지 검색 캡쳐)</figure>



</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-22T00:10:00.000Z" title="2018-6-22 9:10:00">2018-06-22</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:51.969Z" title="2022-2-25 1:16:51">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Raspberry-Pi/">Raspberry Pi</a><span> / </span><a class="link-muted" href="/categories/Raspberry-Pi/Linux/">Linux</a></span><span class="level-item">23분안에 읽기 (약 3456 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/22/raspberrypi-2018-06-22-raspbian-2-os-install/">Raspberry Pi : Install Raspbian</a></h1><div class="content"><p>Install Rasbperry Pi OS 글타래는 아래 같이 구성되며 OS 설치, Service 구성 및 사용에 대해 작성한다.</p>
<ol>
<li><strong><a href="!--swig%EF%BF%BC30--">Raspberry Pi 설치준비</a></strong></li>
<li><strong>Install Raspbian OS</strong></li>
<li>Managing Service daemon</li>
<li>Basic OS Security for Server</li>
<li><a href="!--swig%EF%BF%BC31--">Install &amp; Configuration - Nginx, Node JS, Jupyter</a></li>
</ol>
<blockquote>
<p>2017-10-30: swap 추가, timezone 수정<br>{:.right-history}</p>
</blockquote>
<h2 id="Install-Raspbian-OS"><a href="#Install-Raspbian-OS" class="headerlink" title="Install Raspbian OS"></a>Install Raspbian OS</h2><p>Raspberry Pi(라즈베리파이)에 Raspbian, Ubuntu 등을 설치하고 <em>Serial Console</em> 을 이용해서, 라즈베리파이를 처음 설정하고 <em>SSH</em> 구성을 활성화 하겠다.</p>
<p>라즈베리파이에 OS를 설치하기 위해서는 <strong>NOOBS</strong>를 사용하거나 <strong>오에스 이미지</strong>를 다운받아 SD Card에 구워서 사용한다. 라즈베리파이는 다음과 같은 OS 배포본을 사용할 수 있다. </p>
<table>
<thead>
<tr>
<th>운영체제</th>
<th>특징</th>
</tr>
</thead>
<tbody><tr>
<td>Raspbian (Debian)</td>
<td>Raspberry Pi + Debian의 합성어, 가장 범용 OS.</td>
</tr>
<tr>
<td>Arch Linux (A non-Linux Distribution)</td>
<td>ARM 프로세서를 지원하는 Arch Linux</td>
</tr>
<tr>
<td>RISC OS</td>
<td>ARM 프로세서를 위한 실시가(RTOS) 운영체제</td>
</tr>
<tr>
<td>OpenElec</td>
<td>XBMC 미디어 센터 지원을 위한 운영체제</td>
</tr>
<tr>
<td>RaspBMC</td>
<td>XBMC 미디어 센터 지원을 위한 운영체제</td>
</tr>
<tr>
<td>Pidora</td>
<td>Pi + Fedora 운영체제</td>
</tr>
</tbody></table>
<p>**Raspbian(라즈비안)**은 라즈베리파이를 위한 데비안 리눅스로 가장 대중적인 데비안 리눅스, 우분투와 같은 사용자 경험을 제공해 주고 있다.</p>
<h3 id="Raspberry-Pi-준비"><a href="#Raspberry-Pi-준비" class="headerlink" title="Raspberry Pi 준비"></a>Raspberry Pi 준비</h3><p>설치에 앞서 준비해야 할 것 이 있습니다.</p>
<ul>
<li>Raspberry Pi 1, 2, 3</li>
<li>OS 설치 SD Memory Card: 8GB 이상, Class6 이상</li>
<li>USB to Serial Cable</li>
</ul>
<h4 id="SDCard에-대해"><a href="#SDCard에-대해" class="headerlink" title="SDCard에 대해"></a>SDCard에 대해</h4><p>라즈베리파이는 SD 호환 카드에서 작동하도록 되어 있다. </p>
<ul>
<li><p>NOOBS를 이용한다면 최소 8GB</p>
</li>
<li><p>다른 버전은 최소 4GB</p>
</li>
<li><p>Class 4는 4MB&#x2F;s 쓰기 속도, Class 10은 10MB&#x2F;s 쓰기가 가능하지만 Class 10이 Class 4를 앞선다는 것을 보장하진 않는다. 라즈베리파이는 Class 6의 8GB 사용을 권장하고 있다.</p>
</li>
<li><p>Mac: SDCardFormatter</p>
</li>
</ul>
<h4 id="SDCard-사용시-주의"><a href="#SDCard-사용시-주의" class="headerlink" title="SDCard 사용시 주의"></a>SDCard 사용시 주의</h4><ul>
<li>정품 SD Card 사용을 권장</li>
<li>전원은 품질이 좋아야. 라즈베리파이 보드의 TP1, TP2 전력을 측정해서 4.75v 이하면 품질이 좋은 전원으로 바꾸길.</li>
<li>더불어 좋은 품질의 USB 케이블을 사용해야 한다.</li>
<li>종료시 <strong>sudo halt</strong> 를 이용하도록</li>
<li>오버클록은 지양하도록</li>
</ul>
<br>
### Download and Install

<p>OS 설치와 서비스 설치는 크게 아래 과정을 거친다.</p>
<ul>
<li>(1). Download OS Image, Etcher, sdFormatter</li>
<li>(2). OS image 파일을 SD Card에 쓴다.</li>
</ul>
<p>SD Card로 부팅후에</p>
<ul>
<li>(1). 모니터 혹은 시리얼 콘솔에서 <code>raspi-conifg</code> 로 시스템 구성을 마무리</li>
<li>(2). 서비스 설치</li>
</ul>
<h4 id="1-Download-OS-Image-Etcher-sdFormatter"><a href="#1-Download-OS-Image-Etcher-sdFormatter" class="headerlink" title="(1). Download OS Image, Etcher, sdFormatter"></a>(1). Download OS Image, Etcher, sdFormatter</h4><p>라즈베리안 OS를 다운로드,</p>
<p><a target="_blank" rel="noopener" href="https://www.raspberrypi.org/downloads/raspbian/">Raspberry Pi Raspbian Download</a> 링크에서 다운 받을 수 있다. </p>
<blockquote>
<p>토렌트와 zip 형식으로 다운 받을 수 있습니다.</p>
</blockquote>
<p>다운로드된 파일은 <em>yyyy-mm-dd-raspbian-wheezy.zip</em> 형식으로 다운로드가 된다. 디스크 이미지 파일 <em>yyyy-mm-dd-raspbian-wheezy.img</em> 이 zip으로 압축되어 있는데,이 이미지 파일을 SD Card에 복사해야 한다.</p>
<p>디스크 이미지를 쓰기위한 프로그램으로 오에스 이미지를 SD Card, Disk 등에 쓴다. 보통 아래 프로그램을 이용한다.</p>
<ul>
<li>Windows : Win32DiskImager</li>
<li>Linux: ImageWriter</li>
<li>macOS: <code>dd</code> 명령</li>
<li>모든 플랫폼: Etcher</li>
<li>SD Memory Card Formatter 5.0 for SD&#x2F;SDHC&#x2F;SDXC</li>
</ul>
<p>이 글에서는 디스크 이미지 쓰기<a target="_blank" rel="noopener" href="http://etcher.io/">Etcher</a> 프로그램을 이용해서 오에스 이미지 파일을 SD Card에 쓰겠다.</p>
<blockquote>
<p>macOS, Windows, Linux 지원 </p>
</blockquote>
<p>여기까지 필요한 준비 사항은:</p>
<ul>
<li>Raspbian OS Image</li>
<li>SD Card Formatter</li>
</ul>
<h4 id="OS-image-파일을-SD-Card-쓰기"><a href="#OS-image-파일을-SD-Card-쓰기" class="headerlink" title="OS image 파일을 SD Card 쓰기"></a>OS image 파일을 SD Card 쓰기</h4><p>Etcher를 실행하고 </p>
<p><img src="/images/opensuse/etcher-image-writing.png">{:width&#x3D;”640”}</p>
<h5 id="dd-를-사용한다면"><a href="#dd-를-사용한다면" class="headerlink" title="dd 를 사용한다면,"></a><code>dd</code> 를 사용한다면,</h5><p>다운받은 <code>.zip</code> 파일을  <code>unzip</code>으로 풀어 dd&#96;로 SD Card에 이미지를 쓴다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip -p 2017-06-21-raspbian-stretch-lite.zip | sudo dd of=/dev/rdisk1 bs=4M; sync</span><br></pre></td></tr></table></figure>

<blockquote>
<p>MacOS는 dd의 bs 옵션이 소문자로 받는다: <code>bs=4m</code></p>
</blockquote>
<p>다쓴 SD Card를 마운트 한다. </p>
<h4 id="ssh-활성화"><a href="#ssh-활성화" class="headerlink" title="ssh 활성화"></a>ssh 활성화</h4><p>Raspbian 2016-11-25일 릴리즈 이후 기본으로 ssh가 비활성화 되어 있다. 그래서 처음 부팅후 ssh 접속이 필요하다면 부트 파티션에 <code>ssh</code> 파일을 생성해 주면된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /boot</span><br><span class="line">$ touch ssh</span><br></pre></td></tr></table></figure>


<br>
#### Serial console

<p>여기서는 <strong>Serial console</strong>에서 네트워크 확인 및 초기 설정을 하고 <strong>ssh</strong> 로 서버에 로그인해서 시스템 구성을 진행한다.</p>
<blockquote>
<p>SD Card를 라즈베리파이에 꽃고 HDMI, Keyboard 및 Mouse 가 별도로 준비되어 있으면 직접 모니터를 보고 작업을 진행하면 좋다. </p>
</blockquote>
<p>USB to Serial 케이블을 사용해서 Raspberry Pi의 Serial Console에 연결한다.</p>
<p><img src="/images/raspberrypi/rpi-usb-serial.png">{:width&#x3D;”640”}</p>
<p>그리고 시리얼 포트를 통해 tty 연결을 위해 터미널 프로그램에서 baud rate 115200 으로 연결한다. 아래는 macOS의 <code>screen</code> CLI 명령으로 usb serial 포트에 연결하고 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen /dev/cu.usbserial 115200</span><br></pre></td></tr></table></figure>

<p>이제 SD Card를 넣고 부팅을 하면, 터미널에 부트 단계가 진행되고 처음 5분 정도 소요된다. </p>
<p><img src="/images/opensuse/opensuse-boot33.png">{:width&#x3D;”640”}</p>
<p>Raspberry Pi를 위한 이미지는 처음 계정은 <code>root/linux</code> 이다. </p>
<p>터미널에서 uname 은 <strong>aarch64</strong> 임을 확인 할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root<span class="comment"># uname -a</span></span><br><span class="line">Linux homepi 4.4.90-18.32-default <span class="comment">#1 SMP Fri Oct 6 13:30:08 UTC 2017 (465b410) aarch64 aarch64 aarch64 GNU/Linux</span></span><br></pre></td></tr></table></figure>

<p>처음으로 라즈베리파이에서 64bit 환경으로 운영해 볼 수 있게 됐다.</p>
<h4 id="Raspbian-OS-Image-복사"><a href="#Raspbian-OS-Image-복사" class="headerlink" title="Raspbian OS Image 복사"></a>Raspbian OS Image 복사</h4><p>맥&#x2F;리눅스에서 dd 명령을 이용해서 이미지를 복사할 수 있습니다. </p>
<blockquote>
<p>sudo dd bs&#x3D;1m if&#x3D;path_of_your_image.img of&#x3D;&#x2F;dev&#x2F;diskn</p>
<ul>
<li>bs: 한번에 읽어들일 사이즈를 의미</li>
</ul>
</blockquote>
<p>마지막 옵션인 ‘diskn’의 n은 SD Card의 번호로 SDCard Formater에서 기억하란 번호입니다. 여기서 번호가 2로 가정합니다.<br>그리고 Mac OSX는 디스크가 &#x2F;dev 경로에 두 가지 종류가 있습니다.</p>
<ul>
<li>&#x2F;dev&#x2F;disk# 버퍼 디바이스로 데이터가 부가적인 처리를 통해 사용합니다.</li>
<li>&#x2F;dev&#x2F;rdisk# 저수준 경로로 빠르고 dd 명령을 사용할 때 완벽합니다.</li>
</ul>
<blockquote>
<p>Class 4 SD card는 rdisk 경로를 사용할 때 20배 빠릅니다.</p>
</blockquote>
<p>먼저 포맷터로 포맷한 디스크 마운트를 해제합니다. 맥의 디스크유틸리티를 이용해서 마운트를 해제합니다.<br><img src="/images/mac-diskutility.png"></p>
<p>이미지가 있는 곳에서 dd 명령으로 라즈비안을 복사합니다.3.2GB 크기를 복사해서 9분~15분 정도의 시간이 소요됩니다.</p>
<p>zip 압축 파일을 입력으로 다음 같이 dd 명령으로 sd card에 쓴다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ unzip -p 2016-05-27-raspbian-jessie.zip | sudo dd of=/dev/rdisk1 bs=1m</span><br></pre></td></tr></table></figure>

<p>압축을 푼후</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$sudo dd bs=1m if=2015-02-16-raspbian-wheezy.img of=/dev/rdisk2</span><br><span class="line">3125+0 records in</span><br><span class="line">3125+0 records out</span><br><span class="line">3276800000 bytes transferred i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n 551.608702 secs (5940443 bytes/sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>rdisk 이용시 에러가 발생하면 disk를 사용합니다.</p>
</blockquote>
<p>다음 링크에 설명한 방법을 바탕으로 설명해보겠습니다.<br>참조: <a target="_blank" rel="noopener" href="http://elinux.org/RPi_Easy_SD_Card_Setup">http://elinux.org/RPi_Easy_SD_Card_Setup</a></p>
<h5 id="Mac-diskutil-과-dd-이용"><a href="#Mac-diskutil-과-dd-이용" class="headerlink" title="Mac diskutil 과 dd 이용"></a>Mac diskutil 과 dd 이용</h5><p>diskutil로 디스크 목록 확인해 SD카드 번호 확인</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil unmountDisk /dev/disk1</span><br></pre></td></tr></table></figure>

<p>이미지 쓰기</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd bs=1m if=image.img of=/dev/rdisk[n] conv=noerror,sync</span><br></pre></td></tr></table></figure>

<blockquote>
<p>위 명령으로도 ‘Permission Denied’ 가 나오면, 이것은 SD 카드의 파티션 테이블이 덮어쓰기를 막고 있다는 의미로 이 경우 파티션 테이블을 제거해야 한다. 다음 같이 zero로 SDCard를 덮어쓰면 all partitions, master boot records, and data를 지운다.</p>
</blockquote>
<p>진행 상황을 보려면 <em>status&#x3D;progress</em> 로 알 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd bs=1m if=image.img of=/dev/rdisk[n] conv=noerror,sync status=progress</span><br></pre></td></tr></table></figure>

<p>SD card를 포맷하려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo dd if=/dev/zero of=/dev/rdisk1 bs=4k count=1</span><br></pre></td></tr></table></figure>
<ul>
<li>bs: 한번에 읽어들일 byte를 의미</li>
<li>count: block 수 입니다.</li>
</ul>
<p>혹은 랜덤 데이터로 지우려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$dd if=/dev/urandom of=/dev/sda bs=4k</span><br></pre></td></tr></table></figure>

<p>Mac의 diskutil을 사용하면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo diskutil partitionDisk /dev/disk3 1 MBR &quot;Free Space&quot; &quot;%noformat%&quot; 100%</span><br></pre></td></tr></table></figure>


<p>다운로드한 이미지는 zip 압축 파일로 저장된다. 다음 같이 명령 파이프를 이용하면 압축 파일을 풀지않고 디스크에 이미지를 쓸 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ unzip -p 2016-09-23-raspbian-jessie.zip* | sudo dd of=/dev/rdisk1 bs=4m</span><br><span class="line">password: ****</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>이미지를 <em>dd</em>  명령으로 작성한 후에 카드를 추출한다:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo diskutil eject /dev/rdisk3</span><br></pre></td></tr></table></figure>


<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.raspberrypi.org/documentation/installation/installing-images/mac.md">https://www.raspberrypi.org/documentation/installation/installing-images/mac.md</a></p>
</blockquote>
<h5 id="clone-disk"><a href="#clone-disk" class="headerlink" title="clone disk"></a>clone disk</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=/dev/diskX conv=sync,noerror bs=4m | gzip -c  &gt; /path/to/backup.img.gz</span><br></pre></td></tr></table></figure>


<blockquote>
<p>반대로 디스크를 디스크이미지로 만들려면 다음 같이 dd 를 사용할 수 있습니다.<br>쓰기 전에 sd card의 마운트한 파티션을 마운트를 해제해야 합니다.</p>
<p>$sudo dd bs&#x3D;1m if&#x3D;2015-02-16-raspbian-wheezy.img of&#x3D;&#x2F;dev&#x2F;rdisk2</p>
</blockquote>
<h4 id="SDFormatter-이용"><a href="#SDFormatter-이용" class="headerlink" title="SDFormatter 이용"></a>SDFormatter 이용</h4><p>SDCard Formatter 를 이용해서 SD Card를 포맷할 수 있습니다. 윈도우즈, 리눅스 및 맥을 지원합니다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.sdcard.org/downloads/formatter_4/">https://www.sdcard.org/downloads/formatter_4/</a></li>
</ul>
<ol>
<li>오에스에 맞는 버전을 다운로드하고 실행하면 설치를 합니다. </li>
<li>SD Card를 컴퓨터에 삽입합니다.</li>
<li>SDFormatter를 실행하고 다음 화면 처럼 SD card를 포맷할 수 있습니다.</li>
</ol>
<ul>
<li>SDFormatter 라는 프로그램을 설치하여, 옵션의 FORMAT SIZE ADJUSTMENT 설정을 ON 으로 하여 SD카드를 포맷</li>
</ul>
<p><img src="/images/raspberrypi/sdcardformatter-main.png" alt="SDCard Formatter 실행"></p>
<blockquote>
<p>SDCard Formatter에서 디스크 선택시 디스크 번호를 잘 기억해 두세요.</p>
</blockquote>
<h3 id="윈도우즈에서-라즈비안-복사하기"><a href="#윈도우즈에서-라즈비안-복사하기" class="headerlink" title="윈도우즈에서 라즈비안 복사하기"></a>윈도우즈에서 라즈비안 복사하기</h3><p>윈도우XP&#x2F;7&#x2F;8 에서 다운로드한 라즈비안 OS를 SD카드로 복사하겠습니다. 아래 링크에서 ‘Win32 Disk Imager’를 다운받아 사용해야 합니다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://sourceforge.net/projects/win32diskimager/">Win32 Disk Imager</a></li>
</ul>
<p>win32diskimager를 실행하고 다운받은 ‘2015-03-15-raspbian-wheezy.zip’ 파일을 선택하고 SD카드 위치를 선택해 주면 됩니다.</p>
<p><img src="/images/win32diskimager.png"></p>
<p>그리고 Write버튼을 눌러주고 기다리면 복사를 시작합니다.</p>
<h2 id="부팅"><a href="#부팅" class="headerlink" title="부팅"></a>부팅</h2><h3 id="IP-강제-지정"><a href="#IP-강제-지정" class="headerlink" title="IP 강제 지정"></a>IP 강제 지정</h3><p>CD Card를 마운트 하면 boot 파티션이 마운트 된다. boot 파티션에 있는 <em>cmdline.txt</em> 에 <code>ip=</code> 옵션을 추가해 강제로 IP 주소를 지정할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait **ip=192.168.0.203**</span><br></pre></td></tr></table></figure>


<h3 id="Serial-Console"><a href="#Serial-Console" class="headerlink" title="Serial Console"></a>Serial Console</h3><p><img src="/images/raspberypi/rpi-usb-serial.png"></p>
<p>Raspbian 은 boot 파티션에 있는 <em>cmdline.txt</em> 옵션으로 기본적으로 serial console을 사용하도록 하고 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait</span><br></pre></td></tr></table></figure>

<h4 id="Mac-Serial"><a href="#Mac-Serial" class="headerlink" title="Mac Serial"></a>Mac Serial</h4><p>보통 FTDI USB 케이브을 다음 두 제품이 대부분이다.</p>
<ul>
<li>Prolific PL2303:   <a target="_blank" rel="noopener" href="http://www.prolific.com.tw/us/showproduct.aspx?p_id=229&pcid=41">PL2303 MacOSX</a></li>
<li>FTDI USB Serial:   FTDIUSBSerialDriver_v2_3.zip</li>
</ul>
<blockquote>
<p>macOS Maverick 이후 FTDI 드라이버가 포함되어 있다.<br>혹시 새 버전을 설치하거나 이전 버전이 설치되어 삭제하려면 [^6]<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd /Library/Extensions/</span><br><span class="line">$ sudo rm -r PL2303.kext</span><br><span class="line">$ sudo rm -r ProlificUsbSerial.kext</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>FTDI 케이블을 사용한다고 가정하고 맥에 USB to Serial 케이블을 연결하면 <em>&#x2F;dev</em> 장치에 <em>cu.</em>, <em>tty.</em> 장치 드라이버가 생성된다. 두 장치는 다른 점이 있다.[^5]</p>
<ul>
<li>&#x2F;dev&#x2F;tty.* 장치는 DCD (data-carrier-detect) 신호를 대기한다, 이것은 누군가 호출해 온다는 의미이다.</li>
<li>&#x2F;dev&#x2F;cu.* 장치는 DCD를 추정하지 않고 항상 즉시 연결한다(응답 혹은 성공)</li>
</ul>
<p>FTDI 로 시리얼을 사용시는 <em>cu.</em> 장치를 사용하면 된다.</p>
<blockquote>
<p>일반적으로 </p>
</blockquote>
<h4 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h4><p>Mac에서 <code>screen</code> 사용시</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen /dev/cu.usbserial-XXXXXXXX 115200</span><br></pre></td></tr></table></figure>

<p>시리얼 터미널에서 빠져나오려면  ‘ctrl-a, ctrl-&#39; 를  순서데로 입력</p>
<h3 id="Linux-Serial-terminal"><a href="#Linux-Serial-terminal" class="headerlink" title="Linux Serial terminal"></a>Linux Serial terminal</h3><p>Linux machine에서 Usb to serial 케이블을 사용할 수 있는지 콘솔 메시지에서 Serial console이 있는 지 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ dmesg | egrep --color &#x27;serial&#x27;</span><br><span class="line">[ 1969.914088] usbcore: registered new interface driver usbserial</span><br><span class="line">[ 1969.914139] usbcore: registered new interface driver usbserial_generic</span><br><span class="line">[ 1969.914175] usbserial: USB Serial support registered for generic</span><br><span class="line">[ 1969.918325] usbserial: USB Serial support registered for pl2303</span><br></pre></td></tr></table></figure>

<p>장치 드라이버는 보통 <em>&#x2F;dev&#x2F;ttyUSB0</em> 장치로 연결된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls /dev/ttyUSB*</span><br><span class="line">/dev/ttyUSB0</span><br></pre></td></tr></table></figure>


<h4 id="dterm"><a href="#dterm" class="headerlink" title="dterm"></a>dterm</h4><p>dtermAUR is a tiny serial communication program. If you invoke it without parameters, it will connect to &#x2F;dev&#x2F;ttyS0 at 9600 baud by default. The following example connect to &#x2F;dev&#x2F;ttyS0 at 115200 baud, with 8 data bits, no parity bit and 1 stop bit-times:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dterm 115200 8 n 1</span><br></pre></td></tr></table></figure>

<p>See its homepage[1] for more examples.</p>
<h4 id="Minicom"><a href="#Minicom" class="headerlink" title="Minicom"></a>Minicom</h4><p>minicom can be obtained from the official repositories. Start Minicom in setup mode:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ minicom -s</span><br></pre></td></tr></table></figure>

<p>Using the textual navigation menu, change the serial port settings to the following:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Serial Device: /dev/ttyS0</span><br><span class="line">Bps/Par/Bits: 9600 8N1</span><br></pre></td></tr></table></figure>

<p>Press Enter to exit the menus (pressing Esc will not save changes). Remove the modem Init and Reset strings, as we are not connecting to a modem. To do this, under the Modem and Dialing menu, delete the Init and Reset strings. Optionally save the configuration by choosing save setup as dfl from the main menu. Restart minicom with the serial cable connected to the target machine. To end the session, press Ctrl+A followed by Ctrl+X.</p>
<h4 id="picocom"><a href="#picocom" class="headerlink" title="picocom"></a>picocom</h4><p>picocom is a tiny dumb-terminal emulation program that is very like minicom, but instead of mini, it is pico. The following example connect to ttyS0 at 9600 bps:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ picocom -b 9600 /dev/ttyS0</span><br></pre></td></tr></table></figure>

<p>Note: if the backspace key won’t work properly try out this option: ‘–omap delbs’<br>See its manual for detailed usage.</p>
<h4 id="Screen"><a href="#Screen" class="headerlink" title="Screen"></a>Screen</h4><p>screen is able to connect to a serial port. It will connect at 9600 baud by default:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen /dev/ttyS0 115200</span><br></pre></td></tr></table></figure>

<p>To end the session, press Ctrl+a followed by k.</p>
<p>여러 사용자로 열려면 <strong>-R</strong> 옵션을 주고 다시 연다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -R /dev/tty.usbserial-XXXXXXXX 115200</span><br></pre></td></tr></table></figure>

<p>screen 명령 사용중 어떤 상황에서 세션이 멈춘 경우 종료 명령이 안된다. 이 경우 screen 세션을 찾고 가제 종료를 시도해 본다.</p>
<p>Type screen -list to identify the detached screen session.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">~$ screen -list  </span><br><span class="line">    There are screens on:  </span><br><span class="line">         20751.Melvin_Peter_V42  (Detached)  </span><br><span class="line">Note: 20751.Melvin_Peter_V42 is your session id.</span><br></pre></td></tr></table></figure>

<p>Get attached to the detached screen session<br>screen -r 20751.Melvin_Peter_V42<br>Once connected to the session press Ctrl + A then type :quit</p>
<p>Attached session 종료</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ screen -ls</span><br><span class="line">There is a screen on:</span><br><span class="line">  2667.ttys003.gogangtaeui-MacBook-Pro  (Attached)</span><br><span class="line">1 Socket in /var/folders/02/4qk5tfw527b9zqx92gtv4m980000gn/T/.screen.</span><br></pre></td></tr></table></figure>

<p>screen -S sessionname -p 0 -X quit</p>
<h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><p><a target="_blank" rel="noopener" href="http://www.mostlynetworks.com/2014/11/os-x-yosemite-prolific-usb-drivers/">http://www.mostlynetworks.com/2014/11/os-x-yosemite-prolific-usb-drivers/</a><br><a target="_blank" rel="noopener" href="http://www.mostlynetworks.com/2015/01/fixing-prolific-driver-os-x/">http://www.mostlynetworks.com/2015/01/fixing-prolific-driver-os-x/</a><br><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/disk_cloning">https://wiki.archlinux.org/index.php/disk_cloning</a></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/working_with_the_serial_console">Archlinux-Working with serial console</a></li>
</ul>
<p>[^5]: <a target="_blank" rel="noopener" href="https://pbxbook.com/other/mac-tty.html">Mac tty</a><br>[^6]: <a target="_blank" rel="noopener" href="http://sewellsupport.com/Uninstall-Pl-2303-on-Mac-OSX.aspx">Uninstall PL-2303 on macOS X</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-04-05T00:00:00.000Z" title="2017-4-5 9:00:00">2017-04-05</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:41:41.044Z" title="2022-2-25 1:41:41">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">18분안에 읽기 (약 2691 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/04/05/linux-2017-04-05-crosscompile-arm/">Ubuntu/Debian ARM Cross compile 환경</a></h1><div class="content"><p>이 글은 우분투, 리눅스 박스에서 GNU ARM Cross compiler 를 설치하고 관리하는 방법을 다루고 있다.</p>
<blockquote>
<p>2018-05-17: sidebar.nav&#x2F;linux 사용<br>{: .right-history}</p>
</blockquote>
<h2 id="ARM-Cross-compiler-설치"><a href="#ARM-Cross-compiler-설치" class="headerlink" title="ARM Cross compiler 설치"></a>ARM Cross compiler 설치</h2><p>우분투&#x2F;데비안 리눅스에서 제공하는 ARM Toolchain 환경은 Linaro 툴체인을 바탕으로 만들어져 있어서 두가지 버전으로 제공된다. <em>Hard Float</em>을 지원하는 버전과 그렇지 않은 버전이다.[^1]</p>
<p><strong>(1) gcc-arm-linux-gnueabi</strong></p>
<p>이 툴체인은 EABI가 gcc의 <code>-mfloat-abi=soft</code> 혹은 <code>-mfloat-abi=softfp</code> 옵션으로 생성한다는 의미이다.</p>
<p><strong>(2) gcc-arm-linux-gnueabihf</strong></p>
<p>이 툴체인은 EABI가 <code>gcc -mfloat-abi=hard</code> 옵션으로 생성한다는 의미이다. 이 의미는 Function Calling Convention이 double, float 사용시 FPU 레지스터에 올려서 전달하고 반환도 FPU 레지스터를 사용하게 된다는 것이다.</p>
<h4 id="update-alternatives"><a href="#update-alternatives" class="headerlink" title="update-alternatives"></a>update-alternatives</h4><p>플랫폼에 따른 gcc 환경을 변경하는 것은 <code>update-alternatives</code>을 사용한다. 링크 <a href="/linux/linux-update-alternatives/">update-alternatives</a>에서 설명을 볼 수 있다.</p>
<h3 id="ARM-toolchain-설치"><a href="#ARM-toolchain-설치" class="headerlink" title="ARM toolchain 설치"></a>ARM toolchain 설치</h3><p>Ubuntu 14.04 에서 테스트했다. 그 이상 버전도 충분히 가능하다. 아래 도구를 설치하면 각 플랫폼에 대한 <em>binutils–arm-linux-</em>, <em>gcc-arm-linux-</em>, <em>g++-arm-linux-</em>, <em>cpp-arm-linux-</em> 도구가 설치된다.</p>
<h4 id="Ubuntu14-04-에서-arm-toolchain-설치"><a href="#Ubuntu14-04-에서-arm-toolchain-설치" class="headerlink" title="Ubuntu14.04 에서 arm toolchain 설치"></a>Ubuntu14.04 에서 arm toolchain 설치</h4><p>Coretex ARM</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gcc-arm-linux-gnueabihf</span><br><span class="line">sudo apt-get install g++-arm-linux-gnueabihf</span><br></pre></td></tr></table></figure>

<p>ARM</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install gcc-arm-linux-gnueabi</span><br><span class="line">$ sudo apt-get install g++-arm-linux-gnueabi</span><br></pre></td></tr></table></figure>

<p>Bare metal ARM</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install gcc-arm-none-eabi</span><br><span class="line">$ sudo apt-get install g++-arm-none-eabi</span><br></pre></td></tr></table></figure>

<p>필요하면 <em>gfortran-arm-linux-</em>, <em>gobjc++-arm-linux-</em> 등의 도구를 설치한다.</p>
<!--

### Linaro toolchain
 - http://www.linaro.org/downloads/#008

Download
Linaro has been very good at changing the location and availability of just about everything, making it very hard to keep a wiki up to date which refers to it. So the below download locations might be stale already.
Currently, the main selection page is here.
It lists the following toolchains:
gcc-linaro 4.5 (4.5-2012.03): Test me
gcc-linaro 4.6 (4.6-2013.05): Test me
gcc-linaro 4.7 (4.7-2014.06): Test me
gcc-linaro 4.8 (4.8-2014.04): Test me
gcc-linaro 4.9 (4.9-2014.07): Test me (this link will go dead the quickest.)
When in doubt, try 4.7 first.
WARNING: Do not use the 4.8 gcc versions of the linaro toolchain to build legacy kernels (sunxi-3.4 etc.), those seem to have issues building the kernel. Use an earlier version instead. (TODO: Verify that this is still true today).

-->

<h3 id="툴-체인-등록"><a href="#툴-체인-등록" class="headerlink" title="툴 체인 등록"></a>툴 체인 등록</h3><p>여러 개발 보드의 cross compiler를 사용하기 위해서 해당 버전의 접두어를 사용해 보자. arm 을 사용하는 보드는 <strong>arm-linux-gnueabi[hf]</strong> 명칭을 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ update-alternatives --list arm-linux-gnueabihf</span><br></pre></td></tr></table></figure>

<p>새로운 <em>arm-linux-gnueabihf-</em> 를 등록하자.</p>
<h4 id="arm-linux-gnueabihf-등록하기"><a href="#arm-linux-gnueabihf-등록하기" class="headerlink" title="arm-linux-gnueabihf 등록하기"></a>arm-linux-gnueabihf 등록하기</h4><p>arm-linux-gnueabihf-gcc-4.8 관련 도구를 <strong>gcc</strong> 그룹에 등록하기</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/arm-linux-gnueabihf-gcc arm-linux-gnueabihf /usr/bin/arm-linux-gnueabihf-gcc-4.8 50 \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-g++ arm-linux-gnueabihf-g++ /usr/bin/arm-linux-gnueabihf-g++-4.8</span><br></pre></td></tr></table></figure>

<p>arm-linux-gnueabihf-gcc-4.7 관련 도구를 <strong>gcc</strong> 그룹에 등록하기</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/arm-linux-gnueabihf-gcc arm-linux-gnueabihf /usr/bin/arm-linux-gnueabihf-gcc-4.7 40 \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-g++ arm-linux-gnueabihf-g++ /usr/bin/arm-linux-gnueabihf-g++-4.7</span><br></pre></td></tr></table></figure>

<h4 id="Raspberry-pi-Toolchain-등록하기"><a href="#Raspberry-pi-Toolchain-등록하기" class="headerlink" title="Raspberry pi Toolchain 등록하기"></a>Raspberry pi Toolchain 등록하기</h4><p>Raspberry pi 배포본에서 제공하는 arm gcc compile를 arm-linux-gnueabihf 그룹에 등록해 보자 [^2].</p>
<p>git으로 툴체인을 다운받아 <strong>~&#x2F;raspberrypi&#x2F;tools</strong> 에 설치한다고 가정한다. [^3]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/raspberrypi/tools ~/raspberrypi/tools</span><br></pre></td></tr></table></figure>

<p>다운로드한 tools 밑에 32bit, 64bit 버전의 컴파일러가 있다.</p>
<p>32bit 버전은 <code>tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin</code><br>64bit 버전: <code>tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin</code></p>
<p>다운로드 한 후에 적절한 위치에 놓고, 해당 경로를 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/rpi-arm/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/</span><br><span class="line">$ arm-linux-gnueabihf-gcc --version</span><br><span class="line">arm-linux-gnueabihf-gcc (crosstool-NG linaro-1.13.1+bzr2650 - Linaro GCC 2014.03) 4.8.3 20140303 (prerelease)</span><br><span class="line">Copyright (C) 2013 Free Software Foundation, Inc.</span><br><span class="line">This is free software; see the source for copying conditions.  There is NO</span><br><span class="line">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span><br></pre></td></tr></table></figure>

<p>64bit Raspberry Pi arm-linux-gnueabihf-gcc- 관련 도구를 <strong>gcc</strong> 그룹에 등록하기</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/arm-linux-gnueabihf-gcc arm-linux-gnueabihf ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-gcc-4.8.3 30 \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-g++ arm-linux-gnueabihf-g++ ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-g++</span><br></pre></td></tr></table></figure>

<!--

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/arm-linux-gnueabihf-gcc arm-linux-gnueabihf ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-gcc-4.8.3 30 \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-g++ arm-linux-gnueabihf-g++ ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-g++ \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-ar arm-linux-gnueabihf-gcc-ar ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-gcc-ar \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-nm arm-linux-gnueabihf-gcc-nm ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-gcc-nm \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-ranlib arm-linux-gnueabihf-gcc-ranlib ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-gcc-ranlib \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-readelf arm-linux-gnueabihf-readelf ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-readelf</span><br></pre></td></tr></table></figure>

<p>–&gt;</p>
<p>32bit Raspberry Pi arm-linux-gnueabihf-gcc- 관련 도구를 <strong>gcc</strong> 그룹에 등록하기</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/arm-linux-gnueabihf-gcc arm-linux-gnueabihf ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin/arm-linux-gnueabihf-gcc-4.8.3 20 \</span><br><span class="line">--slave /usr/bin/arm-linux-gnueabihf-g++ arm-linux-gnueabihf-g++ ~/raspberrypi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin/arm-linux-gnueabihf-g++</span><br></pre></td></tr></table></figure>

<p>크로스 플랫폼 환경에서 소스를 빌드하다 보면 GNU Tools 를 해당 그룹에 추가할 필요가 있다. 여기서 예로 든 python 3.6 빌드시 <code>readelf</code> 유틸리티를 요구하는데 우분투 배포본에 <em>arm-linux-gnueabihf-gcc</em> 그룹에 슬레이브로 <code>arm-linux-gnueabihf-readelf</code> 바이너리를 추가해 준다.</p>
<h4 id="64bit-AArch64"><a href="#64bit-AArch64" class="headerlink" title="64bit AArch64"></a>64bit AArch64</h4><p>64-bit ARM, <strong>AARCH64</strong> 을 지원하는 gcc는 <strong>gcc-aarch64-linux-gnu-*</strong> 로 시작한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install binutils-aarch64-linux-gnu gcc-aarch64-linux-gnu g++-aarch64-linux-gnu</span><br></pre></td></tr></table></figure>

<p>이제 <em>arm-linux-gnueabihf-</em> 버전을 교환할 수 있는 환경이 준비됐다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-alternatives --display arm-linux-gnueabihf</span><br><span class="line">$ sudo update-alternatives --list arm-linux-gnueabihf</span><br></pre></td></tr></table></figure>

<p>설정된 버전 표기</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-alternatives --list gcc</span><br><span class="line">/usr/bin/gcc-4.8</span><br><span class="line">/usr/bin/gcc-5</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-alternatives --display gcc</span><br></pre></td></tr></table></figure>

<h4 id="gcc-버전-교체하기"><a href="#gcc-버전-교체하기" class="headerlink" title="gcc 버전 교체하기"></a>gcc 버전 교체하기</h4><p>이렇게 gcc 버전들을 등록해서 설정한 후에 gcc를 교체해서 사용할 수 있다. <code>--config</code> 옵션을 주고 목록에 있는 gcc 버전을 선택한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ update-alternatives --config gcc</span><br><span class="line">There are 2 choices for the alternative gcc (providing /usr/bin/gcc).</span><br><span class="line"></span><br><span class="line">  Selection    Path              Priority   Status</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">* 0            /usr/bin/gcc-4.8   20        auto mode</span><br><span class="line">  1            /usr/bin/gcc-4.8   20        manual mode</span><br><span class="line">  2            /usr/bin/gcc-5     10        manual mode</span><br><span class="line"></span><br><span class="line">Press &lt;enter&gt; to keep the current choice[*], or type selection number: 2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ g++ --version</span><br><span class="line">g++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609</span><br><span class="line">Copyright (C) 2015 Free Software Foundation, Inc.</span><br></pre></td></tr></table></figure>

<h3 id="테스트"><a href="#테스트" class="headerlink" title="테스트"></a>테스트</h3><p><code>update-alternatives --config arm-linux-gnueabihf</code> 로 교체해서 다음을 컴파일 해보자.</p>
<h4 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stdio.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello world !\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ arm-linux-gnueabihf-gcc hello.c -o hello</span><br></pre></td></tr></table></figure>

<h4 id="hello-world-c"><a href="#hello-world-c" class="headerlink" title="hello world c++"></a>hello world c++</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;iostream&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Hello world !&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>g++로 컴파일 하고</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ arm-linux-gnueabi-g++ hello.cc -o hello</span><br></pre></td></tr></table></figure>

<h4 id="C-std-14"><a href="#C-std-14" class="headerlink" title="C++ std 14"></a>C++ std 14</h4><p>아래는 std++14 이상 컴파일이 필요한 lambda 제너릭 코드이다.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generic lambda is C++14 code</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> lambda = [](<span class="keyword">auto</span> x)&#123; <span class="keyword">return</span> x; &#125;;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">lambda</span>(<span class="string">&quot;Hello generic lambda!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>현재 g++ 버전,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aarch64-linux-gnu-g++ --version</span><br><span class="line">aarch64-linux-gnu-g++ (Ubuntu/Linaro 4.8.4-2ubuntu1~14.04.1) 4.8.4</span><br></pre></td></tr></table></figure>

<p>위 코드를 시스템 gcc 로 컴파일 하면 아래 같이 구문 분석에서 에러가 난다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ arm-linux-gnueabihf-g++ -std=c++1y test_cpp14.cpp</span><br><span class="line">hello_cpp14.cpp:6:27: error: parameter declared ‘auto’</span><br></pre></td></tr></table></figure>

<p>c++14 옵션으로</p>
<h4 id="Hardfloat-확인"><a href="#Hardfloat-확인" class="headerlink" title="Hardfloat 확인"></a>Hardfloat 확인</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ arm-linux-gnueabi-gcc -S -O -o hello_float_gnueabi.s hello_float.c</span><br></pre></td></tr></table></figure>

<p>fadd [s | d] 전후에서 범용 레지스터와 FPU 레지스터의 전송을 실시하고 있습니다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ arm-linux-gnueabi-gcc -S -O -o hello_float_gnueabi.s hello_float.c</span><br></pre></td></tr></table></figure>

<p>컴파일 옵션을 자세히 보려면 gcc에 -v 옵션을 쓰면 내부적으로 실행되는 명령과 옵션을 확인할 수 있습니다.</p>
<p>arm-linux-gnueabihf-gcc 는 기본적으로 -march &#x3D; armv7-a -mthumb이므로 Thumb2 코드가 생성됩니다. fpu 유형은 vfpv3-d16 그래서 NEON 없이도 움직일 수있게되어 있네요.</p>
<h4 id="삭제"><a href="#삭제" class="headerlink" title="삭제"></a>삭제</h4><p>설정한 내역을 지워버리고 싶을 때에는 <code>--remove</code> 옵션을 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-alternatives --remove &lt;name&gt; &lt;path&gt;</span><br></pre></td></tr></table></figure>

<p>udo update-alternatives –remove-all gcc</p>
<p><a target="_blank" rel="noopener" href="https://askubuntu.com/questions/26498/choose-gcc-and-g-version">https://askubuntu.com/questions/26498/choose-gcc-and-g-version</a></p>
<br/>
<br/>
## Build with crosscompile

<p>앞서 구성한 우분투 크로스컴파일 환경에서 타겟용 애플리케이션을 빌드해서 타켓 보드에서 실행해 보자.</p>
<h3 id="hardfloat"><a href="#hardfloat" class="headerlink" title="hardfloat"></a>hardfloat</h3><p>Linaro 툴체인은 <em>Hard Float (hf)</em> 을 지원하는데 크로스 컴파일 시에는 아래 처럼 사용한다:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf-</span><br></pre></td></tr></table></figure>

<p>사용하는 툴체인이 <em>hardfloat</em> 이 아리라면 <code>arm-linux-gnueabi-</code> 을 <code>arm-linux-gnueabihf-</code> 로 변경해서 사용한다.</p>
<h3 id="Python3-6-빌드"><a href="#Python3-6-빌드" class="headerlink" title="Python3.6 빌드"></a>Python3.6 빌드</h3><p><a target="_blank" rel="noopener" href="https://docs.python.org/devguide/setup.html">Python build setup</a> 을 참고.</p>
<h4 id="파이썬-의존성-패키지-설치"><a href="#파이썬-의존성-패키지-설치" class="headerlink" title="파이썬 의존성 패키지 설치"></a>파이썬 의존성 패키지 설치</h4><p>우분투에서 <code>build-dep</code> 명령으로 의존성 패키지를 설치할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get build-dep python3.6</span><br></pre></td></tr></table></figure>

<p>호스트 머신에 python3.6 배포본이 없다면 3.5 버전으로 실행한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get build-dep python3.5</span><br></pre></td></tr></table></figure>

<p>Fedora, RHE</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install yum-utils</span><br><span class="line">$ sudo yum-builddep python3</span><br></pre></td></tr></table></figure>

<p>DNF 기반 시스템</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dnf install dnf-plugins-core  <span class="comment"># install this to use &#x27;dnf builddep&#x27;</span></span><br><span class="line">$ sudo dnf builddep python</span><br></pre></td></tr></table></figure>

<h4 id="Python-source"><a href="#Python-source" class="headerlink" title="Python source"></a>Python source</h4><p>소스를 받고, 호스트에 3.6이 없으면 호스트에 3.6 을 설치해야 한다.</p>
<p><code>./configure --help</code> 로 필요한 구성을 알아보자</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">System types:</span><br><span class="line">  --build=BUILD     configure for building on BUILD [guessed]</span><br><span class="line">  --host=HOST       cross-compile to build programs to run on HOST [BUILD]</span><br><span class="line">  --target=TARGET   configure for building compilers for TARGET [HOST]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd Python-3.6/</span><br><span class="line">./configure</span><br><span class="line">./configure --enable-optimizations</span><br></pre></td></tr></table></figure>

<h4 id="Cross-compile"><a href="#Cross-compile" class="headerlink" title="Cross compile"></a>Cross compile</h4><p>호스트에서 빌드하고 설치한 소스에서 크로스 컴파일을 위해 다음 작업을 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">make python Parser/pgen</span><br><span class="line">mv python hostpython</span><br><span class="line">mv Parser/pgen Parser/hostpgen</span><br><span class="line">make distclean</span><br></pre></td></tr></table></figure>

<p>그리고 빌드를 시작한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CC=arm-linux-gnueabihf-gcc CXX=arm-linux-gnueabihf-g++ AR=arm-linux-gnueabihf-ar RANLIB=arm-linux-gnueabihf-ranlib READELF=arm-linux-gnueabihf-readelf ./configure --host=arm-linux --build=arm-linux-gnueabihf --prefix=../output/python --disable-ipv6 ac_cv_file__dev_ptmx=no ac_cv_file__dev_ptc=no ac_cv_have_long_long_format=yes --enable-shared</span><br></pre></td></tr></table></figure>

<!--

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CC=arm-linux-gnueabihf-gcc CXX=arm-linux-gnueabihf-g++ AR=arm-linux-gnueabihf-ar RANLIB=arm-linux-gnueabihf-ranlib READELF=~/rpi-arm/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian-x64/bin/arm-linux-gnueabihf-readelf ./configure --host=arm-linux --build=arm-linux-gnueabihf --prefix=/home/qkboo/Works/rpi-arm/output/python --disable-ipv6 ac_cv_file__dev_ptmx=no ac_cv_file__dev_ptc=no ac_cv_have_long_long_format=yes --enable-shared</span><br></pre></td></tr></table></figure>

<p>–&gt;</p>
<p>빌드한 결과물은 <em>..&#x2F;output&#x2F;python</em> 에 결과물이 저장된다 이것을 tar로 묶어 라즈베리파이, 오렌지파이 등의 ARM 보드에 올린다.</p>
<p>타겟보드에 업로드한 결과물을 &#x2F;usr&#x2F;local&#x2F;python3.6 폴더로 압축을 푼다.</p>
<h4 id="경로-추가"><a href="#경로-추가" class="headerlink" title="경로 추가"></a>경로 추가</h4><p><code>.profile</code> 에 python3.6 디렉토리에 대한 PATH, LD_LIBRARY_PATH, MANPATH 를 구성해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Python3.6</span><br><span class="line">export PATH=&quot;/usr/local/python3.6/bin:$PATH&quot;</span><br><span class="line">export LD_LIBRARY_PATH=&quot;$LD_LIBRARY_PATH:/usr/local/python3.6/lib&quot;</span><br><span class="line">export MANPATH=&quot;$MANPATH:/usr/local/python3.6/share/man&quot;</span><br></pre></td></tr></table></figure>

<p>쉘을 재시작 혹은 로그아웃후 로그인하면 해당 경로가 설정된다. 이제 파이썬 3.6을 사용할 수 있다.</p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><ul>
<li><a target="_blank" rel="noopener" href="https://mentorlinux.files.wordpress.com/2013/02/kernel-compilation-ml.pdf">Linux Kernel Cross Compilation</a></li>
<li><a target="_blank" rel="noopener" href="http://events.linuxfoundation.org/sites/events/files/slides/Shuah_Khan_cross_compile_linux.pdf">http://events.linuxfoundation.org/sites/events/files/slides/Shuah_Khan_cross_compile_linux.pdf</a></li>
<li><a target="_blank" rel="noopener" href="https://datko.net/2013/05/10/cross-compiling-python-3-3-1-for-beaglebone-arm-angstrom/">Cross-compiling Python 3.3.1 for Beaglebone (arm-angstrom)</a></li>
</ul>
<p>[^1]: <a target="_blank" rel="noopener" href="http://nairobi-embedded.org/050_linaro_arm_toolchain.html">Linaro Arm Toolchain</a><br>[^2]: <a target="_blank" rel="noopener" href="https://github.com/Yadoms/yadoms/wiki/Cross-compile-for-raspberry-PI">Cross compile for raspberry PI</a><br>[^3]: <a target="_blank" rel="noopener" href="https://www.raspberrypi.org/documentation/linux/kernel/building.md">Building Kernel</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-12-20T00:00:00.000Z" title="2016-12-20 9:00:00">2016-12-20</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:16:51.961Z" title="2022-2-25 1:16:51">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Raspberry-Pi/">Raspberry Pi</a><span> / </span><a class="link-muted" href="/categories/Raspberry-Pi/Linux/">Linux</a></span><span class="level-item">17분안에 읽기 (약 2558 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/12/20/raspberrypi/2016-12-20-sdcard-usage/">SD Card 포맷 및 디스크 이미지 사용하기</a></h1><div class="content"><p>SBC, PC 등의 머신에서 SD Card 사용에 필요한 사항을 정리했다.</p>
<blockquote>
<p>2018-08-30: 전체 내용 편집<br>2017-10-30: swap 추가, timezone 수정<br>{:.right-history}</p>
</blockquote>
<br>
## SD Card 와 디스크 이미지 사용하기

<p>SD Card는 Secure Digital의 약자로 Flash memory(비휘발성) 카드 포맷이다.</p>
<p>자세한 내용은 <a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/SD_%EC%B9%B4%EB%93%9C">Wikipedia: SD Card</a> 를 확인하자.</p>
<h3 id="SD-Card-format"><a href="#SD-Card-format" class="headerlink" title="SD Card format"></a>SD Card format</h3><ol>
<li>Windows</li>
</ol>
<ul>
<li>Disk Utility를 이용한다.</li>
<li>SD Association의 SD Formatter 를 이용한다.</li>
</ul>
<ol start="2">
<li>macOS</li>
</ol>
<ul>
<li>Diskutility 앱을 이용한다.</li>
<li>SD Association의 SD Formatter 를 이용한다.</li>
</ul>
<ol start="3">
<li>Linux</li>
</ol>
<ul>
<li><code>fdisk</code>, <code>parted</code> 명령으로 포맷할 수 있다.</li>
<li><code>dd</code> 명령으로</li>
</ul>
<h4 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h4><p>macOS는 Disk Utility 프로그램을 명령줄에서 <a target="_blank" rel="noopener" href="https://ss64.com/osx/diskutil.html">diskutil</a> 명령으로 디스크에 대한 파티션, 포맷 및 점검을 할 수 있다. GUI 윈도우를 제공하지만 명령줄에서 <code>diskutil</code> 명령으로 파티션, 마운트 및 포맷을 할 수 있다.</p>
<p>명령줄에서 <code>diskutil</code> 명령으로 목록과 파티션 마운트를 해제하고 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ diskutil list</span><br><span class="line"></span><br><span class="line">$ diskutil unmountDisk /dev/diskX</span><br></pre></td></tr></table></figure>

<p>역시 <code>dd</code> 명령을 이용해 <code>/dev/zero</code>, <code>/dev/urandom</code> 을 디스크 전체에 써서 지울 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=/dev/urandom of=/dev/diskX bs=1000000</span><br></pre></td></tr></table></figure>

<p>디스크 파티션은 <code>partitionDisk</code> 를 사용해서 파티션할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo diskutil partitionDisk &lt;Disk&gt; GPT| FAT|exFAT|JHFS+ NAME SIZE</span><br></pre></td></tr></table></figure>

<ul>
<li>SIZE: 0b 전체.</li>
</ul>
<h4 id="zeros"><a href="#zeros" class="headerlink" title="zeros"></a>zeros</h4><p>$ diskutil reformat &#x2F;dev&#x2F;rdisk3</p>
<h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><p>Ubuntu 등은 SD Card 슬롯에 삽입된 장치는 &#x2F;dev&#x2F;mmcblkX 같이 장치 이름을 붙인다. USB Stick 으로 SD Card 혹은 Micro SD Card를 사용하면 &#x2F;dev&#x2F;sdX 디스크 이름을 사용한다.</p>
<p><code>lsblk</code> 명령은 디바이스 장치가 마운트 된 곳을 출력해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk</span><br><span class="line">NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda           8:0    0 119.2G  0 disk</span><br><span class="line">├─sda1        8:1    0  84.5G  0 part</span><br><span class="line">└─sda6        8:6    0  28.9G  0 part /</span><br><span class="line">mmcblk0     179:0    0   7.5G  0 disk</span><br><span class="line">├─mmcblk0p2 179:2    0   6.8G  0 part /media/qkboo/ROOT</span><br><span class="line">├─mmcblk0p3 179:3    0 486.1M  0 part</span><br><span class="line">└─mmcblk0p1 179:1    0   200M  0 part /media/qkboo/EFI</span><br></pre></td></tr></table></figure>

<p>파티션 및 포맷을 위해 마운트된 파티션을 언마운트 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo umount /dev/mmcblk0p2</span><br><span class="line">$ sudo umount /dev/mmcblk0p1</span><br></pre></td></tr></table></figure>

<p><code>parted</code> 유틸리티로 파티션을 삭제, 생성할 수 있다. 다음은 명령라인에서 옵션을 주어 사용하는 방법이다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo parted /dev/mmcblk0 rm 1</span><br><span class="line">$ sudo parted /dev/mmcblk0 rm 2</span><br><span class="line">$ sudo parted /dev/sdc mkpart primary ext3 4MiB 100%</span><br></pre></td></tr></table></figure>

<p>결과로 <em>mmcblk0</em> 디스크 드라이브에 <strong>mmcblk0p1</strong> 파티션이 생성된다.</p>
<p>다음은 위와 같은 내용으로 fat32 파티션을 <code>parted</code> 를 Shell로 사용하는 예이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo parted /dev/mmcblk0</span><br><span class="line">(parted) mklabel msdos</span><br><span class="line">(parted) mkpart primary fat32 1MiB 100%</span><br><span class="line">(parted) set 1 boot on</span><br><span class="line">(parted) quit</span><br></pre></td></tr></table></figure>

<p>마지막으로 파티션을 파일시스템으로 포맷해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkfs -V -t vfat /dev/mmcblk0p1</span><br></pre></td></tr></table></figure>


<p>역시 <code>dd</code> 명령을 이용해 <code>/dev/zero</code>, <code>/dev/urandom</code> 을 디스크 전체에 써서 지울 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=/dev/zero of=/dev/diskX bs=4M</span><br></pre></td></tr></table></figure>



<h3 id="Disk-clone"><a href="#Disk-clone" class="headerlink" title="Disk clone"></a>Disk clone</h3><p>Linux, macOS 에서 파티션 도구, <code>dd</code> 를 사용해서 디스크 전체, 혹은 파티션을 이미지로 추출해 생성하는 과정을 정리했다.</p>
<h4 id="dd-이용하기"><a href="#dd-이용하기" class="headerlink" title="dd 이용하기"></a><code>dd</code> 이용하기</h4><p><code>dd</code> 로 디스크의 전체를 이미지 파일로 생성할 수 있다. 다만 디스크 전체 섹터를 추출하므로 디스크 용량과 같은 크기를 가진 이미지 파일이 생성된다. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd bs=4M if=/dev/sdX of=image.gz conv=fsync</span><br></pre></td></tr></table></figure>


<h4 id="Ubuntu-gparted"><a href="#Ubuntu-gparted" class="headerlink" title="Ubuntu gparted"></a>Ubuntu <code>gparted</code></h4><p>우분투 Live CD에서 <code>gparted</code>는 가능한 사용하지 않는 공간은 빼고 최소 크기로 줄여 줄 수 있다.</p>
<h4 id="압축-이용하기"><a href="#압축-이용하기" class="headerlink" title="압축 이용하기"></a>압축 이용하기</h4><p>전체 디스크 크기의 이미지 파일이 너무 크면,  압축유틸리티를 이용해 저장할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dd bs=4M count=&lt;size_in_MBs&gt; if=/dev/sdX | gzip -c --fast| dd of=image.gz</span><br><span class="line">dd bs=4M count=&lt;size_in_MBs&gt; if=/dev/sdX | xz -c --fast| dd of=image.xz</span><br></pre></td></tr></table></figure>


<p>반대로 압축한 이미지 파일을 디스크로 복원하기 위해서 <code>unzip</code>, <code>gunzip</code>, <code>xz -d</code> 압축을 해제한 결과를 파이프로 <code>dd</code>로 전달한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dd if=/path/to/image.gz | gunzip -c | dd bs=1M of=/dev/sdY</span><br><span class="line">dd if=/path/to/image.xz | xzcat | dd bs=1M of=/dev/sdY</span><br></pre></td></tr></table></figure>


<h4 id="macOS의-Disk-Utility-이용"><a href="#macOS의-Disk-Utility-이용" class="headerlink" title="macOS의 Disk Utility 이용"></a>macOS의 Disk Utility 이용</h4><p>GUI인 Disk Utility에서 SD Card 디스크를 선택하고 macOS의 <em>.dmg</em> 이미지 파일로 저장할 수 있고, 저장시 압축 선택이 가능하다.</p>
<br>
### Disk Image를 SD Card에 쓰기

<p>각 OS에서 <code>dd</code> 같은 Disk clone 도구를 사용해서 디스크 이미지를 SD Card에 쓸 수 있다. </p>
<h4 id="Etcher"><a href="#Etcher" class="headerlink" title="Etcher"></a>Etcher</h4><p>모든 OS  플랫폼을 지원하는 <strong>Etcher</strong> 사용을 권장한다. <a target="_blank" rel="noopener" href="http://etcher.io/">Etcher</a> 을 다운받아 이미지 파일 선택해 대상 SD Card 에 GUI로 쓸 수 있다.</p>
<p><img src="/images/opensuse/etcher-image-writing.png">{:width&#x3D;”640”}</p>
<p><code>dd</code>를 사용한다면 이러지는 <strong>macOS</strong>, <strong>Linux</strong> 섹션을 참조한다.</p>
<h4 id="dd로-이미지-쓰기"><a href="#dd로-이미지-쓰기" class="headerlink" title="dd로 이미지 쓰기"></a><code>dd</code>로 이미지 쓰기</h4><p>디스크 내용을 <code>dd</code> 명령으로 디스크 이미지 형태로 저장할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=opensuse_jeos-20171030.img of=/dev/mmcblk0 bs=4m</span><br></pre></td></tr></table></figure>

<p>압축 이미지로 제공하는 이미지 파일은 <code>zcat</code>, <code>xzcat</code>, <code>gzcat</code> 같은 표출 출력 유틸리티를 사용해, dd 명령에 파이프로 처리할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ xzcat openSUSE-Leap42.2-ARM-JeOS-raspberrypi3.aarch64.raw.xz | sudo dd of=/dev/rdisk1 bs=4m; sync</span><br></pre></td></tr></table></figure>


<p>이제 이미지 SD Card를 보드에 넣고 부팅한 후 시스템 설정을 시작하면 된다.</p>
<p>시스템 구성을 하고, 여러 설정을 한 후 백업, 복사 등을 위해, 설정한 OS 를 디스크 이미지로 복제하는 경우가 많아 이때는 <code>dd</code> 명령을 사용할 수 있다.</p>
<br>
### 이미지 파일 다루기

<p>백업한 디스크 이미지 파티션을 확인하고 폴더에 마운트해서 내용을 확인할 할 수 있다.</p>
<p>이미지 파일의 파티션 정보를 <code>fdisk</code>, <code>parted</code> 명령으로 확인할 수 있다.</p>
<h4 id="fdisk-이용"><a href="#fdisk-이용" class="headerlink" title="fdisk 이용"></a><code>fdisk</code> 이용</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ fdisk -lu opensuse-e20.img</span><br><span class="line">Disk opensuse-e20.img: 14.9 GiB, 16022241280 bytes, 31293440 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel <span class="built_in">type</span>: dos</span><br><span class="line">Disk identifier: 0xe0e3966b</span><br><span class="line"></span><br><span class="line">Device            Boot    Start      End  Sectors   Size Id Type</span><br><span class="line">opensuse-e20.img1          2048   411651   409604   200M  c W95 FAT32 (LBA)</span><br><span class="line">opensuse-e20.img2        413696 30282525 29868830  14.2G 83 Linux</span><br><span class="line">opensuse-e20.img3      30283776 31278554   994779 485.7M 82 Linux swap / Solaris</span><br></pre></td></tr></table></figure>

<h4 id="parted-이용"><a href="#parted-이용" class="headerlink" title="parted 이용"></a><code>parted</code> 이용</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ parted opensuse-42.3-homepi_16GB-firewalld.img</span><br><span class="line">GNU Parted 3.2</span><br><span class="line">Using opensuse-42.3-homepi_16GB-firewalld.img</span><br><span class="line">Welcome to GNU Parted! Type &#x27;help&#x27; to view a list of commands.</span><br><span class="line">(parted) p</span><br><span class="line">Model:  (file)</span><br><span class="line">Disk opensuse-42.3-homepi_16GB-firewalld.img: 16.0GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: msdos</span><br><span class="line">Disk Flags:</span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    Type     File system     Flags</span><br><span class="line"> 1      1049kB  211MB   210MB   primary  fat16           lba</span><br><span class="line"> 2      212MB   15.5GB  15.3GB  primary  ext4</span><br><span class="line"> 3      15.5GB  16.0GB  509MB   primary  linux-swap(v1)</span><br></pre></td></tr></table></figure>

<p>Byte 단위로 보려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(parted) unit</span><br><span class="line">Unit?  [compact]? B</span><br><span class="line">(parted) p</span><br><span class="line">Number  Start         End           Size          Type     File system     Flags</span><br><span class="line"> 1      1048576B      210765823B    209717248B    primary  fat16           lba</span><br><span class="line"> 2      211812352B    15504653311B  15292840960B  primary  ext4</span><br><span class="line"> 3      15505293312B  16014620159B  509326848B    primary  linux-swap(v1)</span><br></pre></td></tr></table></figure>


<h4 id="이미지-마운트"><a href="#이미지-마운트" class="headerlink" title="이미지 마운트"></a>이미지 마운트</h4><p>디스크 이미지는 리눅스에서 <code>mount</code> 명령으로 마운트 할 수 있다. mount 명령으로 실제 파티션이 시작하는 위치를 offset으로 지정해서 마운트 한다.</p>
<p>앞서 사용한 opensuse-42.3-homepi_16GB.img 이미지의 파티션 정보가 다음 같다고 하자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Number  Start         End           Size          Type     File system     Flags</span><br><span class="line"> 1      1048576B      210765823B    209717248B    primary  fat16           lba</span><br><span class="line"> 2      211812352B    15504653311B  15292840960B  primary  ext4</span><br><span class="line"> 3      15505293312B  16014620159B  509326848B    primary  linux-swap(v1)</span><br></pre></td></tr></table></figure>

<p>첫번째 파티션 시작 위치 <em>1048576B</em> 를 오프셋으로 삼아서 root 권한으로 <code>mount</code> 명령을 사용한다.</p>
<blockquote>
<p>섹터 정보를 Byte 단위로 변경하려면, 파티션 정보에서 1 sector 크기가 512 를 확인하고, 이미피 파일의 파티션 시작 섹터를 곱해서 offset 범위를 계산한다.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sector size * Start = (in the case) 512 * 8192 = 4194304 (Byte)</span><br></pre></td></tr></table></figure>

<p>이제 마운트 명령 <code>mount -o loop,ro,offset</code> 옵션을 주고, boot와 ROOT 파티션을 마운트 해보자,</p>
<p>Now we have the offsets and we can use those to mount the filesystems using the loopback device:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mount -o loop,ro,offset=1048576 opensuse-42.3-homepi_16GB.img ~/mnt/boot/</span><br><span class="line">$ sudo mount -o loop,ro,offset=211812352 opensuse-42.3-homepi_16GB.img ~/mnt/ROOT/</span><br></pre></td></tr></table></figure>

<p>마운트가 성공하면 <code>df</code> 명령 혹은 <code>mount</code> 명령으로 마운트한 위치를 확인할 수 있다;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">udev            1.5G     0  1.5G   0% /dev</span><br><span class="line">tmpfs           300M  5.1M  295M   2% /run</span><br><span class="line">/dev/sda6        29G  7.3G   20G  28% /</span><br><span class="line">tmpfs           1.5G  188K  1.5G   1% /dev/shm</span><br><span class="line">tmpfs           5.0M  4.0K  5.0M   1% /run/lock</span><br><span class="line">tmpfs           1.5G     0  1.5G   0% /sys/fs/cgroup</span><br><span class="line">/dev/loop0      200M  4.4M  196M   3% /home/qkboo/mnt/boot</span><br><span class="line">/dev/loop1      200M  4.4M  196M   3% /home/qkboo/mnt/ROOT</span><br></pre></td></tr></table></figure>

<p><em>&#x2F;dev&#x2F;loop0</em> 파일 시스템이 지정한 마운트 위치에 마운트했다는 것을 알 수 있다.</p>
<p>또한 <code>-t [fs_type]</code> 옵션으로 파티션의 파일 시스템을 명시할 수 있다.</p>
<h4 id="이미지에서-한-파티션만-마운트-하기"><a href="#이미지에서-한-파티션만-마운트-하기" class="headerlink" title="이미지에서 한 파티션만 마운트 하기"></a>이미지에서 한 파티션만 마운트 하기</h4><p>이미지에 있는 하나의 파티션만 마운트 할 수 있다. [^3]</p>
<p>앞의 이미지 파일 정보를 <code>/dev/loop0</code> 에 offset을 주고</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo losetup -o 4194304 /dev/loop0 sda.img</span><br></pre></td></tr></table></figure>

<p>Now the partition resides on &#x2F;dev&#x2F;loop0. You can fsck it, mount it etc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo fsck -fv /dev/loop0</span><br><span class="line">sudo mount /dev/loop0 /mnt</span><br></pre></td></tr></table></figure>

<p>Unmount</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo umount /mnt</span><br><span class="line">sudo losetup -d /dev/loop0</span><br></pre></td></tr></table></figure>


<h4 id="Truncate"><a href="#Truncate" class="headerlink" title="Truncate"></a>Truncate</h4><p><a target="_blank" rel="noopener" href="https://raspberrypi.stackexchange.com/questions/7177/image-of-a-16gb-card-containing-unpartitioned-space-at-the-end-truncating-possi">질문, 원래 2GB 데비안 이미지를 16GB SD Card에 썼다. 나머지 14GB 공간을 별도로 파티션 나눌 수 있나?</a>  </p>
<p>먼저 이미지 파티션 정보를 얻는다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ fdisk -lu image.img</span><br><span class="line">Disk image.img: 4096 MB, 4096000000 bytes, 8000000 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk identifier: 0x000a1bc7</span><br><span class="line"></span><br><span class="line">      Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">image.img1              2048     5872026     5869978    b  W95 FAT32</span><br></pre></td></tr></table></figure>

<p>이미지 파티션의 끝 부분이 <em>5872026</em> 으로 <code>5872026 * 512 = 2,8Gb</code> 이고, 나머지는 안쓰는 공간이다.</p>
<p><code>truncate</code> 도구로 현재 파티션에서 빈공간을 잘라낸다. 다만 블럭 수가 0에서 시작하므로 섹터 수에 <em>1</em>을 더해준다.[^2]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ truncate --size=$[(5872026+1)*512] image.img</span><br></pre></td></tr></table></figure>


<h3 id="Repair-amp-Corruption"><a href="#Repair-amp-Corruption" class="headerlink" title="Repair &amp; Corruption"></a>Repair &amp; Corruption</h3><p>프롬프트에서 다음 명령으로 해당 파티션을 점검한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># fsck -fy /dev/mmcblk0p2</span><br><span class="line"># reboo</span><br></pre></td></tr></table></figure>

<p>혹은 다음 부팅시 처리할 수 있도록 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># touch /forcefsck</span><br><span class="line"># reboot</span><br></pre></td></tr></table></figure>


<h4 id="Check-Bad-sector"><a href="#Check-Bad-sector" class="headerlink" title="Check Bad sector"></a>Check Bad sector</h4><p>터미널에서 SD Card 삽입&#x2F;추출 및 점검시 섹터 에러를 확인하기 위해 <code>dmesg</code> 로 감시할 수 있다. 다음 명령은 dmesg 가 발생하면, 내용 중 마지막 15줄을 터미널로 출력해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ watch &quot;dmesg | tail -15&quot;</span><br></pre></td></tr></table></figure>


<h4 id="hdparam"><a href="#hdparam" class="headerlink" title="hdparam"></a><code>hdparam</code></h4><p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/hdparm">hdparam</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo hdparm -t /dev/mmcblk0</span><br><span class="line"></span><br><span class="line">/dev/mmcblk0:</span><br><span class="line"> Timing buffered disk reads:  58 MB in  3.09 seconds =  18.80 MB/sec</span><br></pre></td></tr></table></figure>


<h4 id="badblocks"><a href="#badblocks" class="headerlink" title="badblocks"></a>badblocks</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo badblocks -n -v /dev/mmcblk0</span><br></pre></td></tr></table></figure>



<h4 id="Recovering"><a href="#Recovering" class="headerlink" title="Recovering"></a>Recovering</h4><p>GNU ddrescue is a data recovery tool. It copies data from one file or block device (hard disc, cdrom, etc) to another, trying to rescue the good parts first in case of read errors.</p>
<p><a target="_blank" rel="noopener" href="https://www.gnu.org/software/ddrescue/">https://www.gnu.org/software/ddrescue/</a></p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p>[^2]: <a target="_blank" rel="noopener" href="https://raspberrypi.stackexchange.com/questions/7177/image-of-a-16gb-card-containing-unpartitioned-space-at-the-end-truncating-possi">Truncate free space at disk image</a></p>
<p>[^3]: <a target="_blank" rel="noopener" href="https://askubuntu.com/questions/69363/mount-single-partition-from-image-of-entire-disk-device">Mount single partition from image of entire disk(device)</a></p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/qkboo_400.png" alt="Gangtai"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Gangtai</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Paju, South Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">53</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">14</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">95</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/thinkbee" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/gtko"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">링크</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">26</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/NodeJS/"><span class="level-start"><span class="level-item">NodeJS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/NodeJS/"><span class="level-start"><span class="level-item">NodeJS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/NodeJS/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Photoshop/"><span class="level-start"><span class="level-item">Photoshop</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Angular/"><span class="level-start"><span class="level-item">Angular</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Angularjs/"><span class="level-start"><span class="level-item">Angularjs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Raspberry-Pi/"><span class="level-start"><span class="level-item">Raspberry Pi</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/Raspberry-Pi/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/Raspberry-Pi/Linux/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-23T15:47:59.802Z">2022-02-24</time></p><p class="title"><a href="/2022/02/24/hello-world/">blog.thinkbee.kr 이전 작업중입니다.</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-02-02T09:00:00.000Z">2020-02-02</time></p><p class="title"><a href="/2020/02/02/linux/2020-02-02-letsencrypt%EB%B0%9C%EA%B8%89/">HTTPS를 위한 공인인증서 - Let&#039;s Encrypt 발급</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-12-20T03:00:00.000Z">2019-12-20</time></p><p class="title"><a href="/2019/12/20/linux-2019-12-20-mongodb-config/">MongoDB 구성 설정과 사용자 인증 사용</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Database/">Database</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-12-20T01:00:00.000Z">2019-12-20</time></p><p class="title"><a href="/2019/12/20/linux-2019-12-20-mongodb-4-2-install-arm64/">MongoDB Community Edition 4.2 설치 - ARM64 Ubuntu/Debian Armbian</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Database/">Database</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-09-05T11:00:00.000Z">2019-09-05</time></p><p class="title"><a href="/2019/09/05/python/2019-09-05-OpenSuse-JupyterNotebook_scientific/">openSUSE - 과학계산을 위한 Python, Jupyter Notebook</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Programming/">Programming</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">2월 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">2월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">12월 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">9월 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">10월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">8월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">7월 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">6월 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">12월 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/11/"><span class="level-start"><span class="level-item">11월 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">10월 2017</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">9월 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/07/"><span class="level-start"><span class="level-item">7월 2017</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">5월 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/04/"><span class="level-start"><span class="level-item">4월 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">12월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/02/"><span class="level-start"><span class="level-item">2월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ARM/"><span class="tag">ARM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Armbian/"><span class="tag">Armbian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Artificial-Intelligence/"><span class="tag">Artificial Intelligence</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian/"><span class="tag">Debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian-Strech/"><span class="tag">Debian Strech</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JSON-Web-Token/"><span class="tag">JSON Web Token</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JWT-Toekn/"><span class="tag">JWT Toekn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LEAP-15-0/"><span class="tag">LEAP 15.0</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LEAP-42-3/"><span class="tag">LEAP 42.3</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Numpy/"><span class="tag">Numpy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Odroid/"><span class="tag">Odroid</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Odroid-C2/"><span class="tag">Odroid C2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Orange-Pi/"><span class="tag">Orange Pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi/"><span class="tag">Raspberry Pi</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi-3/"><span class="tag">Raspberry Pi 3</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspbian/"><span class="tag">Raspbian</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SD-Card/"><span class="tag">SD Card</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Scientific/"><span class="tag">Scientific</span><span class="tag">1</span></a></div><div class="control">ttps://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>n class="tag">jasmine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter/"><span class="tag">jupyter</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter-notebook/"><span class="tag">jupyter notebook</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter-notebook/"><span class="tag">jupyter-notebook</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/karma/"><span class="tag">karma</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/leap-15/"><span class="tag">leap 15</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/leap-42-3/"><span class="tag">leap 42.3</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lvm/"><span class="tag">lvm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lvm2/"><span class="tag">lvm2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/micro-SD-Card/"><span class="tag">micro SD Card</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/middleware/"><span class="tag">middleware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongodb/"><span class="tag">mongodb</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongoose/"><span class="tag">mongoose</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs-tutorials/"><span class="tag">nodejs tutorials</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nvm/"><span class="tag">nvm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid/"><span class="tag">odroid</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid-c2/"><span class="tag">odroid c2</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid-c2/"><span class="tag">odroid-c2</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openSUSE/"><span class="tag">openSUSE</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/opensuse/"><span class="tag">opensuse</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/opensuse-leap-15/"><span class="tag">opensuse leap 15</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/orange-pi/"><span class="tag">orange pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/photoshop/"><span class="tag">photoshop</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/raspberry-pi/"><span class="tag">raspberry pi</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssl/"><span class="tag">ssl</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/synergy/"><span class="tag">synergy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tmux/"><span class="tag">tmux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ubuntu/"><span class="tag">ubuntu</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unit-testing/"><span class="tag">unit testing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/virtualenv/"><span class="tag">virtualenv</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/virtualenvwrapper/"><span class="tag">virtualenvwrapper</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webdav/"><span class="tag">webdav</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%8D%B0%EB%B9%84%EC%95%88/"><span class="tag">데비안</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%8D%B0%EC%9D%B4%EC%95%88/"><span class="tag">데이안</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4/"><span class="tag">라즈베리파이</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%9D%BC%EC%A6%88%EB%B9%84%EC%95%88/"><span class="tag">라즈비안</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/"><span class="tag">리눅스</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%B0%94%EB%82%98%EB%82%98%ED%8C%8C%EC%9D%B4/"><span class="tag">바나나파이</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%B0%A9%ED%99%94%EB%B2%BD/"><span class="tag">방화벽</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%98%A4%EB%A0%8C%EC%A7%80%ED%8C%8C%EC%9D%B4/"><span class="tag">오렌지파이</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9A%B0%EB%B6%84%ED%88%AC/"><span class="tag">우분투</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9B%B9%ED%86%A0%ED%81%B0/"><span class="tag">웹토큰</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/"><span class="tag">인공지능</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%A0%84%EC%9B%90%EA%B4%80%EB%A6%AC/"><span class="tag">전원관리</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC/"><span class="tag">파이썬</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%8C%EC%9D%B4%EC%96%B4%EC%9B%94/"><span class="tag">파이어월</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">업데이트 소식 받기</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="구독"></div></div></form></div></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">광고</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1465716454138955" data-ad-slot="4883770640" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="구독"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/thinkbee_logo.png" alt="Blogging through Programming" height="28"></a><p class="is-size-7"><span>&copy; 2022 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>