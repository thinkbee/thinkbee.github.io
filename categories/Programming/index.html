<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>카테고리: Programming - IT Tech blogging</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="thinkbee blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="thinkbee blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Machine learning, Deep learning, Python, Data science and Mobile Programming like Android"><meta property="og:type" content="website"><meta property="og:title" content="IT Tech blogging"><meta property="og:url" content="https://blog.thinkbee.kr/"><meta property="og:site_name" content="IT Tech blogging"><meta property="og:description" content="Machine learning, Deep learning, Python, Data science and Mobile Programming like Android"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.thinkbee.kr/img/og_image.png"><meta property="article:author" content="Gangtai Goh"><meta property="article:tag" content="Machine learning, Deep learning, Python, Data science, Android, Ubuntu, Linux, macOS"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://blog.thinkbee.kr/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.thinkbee.kr"},"headline":"IT Tech blogging","image":["https://blog.thinkbee.kr/img/og_image.png"],"author":{"@type":"Person","name":"Gangtai Goh"},"publisher":{"@type":"Organization","name":"IT Tech blogging","logo":{"@type":"ImageObject","url":"https://blog.thinkbee.kr/images/thinkbee_logo.png"}},"description":"Machine learning, Deep learning, Python, Data science and Mobile Programming like Android"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/vs2015.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-5ZH90CZ414" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-5ZH90CZ414');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-1465716454138955" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/thinkbee_logo.png" alt="IT Tech blogging" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Blog</a><a class="navbar-item" href="/documents">Doc</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-four-fifths-tablet is-four-fifths-desktop is-four-fifths-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">카테고리</a></li><li class="is-active"><a href="#" aria-current="page">Programming</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-03-05T10:00:00.000Z" title="3/5/2024, 7:00:00 PM">2024-03-05</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2024-03-06T00:58:30.985Z" title="3/6/2024, 9:58:30 AM">2024-03-06</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Database/">Database</a></span><span class="level-item">6분안에 읽기 (약 909 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/mariadb-transfer_to_other-a78fa3ae97d8/">MariaDb 10 이전하기</a></p><div class="content"><p>기존 MariaDB 10 에서 다른 서버로 데이터&#x2F;사용자 등을 이전하기. 이전은 2가지 방법을 제시한다.</p>
<ol>
<li>데이터베이스 덤프만 이전: mysqldump 이용</li>
<li>데이터베이스 데이터 폴더 복제: rsync 이용</li>
</ol>
<h1 id="준비"><a href="#준비" class="headerlink" title="준비"></a>준비</h1><ol>
<li>기존서버: 현재 운영중인 mariadb 데이터베이스</li>
<li>대상서버: 새로 설치한 mariadb 데이터베이스</li>
</ol>
<p>양쪽 서버의 mariadb 를 모두 종료한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl stop mariadb</span><br><span class="line"></span><br><span class="line">OR</span><br><span class="line"></span><br><span class="line">$ systemctl stop mysql</span><br></pre></td></tr></table></figure>


<h1 id="데이터베이스-덤프만-이전"><a href="#데이터베이스-덤프만-이전" class="headerlink" title="데이터베이스 덤프만 이전"></a>데이터베이스 덤프만 이전</h1><p>데이터베이스 시스템의 데이터베이스를 덤프를 통해서 백업하고 리스토어한다.</p>
<h2 id="기존-데이터베이스-덤프"><a href="#기존-데이터베이스-덤프" class="headerlink" title="- 기존 데이터베이스 덤프"></a>- 기존 데이터베이스 덤프</h2><p>모든 데이터베이스를 덤프해서 사용.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u [user] -p --all-databases &gt; all_databases.sql</span><br></pre></td></tr></table></figure>

<blockquote>
<p>지정한 데이터베이스만 덤프하려면<br><br></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u root -p --opt [database name] &gt; database_name.sql</span><br></pre></td></tr></table></figure>
</blockquote>
<p>덤프 후에 덤프 파일을 대상 서버에 이전한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ scp all_databases.sql user@192.168.1.10:~/</span><br><span class="line">$ scp database_name.sql user@192.168.1.10:~/</span><br></pre></td></tr></table></figure>

<h2 id="대상-서버에서-갱신"><a href="#대상-서버에서-갱신" class="headerlink" title="- 대상 서버에서 갱신"></a>- 대상 서버에서 갱신</h2><p>덤프 파일을 데이터베이스에 리스토어 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mariadb -u [user] -p --all-databases &lt; all_databases.sql  <span class="comment"># 모든 데이터베이스</span></span><br><span class="line">$ mariadb -u [user] -p newdatabase &lt; database_name.sql      <span class="comment"># 단일 파일</span></span><br></pre></td></tr></table></figure>

<p>덤프 파일을 리스토어 한 후에 접속해서 데이터베이스가 들어 있는지 확인.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u user -p</span><br><span class="line">&gt; show databases;</span><br></pre></td></tr></table></figure>


<p>대상 서버에 사용자 허용 범위 설정</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="keyword">User</span>, Host <span class="keyword">FROM</span> mysql.user <span class="keyword">WHERE</span> Host <span class="operator">&lt;&gt;</span> <span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="keyword">User</span>, Host <span class="keyword">FROM</span> mysql.user <span class="keyword">WHERE</span> Host <span class="operator">&lt;&gt;</span> <span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;user&#x27;</span>@<span class="string">&#x27;192.168.1.%&#x27;</span> </span><br><span class="line">        IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;password&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure>


<br>

<h1 id="데이터베이스-사용자와-권한을-모두-옮기기"><a href="#데이터베이스-사용자와-권한을-모두-옮기기" class="headerlink" title="데이터베이스, 사용자와 권한을 모두 옮기기"></a>데이터베이스, 사용자와 권한을 모두 옮기기</h1><p>기존 데이터베이스 서버의 데이터베이스, 사용자, 권한과 데이터 구조 등을 모두 새 서버에 이전하려고 하면 데이터베이스 시스템이 다루고 있는 모든 파일 시스템을 대상 서버에 복제를 하면 된다. 보통 rsync 를 통해서 모든 파일을 소스에서 타겟 서버로 이전을 한다.</p>
<ol>
<li>대상서버 데이터 폴더 준비</li>
<li>기존서버에서 rsync 로 대상서버로 데이터 폴더 전송</li>
<li>대상서버 mariadb 종료 및 my.cnf 에 데이터 폴더 위치 확인</li>
<li>대상서버 데이터 폴더 권한을 mysql 로 변경</li>
</ol>
<h3 id="1-대상-서버-데이터-폴더와-복사"><a href="#1-대상-서버-데이터-폴더와-복사" class="headerlink" title="1. 대상 서버 데이터 폴더와 복사"></a>1. 대상 서버 데이터 폴더와 복사</h3><p>옮기는 서버가 192.168.1.10 이고 사용자 계정 user 를 사용한다고 가정하자.</p>
<p>기존서버에서 mariadb 를 종료한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ susdo systemctl stop mariadb</span><br></pre></td></tr></table></figure>

<p>먼저 대상서버의 data 폴더를 준비하고 사용자 계정 user 가 사용할 수 있게 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">mkdir</span> -p /data/maria_db</span><br><span class="line">$ sudo <span class="built_in">chown</span> user:user /data/maria_db</span><br></pre></td></tr></table></figure>


<h3 id="2-기존서버에서-대상서버로-데이터-폴더-복제"><a href="#2-기존서버에서-대상서버로-데이터-폴더-복제" class="headerlink" title="2. 기존서버에서 대상서버로 데이터 폴더 복제"></a>2. 기존서버에서 대상서버로 데이터 폴더 복제</h3><p>기존서버에서 mariadb 를 종료한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ susdo systemctl stop mariadb</span><br></pre></td></tr></table></figure>

<p>기존서버 데이터 폴더를 대상서버로 모두 복제한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -avz /var/lib/mysql/* user@192.168.1.10:/data/maria_db/ </span><br></pre></td></tr></table></figure>



<h3 id="3-대상서버-폴더-권한-및-시작"><a href="#3-대상서버-폴더-권한-및-시작" class="headerlink" title="3. 대상서버 폴더 권한 및 시작"></a>3. 대상서버 폴더 권한 및 시작</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">chown</span> mysql:mysql -R /data/maria_db</span><br></pre></td></tr></table></figure>

<p>&#x2F;etc&#x2F;mysql&#x2F;my.cnf 의 데이터 폴더 위치를 조정한다.</p>
<p>mariadb 를 재시작한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ susdo systemctl start mariadb</span><br></pre></td></tr></table></figure>

<p>에러가 없이 잘 시작되면 데이터 폴더 이전이 잘 된것으로 보인다.</p>
<h3 id="4-확인"><a href="#4-확인" class="headerlink" title="4. 확인"></a>4. 확인</h3><p>클라이언트로 mariadb 에 root 계정으로 접속해 본다.  이 계정의 비밀번호는 이전서버의 root 계정과 비밀번호일 것이다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mariadb -u root -p</span><br></pre></td></tr></table></figure>


<p>기존 서버의 데이터베이스 계정 student 가 있다고 가정하고 클라이언트로 접속해 본다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mariadb -u student -p</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-03-05T00:00:00.000Z" title="3/5/2024, 9:00:00 AM">2024-03-05</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2024-03-05T03:20:01.789Z" title="3/5/2024, 12:20:01 PM">2024-03-05</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Database/">Database</a></span><span class="level-item">5분안에 읽기 (약 756 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/mariadb_install_on_linux-42c7d6483e3f/">MariaDB 설치</a></p><div class="content"><h1 id="Debian계열-Ubuntu-22-04-x2F-Armbian"><a href="#Debian계열-Ubuntu-22-04-x2F-Armbian" class="headerlink" title="Debian계열: Ubuntu 22.04 &#x2F; Armbian"></a>Debian계열: Ubuntu 22.04 &#x2F; Armbian</h1><p>MariaDB 재단은 apt를 사용하여 패키지를 관리하는 여러 리눅스 배포판을 위한 MariaDB 패키지 저장소를 제공합니다</p>
<h2 id="apt로-MariaDB-10-4-이상-설치"><a href="#apt로-MariaDB-10-4-이상-설치" class="headerlink" title="- apt로 MariaDB 10.4 이상 설치"></a>- apt로 MariaDB 10.4 이상 설치</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ curl -sS https://downloads.mariadb.com/MariaDB/mariadb_repo_setup | sudo bash</span><br><span class="line"><span class="comment"># [info] Checking for script prerequisites.</span></span><br><span class="line"><span class="comment"># [info] MariaDB Server version 11.3 is valid</span></span><br><span class="line"><span class="comment"># [info] Repository file successfully written to /etc/apt/sources.list.d/mariadb.list</span></span><br><span class="line"><span class="comment"># [info] Adding trusted package signing keys...</span></span><br><span class="line"><span class="comment"># [info] Running apt-get update...</span></span><br><span class="line"><span class="comment"># [info] Done adding trusted package signing keys</span></span><br></pre></td></tr></table></figure>

<p>그리고 apt 업데이트를 진행한다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<p>이제 레포지토리를 통해서 mariadb 를 업데이트할 수 있게되었다.</p>
<h3 id="MariaDB-GPG-공개키"><a href="#MariaDB-GPG-공개키" class="headerlink" title="- MariaDB GPG 공개키"></a>- MariaDB GPG 공개키</h3><p>Debian 9(Stretch) 및 Ubuntu 16.04 LTS(Xenial)부터 GPG 공개 키의 ID는 0xF1656F24C74CD1D8. 전체 키 지문은 다음과 같습니다.:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">177F 4010 FE56 CA33 3630  0305 F165 6F24 C74C D1D8</span><br></pre></td></tr></table></figure>

<p>apt-key유틸리티를 사용하여 공개키를 가져올 수 있습니다. 예를 들어:</p>
<p>sudo apt-key adv –recv-keys –keyserver hkp:&#x2F;&#x2F;keyserver.ubuntu.com:80 0xF1656F24C74CD1D8</p>
<h3 id="mariadb-패키지-설치"><a href="#mariadb-패키지-설치" class="headerlink" title="- mariadb 패키지 설치."></a>- mariadb 패키지 설치.</h3><p>MariaDB 10.4 이상 에서 가장 일반적인 패키지를 설치하려면 다음 명령을 실행합니다 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mariadb-server galera-4 mariadb-client libmariadb3 mariadb-backup mariadb-common</span><br></pre></td></tr></table></figure>

<ul>
<li>24&#x2F;3: 11.3 설치.</li>
</ul>
<p>설치후 확인</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl status mariadb</span><br><span class="line">● mariadb.service - MariaDB 11.3.2 database server</span><br><span class="line">     Loaded: loaded (/lib/systemd/system/mariadb.service; enabled; vendor preset: enabled)</span><br><span class="line">    Drop-In: /etc/systemd/system/mariadb.service.d</span><br><span class="line">             └─migrated-from-my.cnf-settings.conf</span><br><span class="line">     Active: active (running) since Tue 2024-03-05 06:32:22 KST; 7min ago</span><br><span class="line">       Docs: man:mariadbd(8)</span><br><span class="line">             https://mariadb.com/kb/en/library/systemd/</span><br></pre></td></tr></table></figure>


<h2 id="MariaDB-보안-설정하기"><a href="#MariaDB-보안-설정하기" class="headerlink" title="MariaDB 보안 설정하기"></a>MariaDB 보안 설정하기</h2><p>설치후에 MariaDB 시스템 초기화와 보안 설정을 진행해야 한다.</p>
<p>7개 질문이 나오는데  unix_socket 은 n 이고 나머지는 기본 값으로 진행한다.</p>
<p>단, <u>root 패스워드는 잊어버리지 않아야 한다</u>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mysql_secure_installation</span><br><span class="line"></span><br><span class="line">Enter current password <span class="keyword">for</span> root (enter <span class="keyword">for</span> none):</span><br><span class="line"></span><br><span class="line">Switch to unix_socket authentication [Y/n] n</span><br><span class="line"></span><br><span class="line">Change the root password? [Y/n] Y</span><br><span class="line"></span><br><span class="line">Remove anonymous <span class="built_in">users</span>? [Y/n] Y</span><br><span class="line"></span><br><span class="line">Disallow root login remotely? [Y/n] Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Remove <span class="built_in">test</span> database and access to it? [Y/n] Y</span><br><span class="line"></span><br><span class="line">Reload privilege tables now? [Y/n] Y</span><br></pre></td></tr></table></figure>



<p>이제 root 계정으로 명령행으로 접속해 보자</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">~$ mariadb -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MariaDB monitor.  Commands end with ; or \g.</span><br><span class="line">Your MariaDB connection <span class="built_in">id</span> is 40</span><br><span class="line">Server version: 11.3.2-MariaDB-1:11.3.2+maria~ubu2204 mariadb.org binary distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.</span><br><span class="line"></span><br><span class="line">Type <span class="string">&#x27;help;&#x27;</span> or <span class="string">&#x27;\h&#x27;</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">&#x27;\c&#x27;</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>현재 11버전까지 mysql 클라이언트를 사용하지만 향후 deprecated 될 예정으로<br><br>mariadb 클라이언트 사용을 권장한다.</p>
</blockquote>
<h1 id="Option-file-설정"><a href="#Option-file-설정" class="headerlink" title="Option file 설정"></a>Option file 설정</h1><p>설정 파일은 유닉스 계열은 my.cnf (or mariadb.cnf)  이고 윈도우 계열은 my.ini 이다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://mariadb.com/kb/en/configuring-mariadb-with-option-files/">https://mariadb.com/kb/en/configuring-mariadb-with-option-files/</a></li>
</ul>
<h2 id="Ubuntu-x2F-Debian-계열"><a href="#Ubuntu-x2F-Debian-계열" class="headerlink" title="Ubuntu&#x2F;Debian 계열:"></a>Ubuntu&#x2F;Debian 계열:</h2><p>&#x2F;etc&#x2F;mysql 밑에 데이터베이스 구성 설정 파일이 있다.</p>
<ol>
<li>기본 설정 파일 my.cnf</li>
<li>Debian &#x2F; Ubuntu 계열은  <code>my.cnf -&gt; mariadb.cnf</code> 로 링크되어 있다.</li>
<li>mariadb.cnf 은 보통 <code>/etc/mysql/mariadb.conf.d/</code> 폴더 아래 구성 파일들.</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ll mariadb.conf.d/</span><br><span class="line">    50-client.cnf</span><br><span class="line">    50-mysql-clients.cnf</span><br><span class="line">    50-server.cnf</span><br><span class="line">    60-galera.cnf</span><br><span class="line">    99-enable-encryption.cnf.preset/</span><br></pre></td></tr></table></figure>


<h2 id="data-폴더-변경"><a href="#data-폴더-변경" class="headerlink" title="data 폴더 변경"></a>data 폴더 변경</h2><p>블로그 글 <a href="/mariadb-data_dir_change-878fcb84a58d/">MariaDb 10&#x2F; MySQL 8 - data 디렉토리 변경 (Ubuntu)</a></p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><p><a target="_blank" rel="noopener" href="https://mariadb.com/kb/ko/installing-mariadb-deb-files/">https://mariadb.com/kb/ko/installing-mariadb-deb-files/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-02-08T00:00:00.000Z" title="2/8/2024, 9:00:00 AM">2024-02-08</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2024-02-08T04:08:54.810Z" title="2/8/2024, 1:08:54 PM">2024-02-08</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Python/">Python</a></span><span class="level-item">1분안에 읽기 (약 181 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/python_sphinx-487d92e77816/">Python - 문서화 도구 Sphinx</a></p><div class="content"><p>Sphinx 는 python의 대표적인 문서화 도구로 reStructedText 또는 Markdown 문서를 HTML, pdf, man page 등의 결과물로 생성할 수 있다.</p>
<h1 id="sphinx-설치"><a href="#sphinx-설치" class="headerlink" title="sphinx 설치"></a>sphinx 설치</h1><p>sphinx 는 python 환경에서 실행이 된다. 설치는 python 환경 혹은 OS 환경에 직접 설치하는 방법이 있다. 파이썬 가상환경을 권장한다.</p>
<p><a target="_blank" rel="noopener" href="https://www.sphinx-doc.org/en/master/usage/installation.html">https://www.sphinx-doc.org/en/master/usage/installation.html</a></p>
<h3 id="Python-환경에-설치"><a href="#Python-환경에-설치" class="headerlink" title="- Python 환경에 설치"></a>- Python 환경에 설치</h3><p>python 환경 혹은 python 가상환경 (venv, virtualenv 등)에 설치</p>
<p>pip</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install sphinx</span><br></pre></td></tr></table></figure>

<p>Anaconda</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install sphinx</span><br></pre></td></tr></table></figure>

<h3 id="시스템에-직접-설치"><a href="#시스템에-직접-설치" class="headerlink" title="- 시스템에 직접 설치"></a>- 시스템에 직접 설치</h3><p>각 OS 의 SW 로 설치한다면 package 관리자를 사용해 설치한다.</p>
<p>Debian&#x2F;Ubuntu</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install python3-sphinx</span><br></pre></td></tr></table></figure>


<p>RHEL, CentOS</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install python-sphinx</span><br></pre></td></tr></table></figure>

<p>macOS &#x2F; home-brew</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install sphinx-doc</span><br></pre></td></tr></table></figure>


</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-26T13:00:00.000Z" title="1/26/2024, 10:00:00 PM">2024-01-26</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2024-01-26T13:49:49.772Z" title="1/26/2024, 10:49:49 PM">2024-01-26</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/git/">git</a></span><span class="level-item">2분안에 읽기 (약 293 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/git_autocrlf-4760600f2cc5/">git 에서 줄바꿈 문제 - CRLF, LF</a></p><div class="content"><p>어느날 git 의 레포지토리의 파일이 모두 changed 상태로 보여 당황했다. 한 파일을 diff 로 보니 줄의 마지막에 <code>^M</code> 이 보였다. 에디터가 OS에 따라서 LF 를 CRLF 로 바꿔서 보여주는 것이었다.</p>
<h1 id="CRLF-상황"><a href="#CRLF-상황" class="headerlink" title="CRLF 상황"></a>CRLF 상황</h1><p>Linux 를 20.04 LTS 를 사용하다 os-release-upgrade 를 사용해서 22.04 LTS 로 업그레이드 했다.</p>
<p>그리고 한동안 다른 작업을 하다 소스를 다루게 되어서 윈도우 11에서 VS code 로 WSL의 우분투 폴더를 열어 보니 git 의 staging area 에 커밋할 파일이 엄청 들어와 있는 것이다. 찾다 보니 아래 그림 같이 줄바꿈 코드로 CRLR 로 인식을 한 것이다. </p>
<img src='/images/programming/git_autocrlf_issue2.png'>


<img src='/images/programming/git_autocrlf_issue1.png'>


<p>소스 파일을 수정할 일이 아니라서 검색을 좀 해보니 git 의 전역 설정에서 가능할 것 같았다. 다음 링크를 참조했다.</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/28076760/git-add-adds-m-to-the-end-of-every-line">https://stackoverflow.com/questions/28076760/git-add-adds-m-to-the-end-of-every-line</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Microsoft/WSL/issues/2318">https://github.com/Microsoft/WSL/issues/2318</a></li>
</ol>
<p>git 전역 설정으로 autocrlf 를 활성화 한다. git 전역 설정에 다음 같이 autocrlf 를 true 지정하면 해결이 된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.autocrlf <span class="literal">true</span></span><br></pre></td></tr></table></figure>


</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-25T00:40:00.000Z" title="10/25/2023, 9:40:00 AM">2023-10-25</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-10-27T02:20:27.376Z" title="10/27/2023, 11:20:27 AM">2023-10-27</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/git/">git</a></span><span class="level-item">3분안에 읽기 (약 499 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/git-swallow-branch-e1aedce9cb6d/">[git] Swallow clone 과 브랜치</a></p><div class="content"><p><a href="/git-clone-swallow-010171f10347/">Swallow Clone</a> 은 git 저장소에 커밋된 기록중 일부만 사용하는 기술 있다. 그런데 브랜치를 추가하면 원격지와 클론한 저장소에서 탐색이 안되는 단점이 있다. 여기서 swallow clone 에서 branch를 사용하는 방법을 요약한다.</p>
<h1 id="Swallow-Clone-에서-branch를-사용하자"><a href="#Swallow-Clone-에서-branch를-사용하자" class="headerlink" title="Swallow Clone 에서 branch를 사용하자."></a>Swallow Clone 에서 branch를 사용하자.</h1><p>기본적으로 swallow clone 을 사용하면 원격 저장소의 branch 를 모두 볼 수 없다. 이것은 <code>.git/config</code> 를 보면 <code>refs/remotes/origin/master</code> 로 구성되어 있어서이다. 그래서 swallow clone 한 저장소는 원격 저장소의 master 브랜치만 보게 된다.</p>
<p>다음은 <code>.git/config</code> 의 일부이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">        url = git@github.com:repository/YOUR_REPO.git</span><br><span class="line">        fetch = +refs/heads/*:refs/remotes/origin/master</span><br></pre></td></tr></table></figure>

<p>master 브랜치 대신 브랜치 트리 모두를 보려면 아래 같은 단계로 처리해 준다.</p>
<ol>
<li>다음 같이 원격 저장소의 모든 브랜치를 대상으로 처리해 준다.</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote set-branches origin <span class="string">&#x27;*&#x27;</span></span><br></pre></td></tr></table></figure>

<p>origin 의 브랜치를  master에서 <code>*</code> 로 지정하면 <code>.git/config</code>가 아래 같이 수정된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">        url = git@github.com:repository/YOUR_REPO.git</span><br><span class="line">        fetch = +refs/heads/*:refs/remotes/origin/*</span><br></pre></td></tr></table></figure>


<ol start="2">
<li>이어서 원격 레포지토리를 업데이트 하면 관련한 브랜치 정보를 갱신한다.</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git remote update</span><br><span class="line">Fetching origin</span><br><span class="line">remote: Enumerating objects: 306, <span class="keyword">done</span>.</span><br><span class="line">remote: Counting objects: 100% (306/306), <span class="keyword">done</span>.</span><br><span class="line">remote: Compressing objects: 100% (283/283), <span class="keyword">done</span>.</span><br><span class="line">remote: Total 285 (delta 161), reused 6 (delta 0), pack-reused 0</span><br><span class="line">Receiving objects: 100% (285/285), 8.59 MiB | 4.35 MiB/s, <span class="keyword">done</span>.</span><br><span class="line">Resolving deltas: 100% (161/161), completed with 16 <span class="built_in">local</span> objects.</span><br><span class="line">From git@github.com:repository/YOUR_REPO.git</span><br><span class="line"> * [new branch]      1024_dev   -&gt; origin/1024_dev</span><br><span class="line"> * [new branch]      gt_master  -&gt; origin/gt_master</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>업데이트 한 후에 원격 브랜치만 검색해도 잘 나타난다.</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -r</span><br><span class="line">  origin/1024_dev</span><br><span class="line">  origin/HEAD -&gt; origin/master</span><br><span class="line">  origin/gt_master</span><br><span class="line">  origin/master</span><br></pre></td></tr></table></figure>


<ol start="4">
<li>원격지 브랜치를 체크아웃해서 사용하면 된다.</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b t origin/1024_dev</span><br></pre></td></tr></table></figure>



<br>

<h1 id="함께-보면-유용한-git-명령"><a href="#함께-보면-유용한-git-명령" class="headerlink" title="함께 보면 유용한 git 명령"></a>함께 보면 유용한 git 명령</h1><p>간단하게 빌드&#x2F;테스트 를 하기위함 이라면 &#96;Sparse-checkout&#96;&#96; 과 함께 이용하면 좋다.</p>
<ol>
<li><a href="/git-sparse_checkout-cd8f7ebc1855/">[git] Sparse Checkout</a></li>
<li><a href="/git-clone-swallow-010171f10347/">Swallow Clone</a></li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-21T00:00:00.000Z" title="10/21/2023, 9:00:00 AM">2023-10-21</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-10-27T03:11:57.756Z" title="10/27/2023, 12:11:57 PM">2023-10-27</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Database/">Database</a></span><span class="level-item">13분안에 읽기 (약 1939 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/mariadb-json_datatype-4ec2cb4ce08f/">MariaDB - json_datatype 사용</a></p><div class="content"><p>MariaDB 에는 보통 관계형 테이블에서 SQL을 이용해 JSON data를 사용하기 위해서 별도의 json type을 지원하고 있다.</p>
<h1 id="MySQL-x2F-MariaDB-json-type"><a href="#MySQL-x2F-MariaDB-json-type" class="headerlink" title="MySQL &#x2F; MariaDB json type"></a>MySQL &#x2F; MariaDB json type</h1><p>MariaDB 에서 일반 테이블에서 json을 지원하기 위해 json type을 지원하고 있다. 단 MySQL 의 json data type에 호환하기 위해서 MariaDB json type은 longtext 의 alias 로 제공한다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://mariadb.com/kb/en/json-data-type/">https://mariadb.com/kb/en/json-data-type/</a></li>
<li>json이 sql 표준에 모순되어서 mariadb는 최소 성능에을 유지하는 벤치마크를 가지고 있다.</li>
<li>적절한 json 데이터를 유지하기 위해서 json_valid 함수를 check 구문에 사용할 수 있다. (v10.4.3)</li>
</ul>
<blockquote>
<p>JSON 데이터 형식에 대해서는 다양한 소개를 검색할 수 있다.</p>
<ul>
<li>문자여로로 숫자, 문자, 객체, 날짜 및 자료의 배열 등의 형식을 표현할 수 있다.</li>
<li><a target="_blank" rel="noopener" href="https://docs.fileformat.com/ko/web/json/">https://docs.fileformat.com/ko/web/json/</a></li>
</ul>
</blockquote>
<p>MySQL &#x2F; Oracle &#x2F; MariaDB &#x2F; PostgreSQL &#x2F; MSSQL 등에서 Bigdata 분야에서 관심 받는 No-SQL의 자료 구조로 각광받고 있다. json은 1:n 의 관계에서 유동적인 자료를 처리하기 위해서 지원하는 추세이다.</p>
<h1 id="MariaDB-json-datatype-사용하기"><a href="#MariaDB-json-datatype-사용하기" class="headerlink" title="MariaDB: json datatype 사용하기"></a>MariaDB: json datatype 사용하기</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> USE lecture;</span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;version&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h2 id="json-datatype-을-가진-테이블-생성"><a href="#json-datatype-을-가진-테이블-생성" class="headerlink" title="json datatype 을 가진 테이블 생성"></a>json datatype 을 가진 테이블 생성</h2><p>json_test 테이블을 생성한다. JSON 데이터 타입으로 선언하면 내부적으로 longtext로 저장 됨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="keyword">create</span> <span class="keyword">table</span> json_test (id  <span class="type">int</span> ,  data JSON );</span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">DESC</span> json_test;</span><br><span class="line"></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> json_test;</span><br></pre></td></tr></table></figure>

<p>SHOW CREATE 결과는 아래와 같을 것이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `json_test` (</span><br><span class="line">  `id` int(11) DEFAULT NULL,</span><br><span class="line">  `data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`data`))</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci</span><br></pre></td></tr></table></figure>

<p>테스트한 테이블을 제거</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="keyword">DROP</span> <span class="keyword">TABLE</span> json_test;</span><br></pre></td></tr></table></figure>

<h2 id="json-data-validation"><a href="#json-data-validation" class="headerlink" title="json data validation"></a>json data validation</h2><p><code>check()</code> 검증 함수를 이용해서 insert하는 json data의 형식&#x2F;유효성을 검증할 수 있다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> json_test (</span><br><span class="line">  id  <span class="type">int</span> ,  </span><br><span class="line">  data JSON <span class="keyword">CHECK</span> (JSON_VALID(data))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> json_test;</span><br></pre></td></tr></table></figure>

<p>show 결과는 아래 같다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `json_test` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `data` longtext <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_bin <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> <span class="keyword">CHECK</span> (json_valid(`data`))</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_general_ci</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="json-입력"><a href="#json-입력" class="headerlink" title="json 입력"></a>json 입력</h2><p>json 데이터 입력해 확인해 보자. 먼저 문자열을 입력해보자.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ERROR 4025 (23000): CONSTRAINT </span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;invalid&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>json 형식이 아니기 때문에 ERROR 4025 에러가 발생한다.</p>
<p>json datetype 컬럼에 json 데이터 형식을 가진 문자열로 입력할 수 있다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- string </span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;&#123; &quot;name&quot;: &quot;그르렁&quot;, &quot;age&quot;: 30 &#125;&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;&#123;&quot;id&quot;: 1, &quot;name&quot;: &quot;으르렁&quot;, &quot;age&quot;: 29, &quot;address&quot;: &quot;서울시&quot;&#125;&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> json_test;</span><br></pre></td></tr></table></figure>

<p>select 한 결과는 json data 컬럼에 JSON Object 형식으로 저장됨을 확인할 수 있다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123; &quot;name&quot;: &quot;그르렁&quot;, &quot;age&quot;: <span class="number">30</span> &#125;</span><br><span class="line">&#123;&quot;id&quot;: <span class="number">1</span>, &quot;name&quot;: &quot;으르렁&quot;, &quot;age&quot;: <span class="number">29</span>, &quot;address&quot;: &quot;서울시&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>또한 json datetype 컬럼에 <code>json_object()</code> 함수를 사용해 데이터를 입력할 수 있다. </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">json_object</span>(key, <span class="keyword">value</span> [,key, <span class="keyword">value</span>])</span><br></pre></td></tr></table></figure>

<p>json_object 로 입력하고 select 로 확인 해보자.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- key, value, key, value 형태로 계속 입력된다.</span></span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span> (<span class="number">3</span> , <span class="built_in">json_object</span>(<span class="string">&#x27;name&#x27;</span> , <span class="string">&#x27;노르라&#x27;</span> , <span class="string">&#x27;Sex&#x27;</span> , <span class="string">&#x27;남자&#x27;</span> , <span class="string">&#x27;age&#x27;</span>, <span class="number">25</span>, <span class="string">&#x27;전화&#x27;</span> , <span class="string">&#x27;010-111-2222&#x27;</span>)) ;</span><br><span class="line"><span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> json_test;</span><br></pre></td></tr></table></figure>

<p>문자열 JSON notation 형식으로 저장되는 data 에서 정보를 얻을 때는 JSON path 형식의 표현식을 사용한다.</p>
<h2 id="json-object의-값-얻기"><a href="#json-object의-값-얻기" class="headerlink" title="json object의 값 얻기"></a>json object의 값 얻기</h2><p>JSON object 를 얻기위해서 다양한 JSON_ 형식의 함수를 지원한다. 함수들은 모둔 json path expression 을 사용해 json object 를 탐색한다. 아래는 대표적인 함수</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">-</span> <span class="built_in">json_value</span>(json_doc, path): READING SCALAR DATA</span><br><span class="line"><span class="operator">-</span> <span class="built_in">json_array</span>(json_doc, path): list 에서 JSON <span class="keyword">array</span> 를 반화</span><br><span class="line"><span class="operator">-</span> JSON_EXTRACT(json_doc, path[, path] ...) : <span class="keyword">return</span> <span class="keyword">values</span></span><br><span class="line"><span class="operator">-</span> <span class="built_in">JSON_QUERY</span>(json_doc, path[, path] ...) : <span class="keyword">return</span> json object, <span class="keyword">array</span>, <span class="keyword">null</span> (invalid json)</span><br></pre></td></tr></table></figure>

<p>간단히 사용해 보자.</p>
<p>json_test 테이블에서 age 속성을 select 해보자</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="built_in">JSON_VALUE</span>(DATA, <span class="string">&#x27;$.age&#x27;</span>) <span class="keyword">AS</span> age <span class="keyword">FROM</span> json_test;</span><br><span class="line"><span class="number">30</span></span><br><span class="line"><span class="number">29</span></span><br><span class="line"><span class="number">25</span></span><br></pre></td></tr></table></figure>

<p>이번에는 name, age, 전화 속성만 추출해 보자.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="built_in">JSON_VALUE</span>(DATA, <span class="string">&#x27;$.name&#x27;</span>) <span class="keyword">AS</span> name,</span><br><span class="line">	<span class="built_in">JSON_VALUE</span>(DATA, <span class="string">&#x27;$.age&#x27;</span>) <span class="keyword">AS</span> age,</span><br><span class="line">	<span class="built_in">JSON_VALUE</span>(DATA, <span class="string">&#x27;$.전화&#x27;</span>) <span class="keyword">AS</span> 전화</span><br><span class="line"><span class="keyword">FROM</span> json_test;</span><br><span class="line"></span><br><span class="line">&quot;name&quot;	&quot;age&quot;	&quot;전화&quot;</span><br><span class="line">&quot;그르렁&quot;	&quot;30&quot;	\N</span><br><span class="line">&quot;으르렁&quot;	&quot;29&quot;	\N</span><br><span class="line">&quot;노르라&quot;	&quot;25&quot;	&quot;010-111-2222&quot;</span><br></pre></td></tr></table></figure>



<h2 id="JSON-path-expression"><a href="#JSON-path-expression" class="headerlink" title="JSON path expression"></a>JSON path expression</h2><p>JSON 함수에서 <code>JSON_Function(json_doc, path)</code> 인자 path 는 json path expression 을 사용한다.</p>
<ul>
<li>MariaDB jsonpath 는 Mysql 의 jsonpath 에 근접해 구현하고, 와일드카드 <code>**</code> 스텝은 표준 보다는 MySQL에 가깝게 구현하고 있다.</li>
</ul>
<p>path expression:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">path: [&#x27;lax&#x27;] &#x27;$&#x27; [step]</span><br><span class="line">  `[lax]` : path mode 가 lax 지원.</span><br><span class="line">  `$` : 콘텍스트 아이템 시작. path는 항상 $로 시작함.</span><br><span class="line">  `[step]` : Json Object 인 object, array , wild card 가 이어진다.</span><br></pre></td></tr></table></figure>

<p>object member selector</p>
<ul>
<li><code>.</code> : json object 를 선택시.</li>
<li><code>.*</code> : 해당 object의 모든것</li>
</ul>
<p>array 요소 selector</p>
<ul>
<li>[n] : n 번째 요소</li>
<li>[*] : 모든 요소</li>
</ul>
<p>mariadb 10.9 이후</p>
<ul>
<li>[-n] : 마지막에서 -n 번 인덱스</li>
<li>[last-n] : 마지막에서 n번째 까지</li>
<li>[M to N] : m 과 n 사이 인덱스</li>
</ul>
<p>예를 들어보자,</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.name    <span class="comment">-- json객체의 name 속성을 지시한다.</span></span><br></pre></td></tr></table></figure>

<p>배열 접근</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$[<span class="number">5</span>]      <span class="comment">-- 5 번재 요소</span></span><br></pre></td></tr></table></figure>




<h2 id="Object-selector-tutorial"><a href="#Object-selector-tutorial" class="headerlink" title="Object selector tutorial"></a>Object selector tutorial</h2><p>json 객체가 있다. </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="variable">@json</span><span class="operator">=</span><span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">            &quot;A&quot;: [0,</span></span><br><span class="line"><span class="string">                  [1, 2, 3],</span></span><br><span class="line"><span class="string">                  [4, 5, 6],</span></span><br><span class="line"><span class="string">                  &quot;seven&quot;,</span></span><br><span class="line"><span class="string">                   0.8,</span></span><br><span class="line"><span class="string">                   true,</span></span><br><span class="line"><span class="string">                   false,</span></span><br><span class="line"><span class="string">                   &quot;eleven&quot;,</span></span><br><span class="line"><span class="string">                  [12, [13, 14], &#123;&quot;key1&quot;:&quot;value1&quot;&#125;,[15]],</span></span><br><span class="line"><span class="string">                  true],</span></span><br><span class="line"><span class="string">            &quot;B&quot;: &#123;&quot;C&quot;: 1&#125;,</span></span><br><span class="line"><span class="string">            &quot;D&quot;: 2</span></span><br><span class="line"><span class="string">           &#125;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>이 json 객체를 SQL 과 json 함수를 이용해 탐색하는 예이다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.A&#x27;</span>);             <span class="comment">-- A객체</span></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@JSON</span>, <span class="string">&#x27;$.A[2]&#x27;</span>);           <span class="comment">-- A객체의 2 번째 요소</span></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.A[-8][1]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.B&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.A[last-1]&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.A[last-1][2]&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.A[last-7][1]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.A[3 to 5]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$.A[3 to last]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- wildcard step &#x27;**&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@JSON</span>, <span class="string">&#x27;$**[1]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@JSON</span>, <span class="string">&#x27;$**.C&#x27;</span>);</span><br></pre></td></tr></table></figure>


<br>

<h2 id="json-functions-사용"><a href="#json-functions-사용" class="headerlink" title="json functions 사용"></a>json functions 사용</h2><p>테스트로 생성한 json_test 테이블을 사용해서 많이 사용하는 json 함수를  사용해 보자.</p>
<h4 id="JSON-VALUE"><a href="#JSON-VALUE" class="headerlink" title="JSON_VALUE:"></a>JSON_VALUE:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON_VALUE(json_doc, path) : path 에 있는 스칼라 값을 반환</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">json_value</span>(<span class="string">&#x27;&#123;&quot;key1&quot;:123&#125;&#x27;</span>, <span class="string">&#x27;$.key1&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>객체 안의 배열과 스칼라 값 객체의 json_valie() 결과</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- key1 속성에 배열과 스칼라 값 객체의 json_valie() 결과</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">json_value</span>(<span class="string">&#x27;&#123;&quot;key1&quot;: [1,2,3], &quot;key1&quot;:123&#125;&#x27;</span>, <span class="string">&#x27;$.key1&#x27;</span>);</span><br><span class="line"><span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">json_value</span>(<span class="string">&#x27;&#123;&quot;key1&quot;: [1,2,3], &quot;key1&quot;:123&#125;&#x27;</span>, <span class="string">&#x27;$.*&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>배열은 <code>[index[last]]</code> 형식으로 탐색</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">JSON_VALUE</span>(<span class="string">&#x27;[&#123;&quot;key1&quot;: [1,2,3], &quot;key1&quot;:123&#125;]&#x27;</span>, <span class="string">&#x27;$[0].key1&#x27;</span>);</span><br></pre></td></tr></table></figure>


<h4 id="JSON-EXTRACT"><a href="#JSON-EXTRACT" class="headerlink" title="JSON_EXTRACT:"></a>JSON_EXTRACT:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON_EXTRACT(json_doc, path[, path] ...) : path에 일치하는 모든 return values. null (invalid)</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="variable">@json</span> <span class="operator">=</span> <span class="string">&#x27;[1, 2, [3, 4]]&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$[1]&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(<span class="variable">@json</span>, <span class="string">&#x27;$[last]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> id, JSON_EXTRACT(DATA, <span class="string">&#x27;$**.age&#x27;</span>) <span class="keyword">FROM</span> json_test;</span><br><span class="line"><span class="keyword">SELECT</span> id, JSON_EXTRACT(DATA, <span class="string">&#x27;$**.전화&#x27;</span>) <span class="keyword">FROM</span> json_test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> id, JSON_EXTRACT(DATA, <span class="string">&#x27;$.name&#x27;</span>) <span class="keyword">FROM</span> json_test;</span><br><span class="line"><span class="keyword">SELECT</span> id, JSON_EXTRACT(DATA, <span class="string">&#x27;$.age&#x27;</span>) <span class="keyword">FROM</span> json_test;</span><br><span class="line"><span class="keyword">SELECT</span> id, JSON_EXTRACT(DATA, <span class="string">&#x27;$.전화&#x27;</span>) <span class="keyword">FROM</span> json_test;</span><br></pre></td></tr></table></figure>

<p>constraint error 는 보자, 새로운 객체를 추가한다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">4</span>, <span class="string">&#x27;&#123; &quot;name&quot;: &quot;가로미&quot;, &quot;age&quot;: 29 &#125;&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">5</span>, <span class="string">&#x27;&#123; &quot;name&quot;: &quot;가로미&quot;, &quot;age&quot;: 29 &#125;&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> json_test;</span><br></pre></td></tr></table></figure>

<p>기존 4번 인덱스가 있어서 다음은  constraint error 를 발생한다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- constraint error:</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">4</span>, <span class="string">&#x27;&#123; &quot;name&quot;: &quot;가로미&quot;, &quot;age&quot;: 29 &#125;, &#123; &quot;name&quot;: &quot;그러릿&quot;, &quot;age&quot;: 21, &quot;address&quot;: &quot;경기도 성남시&quot; &#125;&#x27;</span>);</span><br></pre></td></tr></table></figure>


<h4 id="json-array"><a href="#json-array" class="headerlink" title="json_array()"></a>json_array()</h4><p>JSON array 를 생성해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json_array(): list 에서 JSON array 를 반화</span><br></pre></td></tr></table></figure>

<p>여러 데이터를 json_array로 배열로 입력한다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">7</span>, <span class="built_in">JSON_ARRAY</span>(<span class="number">129</span>, <span class="number">3.1416</span>, <span class="string">&#x27;My name is &quot;Foo&quot;&#x27;</span>, <span class="keyword">NULL</span>) );</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">8</span>, <span class="built_in">JSON_ARRAY</span>( <span class="string">&#x27;&#123; &quot;name&quot;: &quot;크르렁&quot;, &quot;age&quot;: 30 &#125;&#x27;</span>, <span class="string">&#x27;&#123; &quot;name&quot;: &quot;갸르릉&quot;, &quot;age&quot;: 21 &#125;&#x27;</span>) );</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">6</span>, <span class="string">&#x27;&#123; &quot;address&quot; : [ &#123; &quot;name&quot;: &quot;고로릿&quot;, &quot;age&quot;: 20 &#125;, &#123; &quot;name&quot;: &quot;그러릿&quot;, &quot;age&quot;: 21 &#125;] &#125; &#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> json_test <span class="keyword">VALUES</span>(<span class="number">8</span>, <span class="built_in">JSON_OBJECT</span>( &quot;address&quot;, <span class="built_in">JSON_ARRAY</span>( <span class="string">&#x27;&#123; &quot;name&quot;: &quot;크르렁&quot;, &quot;age&quot;: 30 &#125;&#x27;</span>, <span class="string">&#x27;&#123; &quot;name&quot;: &quot;갸르릉&quot;, &quot;age&quot;: 21 &#125;&#x27;</span>) ) );</span><br></pre></td></tr></table></figure>

<p>입력된 결과를 쿼리한다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> json_test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> id, JSON_EXTRACT(DATA, <span class="string">&#x27;$.address[0]&#x27;</span>) <span class="keyword">FROM</span> json_test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> id, JSON_EXTRACT(DATA, <span class="string">&#x27;$.address[-1]&#x27;</span>) <span class="keyword">FROM</span> json_test;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> json_test;</span><br></pre></td></tr></table></figure>



<h4 id="JSON-QUERY"><a href="#JSON-QUERY" class="headerlink" title="JSON_QUERY()"></a>JSON_QUERY()</h4><p>json_query 는 json 객체 형식의 표현을 입력해서 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- JSON_QUERY(json_doc, path</span><br><span class="line">-- JSON_QUERY(json_doc, path[, path] ...) : path의 json object, array를 반환, null (invalid json)</span><br></pre></td></tr></table></figure>


<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- key1 객체</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">json_query</span>(<span class="string">&#x27;&#123;&quot;key1&quot;:&#123;&quot;a&quot;:1, &quot;b&quot;:[1,2]&#125;&#125;&#x27;</span>, <span class="string">&#x27;$.key1&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- key1 객체의 배열</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">json_query</span>(<span class="string">&#x27;&#123;&quot;key1&quot;:123, &quot;key1&quot;: [1,2,3]&#125;&#x27;</span>, <span class="string">&#x27;$.key1&#x27;</span>);</span><br></pre></td></tr></table></figure>


<h4 id="json-table"><a href="#json-table" class="headerlink" title="json_table()"></a>json_table()</h4><ul>
<li>mariadb 10.6 이후.</li>
<li>json data 를 sql table 로 변환한다.</li>
</ul>
<p>@json 변수에 json data 가 선언되고, sql 문에서 json_table 에 의해 관계형 테이블로 탐색된다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="variable">@json</span><span class="operator">=</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">[</span></span><br><span class="line"><span class="string">  &#123;&quot;name&quot;:&quot;Laptop&quot;, &quot;color&quot;:&quot;black&quot;, &quot;price&quot;:&quot;1000&quot;&#125;,</span></span><br><span class="line"><span class="string">  &#123;&quot;name&quot;:&quot;Jeans&quot;,  &quot;color&quot;:&quot;blue&quot;&#125;</span></span><br><span class="line"><span class="string">]&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="built_in">json_table</span>(<span class="variable">@json</span>, <span class="string">&#x27;$[*]&#x27;</span> </span><br><span class="line">  columns(</span><br><span class="line">   name  <span class="type">varchar</span>(<span class="number">10</span>) path <span class="string">&#x27;$.name&#x27;</span>, </span><br><span class="line">   color <span class="type">varchar</span>(<span class="number">10</span>) path <span class="string">&#x27;$.color&#x27;</span>,</span><br><span class="line">   price <span class="type">decimal</span>(<span class="number">8</span>,<span class="number">2</span>) path <span class="string">&#x27;$.price&#x27;</span> ) </span><br><span class="line">) <span class="keyword">as</span> jt;</span><br></pre></td></tr></table></figure>




<h2 id="SET-과-json-형식"><a href="#SET-과-json-형식" class="headerlink" title="SET 과 json 형식"></a>SET 과 json 형식</h2><p>SET 구문을 사용해서 json 변수를 선언하고 SQL 에서 사용할 수 있다.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="variable">@json</span> <span class="operator">=</span> <span class="string">&#x27;&#123;&quot;key1&quot;:&quot;60\\&quot; Table&quot;, &quot;key2&quot;:&quot;1&quot;&#125;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">JSON_VALUE</span>(<span class="variable">@json</span>,<span class="string">&#x27;$.key1&#x27;</span>) <span class="keyword">AS</span> Name , <span class="built_in">json_value</span>(<span class="variable">@json</span>,<span class="string">&#x27;$.key2&#x27;</span>) <span class="keyword">as</span> ID;</span><br></pre></td></tr></table></figure>





<br>


<h1 id="—-참고"><a href="#—-참고" class="headerlink" title="— 참고"></a>— 참고</h1><ol>
<li><a name='footname1'>json datatype</a> : <a target="_blank" rel="noopener" href="https://mariadb.com/kb/en/json-data-type/">https://mariadb.com/kb/en/json-data-type/</a></li>
<li><a name='footname2'>jsonpath-expressions</a>: <a target="_blank" rel="noopener" href="https://mariadb.com/kb/en/jsonpath-expressions/">https://mariadb.com/kb/en/jsonpath-expressions/</a></li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-20T05:40:00.000Z" title="10/20/2023, 2:40:00 PM">2023-10-20</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-10-20T06:26:58.523Z" title="10/20/2023, 3:26:58 PM">2023-10-20</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/git/">git</a></span><span class="level-item">4분안에 읽기 (약 609 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/git-clone-swallow-010171f10347/">[git] Swallow clone</a></p><div class="content"><p><em><strong>shallow clone</strong></em> 은 git저장소의 일부 이력만 받아오는 방법이다. 즉 git 커밋등의 이력이 많아지고, 저장소 용량이 커지면 clone을 받는데, 시간도 많이 걸리고 저장소 크기도 용량이 커져서 clone, push, pull 시 시간 손해가 있을 수 있고, 어떤 경우 중단되는 경우도 있을 수 있다.</p>
<p>그래서 git저장소의 일부 이력만 선택적으로 받아 올 수 있다.</p>
<ol>
<li>보통 swallow clone 은 저장소를 build &amp; deployment 를 수행 할 때 유용하다.</li>
<li>저장소 소스를 수정하고 push 하는 경우에는 불리하다.</li>
</ol>
<br>

<h1 id="swallow-clone"><a href="#swallow-clone" class="headerlink" title="swallow clone"></a>swallow clone</h1><p>swallow clone을 위해서 git clone에 depth 인자에 주어진 개수만큼의 history 를 가져온다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone [repo_url] --depth [개수]</span><br></pre></td></tr></table></figure>

<br>

<h1 id="최종-commit-부분만-swallow-clone-하기"><a href="#최종-commit-부분만-swallow-clone-하기" class="headerlink" title="최종 commit 부분만 swallow clone 하기"></a>최종 commit 부분만 swallow clone 하기</h1><p>최종 history (git commit log) 만을 대상으로 clone 한다면 depth 1 로 주면 된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth 1 abcd@git.com/abc/big_repository</span><br></pre></td></tr></table></figure>

<p>git log를 보면 1개의 로그만 나타납니다. 기록이 하나밖에 안남는다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> </span><br></pre></td></tr></table></figure>

<br>

<h1 id="100개의-기록-더가져오기"><a href="#100개의-기록-더가져오기" class="headerlink" title="100개의 기록 더가져오기"></a>100개의 기록 더가져오기</h1><p>swallow clone한 저장소에서 fetch 를 사용해서 추가적인 log 기록을 더 가져올 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch --depth 50</span><br><span class="line">git fetch --depth 50</span><br></pre></td></tr></table></figure>

<br>

<h1 id="주의"><a href="#주의" class="headerlink" title="주의!!!"></a>주의!!!</h1><p>현재 개발된 코드를 확인하고, 빌드하고 그리고 실행하고 테스트하는데는 shallow clone은 가볍게 수행할 수 있는 장점이 있다. 그런데 . 저장소에서 소스를 수정하고 push 하려고 하려면 저장소의 모든 Git 이력을 이용해 이 수정된 내용이 적용되야 한다. 그런데 swallow clone 상태에서는 어떤 기록에서 편집되었는지에 대한 것을 확인할 수 없어서 push가 거부될 수 있다. </p>
<p>이런 경우에는 unswallow 를 통해서 모든 history 를 복구한 후에 작업을 수행해야 한다.</p>
<br>

<h1 id="unswallow-하기"><a href="#unswallow-하기" class="headerlink" title="unswallow 하기"></a>unswallow 하기</h1><p>기존 –depth 로 swallow clone 이 된 레포지토레애서 Un-swallow 를 하기 위해서 fetch 명령을 이용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch --unshallow <span class="comment"># 저장소의 남은 history 를 읽어온다</span></span><br></pre></td></tr></table></figure>

<br>

<h1 id="함께-보면-유용한-git-명령"><a href="#함께-보면-유용한-git-명령" class="headerlink" title="함께 보면 유용한 git 명령"></a>함께 보면 유용한 git 명령</h1><p>간단하게 빌드&#x2F;테스트 를 하기위함 이라면 &#96;Sparse-checkout&#96;&#96; 과 함께 이용하면 좋다.</p>
<p><a href="/git-sparse_checkout-cd8f7ebc1855/">[git] Sparse Checkout</a></p>
<br>

<hr>
<h1 id="참고"><a href="#참고" class="headerlink" title="- 참고"></a>- 참고</h1><ul>
<li><a target="_blank" rel="noopener" href="https://nochoco-lee.tistory.com/200">swallow clone 하기</a></li>
<li><a target="_blank" rel="noopener" href="https://bitlog.tistory.com/66">Git clone –depth&#x3D;1 이후에 히스토리 복원하기.</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-10-04T05:00:00.000Z" title="10/4/2023, 2:00:00 PM">2023-10-04</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-10-04T05:08:20.942Z" title="10/4/2023, 2:08:20 PM">2023-10-04</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Python/">Python</a></span><span class="level-item">몇 초안에 읽기 (약 101 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/understranding_unicode-f121f811ea9f/">유니코드 이해하기</a></p><div class="content"><h2 id="한글을-표현하는-인코딩"><a href="#한글을-표현하는-인코딩" class="headerlink" title="한글을 표현하는 인코딩"></a>한글을 표현하는 인코딩</h2><ul>
<li><a target="_blank" rel="noopener" href="https://brunch.co.kr/@namojo/20">https://brunch.co.kr/@namojo/20</a></li>
</ul>
<h2 id="한글-인코딩의-이해-1편-한글-인코딩의-역사와-유니코드"><a href="#한글-인코딩의-이해-1편-한글-인코딩의-역사와-유니코드" class="headerlink" title="한글 인코딩의 이해 1편: 한글 인코딩의 역사와 유니코드"></a>한글 인코딩의 이해 1편: 한글 인코딩의 역사와 유니코드</h2><ul>
<li><a target="_blank" rel="noopener" href="https://d2.naver.com/helloworld/19187">https://d2.naver.com/helloworld/19187</a></li>
</ul>
<h2 id="한글-인코딩의-이해-2편-유니코드와-Java를-이용한-한글-처리"><a href="#한글-인코딩의-이해-2편-유니코드와-Java를-이용한-한글-처리" class="headerlink" title="한글 인코딩의 이해 2편: 유니코드와 Java를 이용한 한글 처리"></a>한글 인코딩의 이해 2편: 유니코드와 Java를 이용한 한글 처리</h2><ul>
<li><a target="_blank" rel="noopener" href="https://d2.naver.com/helloworld/76650">https://d2.naver.com/helloworld/76650</a></li>
</ul>
<h2 id="한글과-유니코드"><a href="#한글과-유니코드" class="headerlink" title="한글과 유니코드"></a>한글과 유니코드</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.pusnow.com/note/hangul-and-unicode/">https://www.pusnow.com/note/hangul-and-unicode/</a></li>
</ul>
<h2 id="The-Absolute-Minimum-Every-Software-Developer-Must-Know-About-Unicode-in-2023"><a href="#The-Absolute-Minimum-Every-Software-Developer-Must-Know-About-Unicode-in-2023" class="headerlink" title="The Absolute Minimum Every Software Developer Must Know About Unicode in 2023"></a>The Absolute Minimum Every Software Developer Must Know About Unicode in 2023</h2><ul>
<li><a target="_blank" rel="noopener" href="https://tonsky.me/blog/unicode/">https://tonsky.me/blog/unicode/</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-07-27T12:00:00.000Z" title="7/27/2023, 9:00:00 PM">2023-07-27</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-08-04T22:17:06.063Z" title="8/5/2023, 7:17:06 AM">2023-08-05</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Python/">Python</a></span><span class="level-item">1분안에 읽기 (약 211 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/jupyterlab_upgrade_3_to_4-10265c5617ef/">Jupyterlab 4 업그레이드 주의 사항.</a></p><div class="content"><p>Jupyter 3.x 를 사용중에 Jupyter 4.0 출시를 했다고 해서 가상환경을 만들고 jupyterlab 4.0 을 설치했었다. 조금 더 UI 가 명확해 보이고 괜잖았는데 한글 입력시 글가가 깨져서 입력되거나 혹은 현재 편집중인 Cell 의 위치가 달라져 보이는 이상한 증상이 있어서 4.0 업그레이드 버전 사용을 안했는데 이유는 Node.js 버전 문제로 보인다.</p>
<h1 id="Node-js-버전"><a href="#Node-js-버전" class="headerlink" title="Node.js 버전"></a>Node.js 버전</h1><p>기존에 jupyterlab 3.6 에서 Node.js 14 버전을 사용하고 있었다. Jupyterlab 4.x 버전의 주피터 확장 모듈 빌드도 문제가 없었는데 위에 언급한 이상한 현상이 발생해서 Jupyterlab 4.x 가상환경에서 Node.Js 버전을 18버전으로 업그레이후 후에는 문제없이 사용중이다.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-07-18T04:00:00.000Z" title="7/18/2023, 1:00:00 PM">2023-07-18</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-07-18T04:55:01.905Z" title="7/18/2023, 1:55:01 PM">2023-07-18</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Programming/">Programming</a><span> / </span><a class="link-muted" href="/categories/Programming/Database/">Database</a></span><span class="level-item">5분안에 읽기 (약 820 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022-03-01-oracle_xe_installation-b90fe1d48548/">Oracle XE Database 설치 - Windows</a></p><div class="content"><p>Oracle XE Database 설치를 알아본다.</p>
<ol>
<li>Oracle XE 설치</li>
<li>Uninstall</li>
</ol>
<hr>
<h1 id="1-오라클-XE-설치"><a href="#1-오라클-XE-설치" class="headerlink" title="1. 오라클 XE 설치"></a>1. 오라클 XE 설치</h1><p>XE 는 Express Edition 의 약어입니다.</p>
<img src='https://i.imgur.com/Rf6hGib.png'>

<p>오라클 18c 버전은 설치 파일이 용량이 2G가 넘기 때문에 다운로드부터 설치까지 수분~수십분 이상이 소요</p>
<blockquote>
<p>설치에 문제가 생기는 원인들</p>
<ul>
<li>컴퓨터 이름이 한글로 되어 있을 떄</li>
<li>오라클을 한번 설치한 적이 있을 경우<ul>
<li>oracle home 에서<ul>
<li><code>./deinstall/deinstall</code></li>
<li>regedit를 이용하여 기록을 삭제</li>
<li>방법 명령창에서 <code>sc delete OracleServiceXE</code> 를 수행)</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="XE-라이센스"><a href="#XE-라이센스" class="headerlink" title="XE 라이센스"></a>XE 라이센스</h3><ul>
<li><a target="_blank" rel="noopener" href="https://www.oracle.com/downloads/licenses/oracle-free-license.html">https://www.oracle.com/downloads/licenses/oracle-free-license.html</a></li>
</ul>
<h3 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h3><p>최신 버전은 다운로드 페이지에서 직접 다운로드 할 수 있다.</p>
<ul>
<li>2022&#x2F;3월 현재 21c 버전을 다운로드 할 수 있다.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.oracle.com/kr/database/technologies/xe-downloads.html">https://www.oracle.com/kr/database/technologies/xe-downloads.html</a></p>
<p>이전 버전은 로그인후 다운로드 할 수 있다. 회원가입후 로그인한다.</p>
<img src='https://i.imgur.com/fF9cEQu.png'>

<h3 id="회원가입"><a href="#회원가입" class="headerlink" title="회원가입"></a>회원가입</h3><p>무료 Oracle 계정은 이메일 인증을 통해서 계정 생성이 가능하다.</p>
<h3 id="XE-시스템-제약"><a href="#XE-시스템-제약" class="headerlink" title="XE 시스템 제약"></a>XE 시스템 제약</h3><ul>
<li>운영체제: Windows 10, Linux (우분투, 레드햇, CentOS 등)</li>
<li>최대 12GB 사용자 데이터</li>
<li>최대 2GB 데이터베이스 RAM</li>
<li>최대 CPU 스레드 2개</li>
<li>최대 3개의 PDB (Up to 3 Pluggable Databases)</li>
</ul>
<h2 id="Oracle-XE-21c-설치"><a href="#Oracle-XE-21c-설치" class="headerlink" title="Oracle XE 21c 설치"></a>Oracle XE 21c 설치</h2><p>다운로드한 설치 파일을 실행한다.</p>
<img src='https://i.imgur.com/PXPKa6P.png' width=500>


<p>라이센스</p>
<img src='https://i.imgur.com/Wze4aUE.png'>

<p>설치 위치</p>
<img src='https://i.imgur.com/ndZbANv.png'>

<p>SYS, SYSTEM, PDBADMIN 계정 비밀번호입력:  관리자 계정 비밀번호를 정하여 주는 것으로 오라클 관리자 계정 아이디는 ‘SYSTEM’ 이다.</p>
<ul>
<li>혼란을 방지하기 위해 <code>Manager1</code> 으로 입력하자.<img src='https://i.imgur.com/KDCI9O1.png'></li>
</ul>
<p>설치 시작</p>
<img src='https://i.imgur.com/nFJaZDQ.png'>

<img src='https://i.imgur.com/6iCBpuM.png'>


<p>윈도우 보안 경고에서 Java 허용</p>
<img src='https://i.imgur.com/gY9STAx.png'>

<p>구성요소 구성</p>
<img src='https://i.imgur.com/PTzdNSg.png'>


<p>설치 완료</p>
<img src='https://i.imgur.com/zNmwfSc.png'>

<p>오라클 XE 설치후 시작메뉴</p>
<img src='https://i.imgur.com/EZtcmIg.png'>


<h2 id="설치후-확인"><a href="#설치후-확인" class="headerlink" title="설치후 확인"></a>설치후 확인</h2><h3 id="서비스-상태-확인"><a href="#서비스-상태-확인" class="headerlink" title="서비스 상태 확인"></a>서비스 상태 확인</h3><ol>
<li>Oracle XE 설치 완료되면, 윈도우 cmd 창에서 <code>sc query</code> 명령어를 통해 설치를 확인할 수 있다.</li>
</ol>
<img src='https://i.imgur.com/brxBr09.png'>

<ol start="2">
<li>윈도우 메뉴 중 ‘앱 및 기능’ 목록 확인</li>
</ol>
<h3 id="데이터베이스-연결-확인"><a href="#데이터베이스-연결-확인" class="headerlink" title="데이터베이스 연결 확인"></a>데이터베이스 연결 확인</h3><p>tnslistener 사용</p>
<ul>
<li>Oracle XE 설치후 DB 연결을 위해 꼭 필요한 서비스인 ‘TNSListener’가 자동설치 되는데, cmd 창에서 연결 상태 확인이 가능하다.</li>
</ul>
<ol>
<li><code>tnsping</code></li>
</ol>
<ul>
<li>cmd 창에서 tnsping 명령어 이용. </li>
<li>‘tnsping 127.0.0.1’을 실행하면 아래와 같이 TNSListener, 연결 상태를 확인할 수 있다.</li>
</ul>
 <img src='https://i.imgur.com/dDbATrW.png'>
 
<ol start="2">
<li>lsnrctl</li>
</ol>
<img src='https://i.imgur.com/7LEXTf2.png'>


<h3 id="접속-에러"><a href="#접속-에러" class="headerlink" title="접속 에러"></a>접속 에러</h3><ol>
<li>접속에러 : TNS-12541 TNS 리스너 에러<ul>
<li><a target="_blank" rel="noopener" href="https://shanepark.tistory.com/223">https://shanepark.tistory.com/223</a></li>
</ul>
</li>
</ol>
<img src='https://i.imgur.com/2SrHP1S.png'>

<p>윈도우 컴퓨터 이름 에러일 가능성이 크다.<br>    1. 내 컴퓨터 -&gt; 속성 에서 컴퓨터 이름 확인<br>    2. listener.ora 에서 HOST 이름 변경</p>
<ol start="2">
<li>오라클 서비스 재시작<ul>
<li>윈도우 서비스 Oracle TNS Listener 실행 확인</li>
<li>윈도우의 서비스에서 OracleServiceXE 서비스 재시작</li>
</ul>
</li>
</ol>
<p>작업관리자 혹은 서비스 매니져에서 사용 가능.</p>
<ul>
<li>작업관리자 : Ctrl+Shift+ESC </li>
<li>서비스 매니져 : Win + R 에서 services.msc</li>
</ul>
<h3 id="listener-ora-tnsnames-ora"><a href="#listener-ora-tnsnames-ora" class="headerlink" title="listener.ora, tnsnames.ora"></a>listener.ora, tnsnames.ora</h3><p>tnsnames.ora 와 listener.ora 파일의 HOST 를 localhost 로 변경한다.</p>
<p>tnsnames.ora</p>
<img src='https://i.imgur.com/NNPOodj.png'>


<p>listener.ora</p>
<img src='https://i.imgur.com/vTKEofw.png'>


<h1 id="2-Uninstall"><a href="#2-Uninstall" class="headerlink" title="2 Uninstall"></a>2 Uninstall</h1><ul>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/en/database/oracle/oracle-database/18/xeinw/deinstalling-oracle-database-xe.html">https://docs.oracle.com/en/database/oracle/oracle-database/18/xeinw/deinstalling-oracle-database-xe.html</a></li>
</ul>
<hr>
<h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul>
<li>IT CookBook, 오라클로 배우는 데이터베이스 개론과 실습(2판)-설치<ul>
<li><a target="_blank" rel="noopener" href="https://download.hanbit.co.kr/exam/4502/">https://download.hanbit.co.kr/exam/4502/</a></li>
</ul>
</li>
<li>Oracle Database가 갑자기 안될 때 TNS-12541, TNS-12560, TNS-00511 에러 해결<ul>
<li><a target="_blank" rel="noopener" href="https://shanepark.tistory.com/223">https://shanepark.tistory.com/223</a></li>
</ul>
</li>
</ul>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/Programming/page/0/">이전</a></div><div class="pagination-next"><a href="/categories/Programming/page/2/">다음</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/Programming/">1</a></li><li><a class="pagination-link" href="/categories/Programming/page/2/">2</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/categories/Programming/page/9/">9</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/qkboo_400.png" alt="Gangtai"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Gangtai</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Paju, South Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">166</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">17</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">246</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/thinkbee" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/gangtaigoh"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-12-23T01:00:00.000Z">2024-12-23</time></p><p class="title"><a href="/Image_Segmentation-4f9d5782ee2d/">[요약] Image Segmentation</a></p><p class="categories"><a href="/categories/AI/">AI</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-10-23T08:02:31.157Z">2024-10-23</time></p><p class="title"><a href="/linux_basic_commands-046a799b97a8/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-14T01:00:00.000Z">2024-03-14</time></p><p class="title"><a href="/WSL2-Host_port_forward-37fb5a5a6c2f/">Window Host에서 WSL 서비스로 port forward 사용</a></p><p class="categories"><a href="/categories/OS/">OS</a> / <a href="/categories/OS/Windows/">Windows</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-05T10:00:00.000Z">2024-03-05</time></p><p class="title"><a href="/mariadb-transfer_to_other-a78fa3ae97d8/">MariaDb 10 이전하기</a></p><p class="categories"><a href="/categories/Programming/">Programming</a> / <a href="/categories/Programming/Database/">Database</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-05T00:00:00.000Z">2024-03-05</time></p><p class="title"><a href="/mariadb_install_on_linux-42c7d6483e3f/">MariaDB 설치</a></p><p class="categories"><a href="/categories/Programming/">Programming</a> / <a href="/categories/Programming/Database/">Database</a></p></div></article></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">광고</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1465716454138955" data-ad-slot="4441624809" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/ETC/"><span class="level-start"><span class="level-item">ETC</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/IT/"><span class="level-start"><span class="level-item">IT</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">56</span></span></a><ul><li><a class="level is-mobile" href="/categories/OS/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/Raspberry-Pi/"><span class="level-start"><span class="level-item">Raspberry Pi</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">90</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Angularjs/"><span class="level-start"><span class="level-item">Angularjs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Nodejs/"><span class="level-start"><span class="level-item">Nodejs</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/R/"><span class="level-start"><span class="level-item">R</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/github/"><span class="level-start"><span class="level-item">github</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/thinkbee_logo.png" alt="IT Tech blogging" height="28"></a><p class="is-size-7"><span>&copy; 2024 Gangtai Goh</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-right",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>