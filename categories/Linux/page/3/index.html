<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>카테고리: Linux - Blogging through Programming</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="thinkbee blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="thinkbee blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="website"><meta property="og:title" content="Blogging through Programming"><meta property="og:url" content="https://blog.thinkbee.kr/"><meta property="og:site_name" content="Blogging through Programming"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.thinkbee.kr/img/og_image.png"><meta property="article:author" content="Gangtai"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.thinkbee.kr"},"headline":"Blogging through Programming","image":["https://blog.thinkbee.kr/img/og_image.png"],"author":{"@type":"Person","name":"Gangtai"},"publisher":{"@type":"Organization","name":"Blogging through Programming","logo":{"@type":"ImageObject","url":"https://blog.thinkbee.kr/images/thinkbee_logo.png"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-1465716454138955" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><meta name="generator" content="Hexo 6.0.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/thinkbee_logo.png" alt="Blogging through Programming" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">카테고리</a></li><li class="is-active"><a href="#" aria-current="page">Linux</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-04-03T00:10:00.000Z" title="2017-4-3 9:10:00">2017-04-03</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:15:34.957Z" title="2022-2-25 1:15:34">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">13분안에 읽기 (약 1887 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/04/03/linux-2017-04-03-odroid-lvm2/">Linux LVM2</a></h1><div class="content"><blockquote>
<p>2018-09-19 when umount, device busy!<br>2018-06-23 mount 명령<br>{: history-right}</p>
</blockquote>
<h2 id="LVM2"><a href="#LVM2" class="headerlink" title="LVM2"></a>LVM2</h2><p>Odorid C2에 USB Memory를 사용해서 리눅스의 LVM을 이용하고 있다. 여기서는 LVM 설정에 대해서만 다루고 있다.</p>
<blockquote>
<p>Single board computer 종류의 보드는 주 디스크로 SD Card, eMMC 를 사용하고, USB 메모리 등은 디바이스 장치로 &#x2F;dev&#x2F;sd* 이름으로 접근할 수 있다.</p>
</blockquote>
<h3 id="디스크-파티션"><a href="#디스크-파티션" class="headerlink" title="디스크 파티션"></a>디스크 파티션</h3><p>시스템에 사용할 디스크 파티션을 생성한다. 그리고 사용할 디스크 파티션 종류 LVM으로 해야 한다. <code>parted</code> 혹은 <code>fdisk</code> 를 사용해서 디스크 볼륨을 생성하고 사용한다.</p>
<h4 id="parted"><a href="#parted" class="headerlink" title="parted"></a>parted</h4><p>대상 디스크 목록을 통해 디스크의 크기 정보를 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo parted -l</span><br></pre></td></tr></table></figure>

<p>parted로 lvm 볼륨 잡기</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo parted /dev/sdb</span><br><span class="line">(parted) mklabel gpt</span><br><span class="line">Warning: The existing disk label on /dev/sda will be destroyed and all data on</span><br><span class="line">this disk will be lost. Do you want to <span class="built_in">continue</span>?</span><br><span class="line">Yes/No? y</span><br><span class="line"></span><br><span class="line">(parted) unit GB</span><br><span class="line">(parted) mkpart primary 0 32.0GB     <span class="comment">#디스크 크기 입력</span></span><br><span class="line">(parted) <span class="built_in">set</span> 1 lvm on</span><br><span class="line"></span><br><span class="line">(parted) <span class="built_in">print</span></span><br><span class="line">Number  Start   End     Size    File system  Name     Flags</span><br><span class="line"> 1      0.00GB  32.0GB  32.0GB               primary  lvm</span><br></pre></td></tr></table></figure>

<h4 id="fdisk-사용"><a href="#fdisk-사용" class="headerlink" title="fdisk 사용"></a>fdisk 사용</h4><p>대상 디스크 목록을 통해 디스크의 크기 정보를 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure>

<p><code>fdisk</code>로 파티션을 시작한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># fdisk /dev/sda</span><br><span class="line">Command (m for help): p</span><br><span class="line">Command (m for help): g</span><br><span class="line">Command (m for help): n</span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G,T,P&#125; (2048-125042654, default 125042654): +4G</span><br><span class="line">Command (m for help): t</span><br><span class="line">Hex code (type L to list all codes): 30</span><br><span class="line">Changed type of partition &#x27;Linux filesystem&#x27; to &#x27;Linux LVM&#x27;.</span><br><span class="line">Command (m for help): w</span><br></pre></td></tr></table></figure>

<p>이제 새로운 파티션 ‘&#x2F;dev&#x2F;sda1’ 이 생성됐다.</p>
<h3 id="LVM-생성하기"><a href="#LVM-생성하기" class="headerlink" title="LVM 생성하기"></a>LVM 생성하기</h3><ol>
<li>LVM 종류로 파티션한 볼륨으로 <strong>Pysical volume</strong> 을 생성한다.</li>
<li>Pysical volume을 <strong>Volume Group</strong>으로 등록한다.</li>
<li>실제 사용할 크기 만큼 <strong>Logical Volume</strong>으로 나눠 생성한다.</li>
<li>파일 시스템을 생성하고 마운트 한다.</li>
</ol>
<p>시스템에 <code>lvm2</code> 를 설치한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install lvm2</span><br></pre></td></tr></table></figure>

<h4 id="Pysical-Volume-만들기"><a href="#Pysical-Volume-만들기" class="headerlink" title="Pysical Volume 만들기"></a>Pysical Volume 만들기</h4><p>파티션을 Pysical volume으로 만든다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo -s</span><br><span class="line"># pvcreate /dev/sda1</span><br><span class="line">  /run/lvm/lvmetad.socket: connect failed: No such file or directory</span><br><span class="line">  WARNING: Failed to connect to lvmetad. Falling back to internal scanning.</span><br><span class="line">  Physical volume &quot;/dev/sda1&quot; successfully created</span><br></pre></td></tr></table></figure>

<p>이제 물리볼륨을 로지컬 볼륨 그룹으로 나누고</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># vgcreate vg_usb /dev/sdb1</span><br><span class="line"> Volume group &quot;vg_usb&quot; successfully created</span><br><span class="line"></span><br><span class="line"># vgdisplay</span><br></pre></td></tr></table></figure>

<blockquote>
<p>볼륨그룹 지우기</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># vgremove vg_usb</span><br><span class="line">  Volume group &quot;vg_usb&quot; successfully removed</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Logical-Volume-만들기"><a href="#Logical-Volume-만들기" class="headerlink" title="Logical Volume 만들기"></a>Logical Volume 만들기</h4><p>로지컬 볼륨을 만든다. 용량은 -L 과 -l 옵션을 사용</p>
<ul>
<li><code>-L [GB/KB/B..]</code> 단위 용량</li>
<li><code>-l PE</code> PE 용량 단위 - vgdisplay 에 표시되는 PE 개수</li>
</ul>
<p>여기서 두개의 로지컬 볼륨을 만든다고 가정한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># lvcreate -L +20G -n dbvol vg_usb</span><br><span class="line"> Logical volume &quot;dbvol&quot; created.</span><br><span class="line"># lvcreate -L +9GB -n workvol vg_usb</span><br><span class="line">  Logical volume &quot;workvol&quot; created.</span><br></pre></td></tr></table></figure>

<p>생성한 로지컬보륨은 <code>lvdisplay</code>로 자세한 정보를 확인할 수 있다.</p>
<blockquote>
<p>로지컬 볼륨을 지우려면 <code>lvremove</code>로 볼륨그룹 밑에 있는 로지컬보륨을 삭제한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># lvremove /dev/vg_usb/dbvol</span><br></pre></td></tr></table></figure>
</blockquote>
<p>이제 로지컬볼륨이 준비됐고, 실제 파일 시스템을 생성한다.</p>
<h4 id="파일시스템-생성"><a href="#파일시스템-생성" class="headerlink" title="파일시스템 생성"></a>파일시스템 생성</h4><p>mkfs 명령으로 파일 시스템을 생성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mkfs.ext4 /dev/vg_usb/dbvol</span><br><span class="line"># mkfs.ext4 /dev/vg_usb/workvol</span><br></pre></td></tr></table></figure>

<p>부팅시 항상 마운트하기 위해서 fstab에 등록해야 하는데, fstab에 아운트 지점을 지정하는 방법은 디바이스 드라이브의 경로 혹은 UUID를 명시하는 것이다. LVM도 다르지 않는데 먼저 fstab에 등록해서 마운트 하기 위해서 <code>lvdisplay</code> 명령으로 LV path 를 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># lvdisplay</span><br><span class="line">  --- Logical volume ---</span><br><span class="line">  LV Path                /dev/vg_usb/dbvol</span><br><span class="line"></span><br><span class="line">  --- Logical volume ---</span><br><span class="line">  LV Path                /dev/vg_usb/workvol</span><br></pre></td></tr></table></figure>

<p>&#x2F;etc&#x2F;fstab에 <strong>LV Path</strong> 경로를 추가 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/dev/vg_usb/dbvol /data ext4 defaults 0 1</span><br><span class="line">/dev/vg_usb/workvol /home/pi/work ext4 defaults 0 1</span><br></pre></td></tr></table></figure>

<p>UUID를 사용하려면 위에 찾은 LV Path에 해당하는 UUID를 찾아야 한다.<a href="%5Bdebian/fstab%5D(https://wiki.debian.org/fstab)">^1</a> 먼저 LV path 경로를 보면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ll /dev/vg_usb/dbvol</span><br><span class="line">lrwxrwxrwx 1 root root 7 May  2 18:18 /dev/vg_usb/dbvol -&gt; ../dm-0</span><br></pre></td></tr></table></figure>

<p>같이 링크로 나온다. 이 링크 파일의 UUID를 찾으면 된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l /dev/disk/by-uuid/</span><br><span class="line">lrwxrwxrwx 1 root root 10 May  2 18:18 a7bb8085-0e50-845a-b65b-a6b7e8c86dc9 -&gt; ../../dm-0</span><br></pre></td></tr></table></figure>

<p>찾은 UUID를 fstab에 마운트 지점과 함께 기록한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UUID=a7bb8085-0e50-845a-b65b-a6b7e8c86dc9 /data ext4 defaults 0 0</span><br></pre></td></tr></table></figure>

<h1 id=""><a href="#" class="headerlink" title="     "></a><file system> <dir> <type> <options> <dump> <pass></h1><p>UUID&#x3D;”680C0FE30C0FAAE0” &#x2F;jgdata ntfs user,auto,rw 0 0</p>
<h4 id="LVM-사이즈-키우기"><a href="#LVM-사이즈-키우기" class="headerlink" title="LVM 사이즈 키우기"></a>LVM 사이즈 키우기</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># lvextend -L +10M /dev/um_vg/xfs_lv -r</span><br></pre></td></tr></table></figure>

<br>
### LVM 을 새 시스템에 장착하기

<p>LVM으로 생성한 볼륨그룹을 다른 시스템에서 사용하려면 Volume group을 이용한다.</p>
<ol>
<li>volume group 비활성화</li>
<li>volume group 추출</li>
<li>새 시스템에서 volume group 가져오기</li>
<li>새 시스템에서 volume group 활성화</li>
<li>새 시스템에서 마운트</li>
</ol>
<h4 id="1-vgscan으로-확인"><a href="#1-vgscan으로-확인" class="headerlink" title="1. vgscan으로 확인"></a>1. vgscan으로 확인</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># vgscan</span><br><span class="line">  Reading all physical volumes.  This may take a while...</span><br><span class="line">  Found volume group &quot;vg_usb&quot; using metadata type lvm2</span><br></pre></td></tr></table></figure>

<h4 id="2-vg-추출"><a href="#2-vg-추출" class="headerlink" title="2. vg 추출"></a>2. vg 추출</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># vgexport vg_usb</span><br><span class="line">  Volume group &quot;vg_usb&quot; successfully exported</span><br></pre></td></tr></table></figure>

<p>이제 새 시스템에서 추출한 volume group을 활성화 한다.</p>
<h4 id="3-PV-파티션-확인"><a href="#3-PV-파티션-확인" class="headerlink" title="3. PV 파티션 확인"></a>3. PV 파티션 확인</h4><p>pvscan으로 파티션을 확인한다. 비활성화하고 추출한 파티션을 확인할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># pvscan</span><br><span class="line">  PV /dev/sda2    is in exported VG vg_usb [55.62 GiB / 25.62 GiB free]</span><br><span class="line">  Total: 1 [55.62 GiB] / in use: 1 [55.62 GiB] / in no VG: 0 [0   ]</span><br></pre></td></tr></table></figure>

<p>vbimport 로 volume group을 가져온다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># vgimport vg_usb</span><br><span class="line">  Volume group &quot;vg_usb&quot; successfully imported</span><br></pre></td></tr></table></figure>

<h4 id="4-VG-활성화"><a href="#4-VG-활성화" class="headerlink" title="4. VG 활성화"></a>4. VG 활성화</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># vgchange -ay vg_usb</span><br><span class="line">  1 logical volume(s) in volume group &quot;vg_usb&quot; now active</span><br></pre></td></tr></table></figure>

<p>마운트 하기 위해서 볼륨그룹은 장치는 dev 밑에 보륨그룹 이름 <em>&#x2F;dev&#x2F;vg_usb</em> 같이 생성되므로 ls 명령으로 확인 가능</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ls /dev/vg_usb/</span><br><span class="line">mongovol  workvol</span><br></pre></td></tr></table></figure>

<p>혹은 <code>lvdisplay</code> 명령으로 LV path 를 확인한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># lvdisplay</span><br><span class="line">  --- Logical volume ---</span><br><span class="line">  LV Path                /dev/vg_usb/dbvol</span><br><span class="line">  LV Name                dbvol</span><br><span class="line">  VG Name                vg_usb</span><br><span class="line">  LV UUID                hTnMaP-6rgM-ePOi-HXs4-X0Ia-h4mP-gpT1JM</span><br><span class="line">  LV Write Access        read/write</span><br><span class="line">  LV Creation host, time odroid64, 2016-12-02 15:05:45 +0900</span><br><span class="line">  LV Status              available</span><br><span class="line">  # open                 0</span><br><span class="line">  LV Size                30.00 GiB</span><br><span class="line">  Current LE             7680</span><br><span class="line">  Segments               1</span><br><span class="line">  Allocation             inherit</span><br><span class="line">  Read ahead sectors     auto</span><br><span class="line">  - currently set to     256</span><br><span class="line">  Block device           253:0</span><br></pre></td></tr></table></figure>

<p>mount 명령으로 LV path를 마운트 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># mount /dev/vg_usb/dbvol mongodata/</span><br><span class="line">...</span><br><span class="line"># mount</span><br><span class="line">...</span><br><span class="line">/dev/mapper/vg_usb-dbvol on /data type ext4 (rw,relatime,data=ordered)</span><br></pre></td></tr></table></figure>

<p>재시동 후 마운트를 유지하기 위해 마운트한 경로를 &#x2F;etc&#x2F;fstab에 추가한다.</p>
<h5 id="LVM-error"><a href="#LVM-error" class="headerlink" title="LVM error"></a>LVM error</h5><p>기존 LVM 디스크를 사용하던 OS에 타 시스템에서 생성한 LVM을 옮겨와 사용하려면 다음 같이 lvmetad 에러가 난다.</p>
<blockquote>
<p>&#x2F;run&#x2F;lvm&#x2F;lvmetad.socket: connect failed: No such file or directory</p>
</blockquote>
<p>lvm2 서비스를 활성화하고 시작해 주면 된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable lvm2-lvmetad.service</span><br><span class="line">sudo systemctl enable lvm2-lvmetad.socket</span><br><span class="line">sudo systemctl start lvm2-lvmetad.service</span><br><span class="line">sudo systemctl start lvm2-lvmetad.socket</span><br></pre></td></tr></table></figure>

<br>
### Unmount - It's busy

<p>LVM 볼륨을 사용중 마운트를 해제하려고 할 때 다음 같은 경고가 난다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo umount /data</span><br><span class="line">umount: /data: target is busy</span><br><span class="line">        (In some cases useful info about processes that</span><br><span class="line">         use the device is found by lsof(8) or fuser(1).)</span><br></pre></td></tr></table></figure>

<p><code>fuser</code> 명령 <code>lsof</code> 명령으로 해당 디렉토리를 사용중인 파일, 프로세스를 확인할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo fuser -vm /data</span><br><span class="line">                     USER        PID ACCESS COMMAND</span><br><span class="line">/data:               root     kernel swap  /data/.swap4G</span><br><span class="line">                     root     kernel mount /data</span><br></pre></td></tr></table></figure>

<p>lsof로 어떤 프로세스가 디렉토리를 사용하는지 출력해 볼 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo lsof +D /data</span><br><span class="line">COMMAND   PID  USER   FD   TYPE DEVICE SIZE/OFF   NODE NAME</span><br><span class="line">bash    23617 qkboo  cwd    DIR  179,1     4096 129793 .</span><br></pre></td></tr></table></figure>

<h3 id="xfs-파일시스템"><a href="#xfs-파일시스템" class="headerlink" title="xfs 파일시스템"></a>xfs 파일시스템</h3><blockquote>
<p>주의: USB 메모리를 사용한 디스크에서 mongodb에 사용하기 위해서 시작했는데, 최신 mongodb의 storage engine인 WiredTiger는 xfs를 요구한다. 다만 Odroid C2 의 Ubuntu, Ambian 에서 xfsprogs 설치후 xfs 파일 시스템 생성시 문제가 있다.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># apt install xfsprogs</span><br></pre></td></tr></table></figure>

<p>디스크 볼륨을 xfs file system 생성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkfs.xfs /dev/usb64_vg/db_xfs</span><br></pre></td></tr></table></figure>

<br>
<br>
## 참조

<ul>
<li><a target="_blank" rel="noopener" href="https://www.unixmen.com/create-xfs-file-system-based-lvm-ubuntu/">Create xfs filesystem based LVM</a></li>
<li>[LVM Resize](&gt; <a target="_blank" rel="noopener" href="https://www.rootusers.com/lvm-resize-how-to-decrease-an-lvm-partition/">https://www.rootusers.com/lvm-resize-how-to-decrease-an-lvm-partition/</a>)</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-04-03T00:10:00.000Z" title="2017-4-3 9:10:00">2017-04-03</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:15:34.958Z" title="2022-2-25 1:15:34">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">8분안에 읽기 (약 1154 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/04/03/linux-2017-04-03-ubuntu-nginx/">Nginx - Install, WebDAV, Proxy on Ubuntu/Debian</a></h1><div class="content"><p><code>nginx</code>를 사용해서 일반 웹 서비스, SSL, WebDav 서비스와 다른 외부 웹 서비스와 연동하는 설정을 해보자.</p>
<ul>
<li>여기서 <code>node.js</code> 애플리케이션을 연동한다.</li>
</ul>
<br/>
## Nginx 설치와 구성

<p>우분투&#x2F;데비안 계열에서 <code>apt-get install</code> 명령으로 설치한다.</p>
<h3 id="Nginx-설치"><a href="#Nginx-설치" class="headerlink" title="Nginx 설치"></a>Nginx 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install nginx</span><br></pre></td></tr></table></figure>

<p>우분투&#x2F;데비안 계열은 <code>/etc/nginx</code> 밑에 nginx 설정 파일이 위치한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">nginx/</span><br><span class="line">├── conf.d/</span><br><span class="line">├── htpasswd</span><br><span class="line">├── nginx.conf</span><br><span class="line">├── sites-available/</span><br><span class="line">│   └── default</span><br><span class="line">├── sites-enabled/</span><br><span class="line">│   └── default -&gt; /etc/nginx/sites-available/default</span><br><span class="line">└── ssl/</span><br></pre></td></tr></table></figure>
<ul>
<li>htpasswd: apache-utils의 <code>htpasswd</code> 유틸리티로 생성한 Basic auth 계정 파일</li>
<li>ssl&#x2F; : SSL 인증서 파일</li>
<li>nginx.conf : nginx의 전역 설정 파일, 사이트 설정 및 가상 호스트 설정은 sites-available 에 선언.</li>
<li>sits-available: 웹 사이트 설정 파일</li>
<li>sites-enabled: </li>
<li></li>
</ul>
<h3 id="새-사이트-정의"><a href="#새-사이트-정의" class="headerlink" title="새 사이트 정의"></a>새 사이트 정의</h3><p>가장 좋은 방법은 기존 default 설정 파일을 복사해 수정한 후 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/nginx/</span><br><span class="line">$ <span class="built_in">cp</span> site-available/default <span class="built_in">cp</span> site-available/my-site</span><br></pre></td></tr></table></figure>

<h4 id="my-site"><a href="#my-site" class="headerlink" title="my-site"></a>my-site</h4><p>가상 호스트 파일을 &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F; 폴더에 추가하고 site-enabled에 링크를 해주면 된다. 아래 내용으로 &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;my-site 파일을 다음 같이 추가해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80 default_server;</span><br><span class="line">    listen [::]:80 default_server;</span><br><span class="line"></span><br><span class="line">    root /home/qkboo/my-site;</span><br><span class="line"></span><br><span class="line">    index index.html index.htm index.nginx-debian.html;</span><br><span class="line"></span><br><span class="line">    server_name my-site.localhost;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        try_files $uri $uri/ =404;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>사이트 활성화는 &#x2F;etc&#x2F;nginx&#x2F;site-enabled 폴더에 소프트 링크를 걸어준ㄷ.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">ln</span> -s /etc/nginx/sites-available/my-site /etc/nginx/sites-enabled/my-site </span><br><span class="line">$ sudo service nginx reload <span class="comment"># 설정 다시 가져오기</span></span><br></pre></td></tr></table></figure>

<p>Debian, Ubuntu 계열은 Ubuntu 15.x, Debian Wizzy 이후? 시스템 서비스를 <code>systemd</code> 로 다룬다. nginx도 systemd 스크립트로 관리할 수 있다. systemd 관련 내용 참조 - [^6]</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl reload nginx.service</span><br><span class="line">$ sudo systemctl status nginx.service</span><br></pre></td></tr></table></figure>


<p>만약 설정 파일에 문제가 있으면 <code>systemctl status nginx.service</code> 결과에 어느 줄에서 문제가 있는지 확인할 수 있다.</p>
<h3 id="Nginx-for-Node-js"><a href="#Nginx-for-Node-js" class="headerlink" title="Nginx for Node.js"></a>Nginx for Node.js</h3><p>Nginx를 메인 웹 서버로 사용하고 여기에 연결되는 URL, Location에 따라 nginx 외부의 다른 서비스에서 처리하게 하는 방법을 proxy 를 연결하는 것이다. 즉, nginx에서 Node.js, Django, Tomcat 같은 웹 서비스의 통로로 사용한다.</p>
<p><a target="_blank" rel="noopener" href="http://www.albertauyeung.com/post/setup-jupyter-nginx-supervisor/">http://www.albertauyeung.com/post/setup-jupyter-nginx-supervisor/</a></p>
<h4 id="proxy"><a href="#proxy" class="headerlink" title="proxy"></a>proxy</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"></span><br><span class="line">    listen 80;</span><br><span class="line">    server_name test.example.com;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">      proxy_set_header Host $http_host;</span><br><span class="line">      proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">      proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">      proxy_set_header X-NginX-Proxy true;</span><br><span class="line"></span><br><span class="line">      proxy_pass http://127.0.0.1:52222/;</span><br><span class="line">      proxy_redirect off;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    log_not_found off;</span><br><span class="line"></span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_comp_level 2;</span><br><span class="line">    gzip_proxied any;</span><br><span class="line">    gzip_min_length  1000;</span><br><span class="line">    gzip_disable &quot;MSIE [1-6]\.(?!.*SV1)&quot;;</span><br><span class="line">    gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript text/x-js;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>설정 파일이 제대로 구성됐는지 테스트해본다. <code>sudo nginx -t</code> [^1]</p>
<br/>
<br/>
## WebDAV

<p>Nginx에서 WebDAV는 <code>nginx-extras</code> 패키지를 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install nginx nginx-extras</span><br><span class="line">$ sudo <span class="built_in">mkdir</span> /home/qkboo/WebDav</span><br><span class="line">$ sudo <span class="built_in">chown</span> www-data /home/qkboo/WebDav</span><br></pre></td></tr></table></figure>

<p>혹은 chgrp로 그룹만 변경할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">chgrp</span> www-data /home/qkboo/WebDav</span><br></pre></td></tr></table></figure>


<h3 id="Basic-Auth"><a href="#Basic-Auth" class="headerlink" title="Basic Auth"></a>Basic Auth</h3><p>HTTP Auth 는 htpasswd 유틸리티로 사용자 이름과 아이디를 등록해서 사용한다. [^5]</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install apache2-utils</span><br><span class="line">$ sudo htpasswd -c /etc/nginx/htpasswd exampleuser</span><br></pre></td></tr></table></figure>

<h3 id="WebDav용-설정"><a href="#WebDav용-설정" class="headerlink" title="WebDav용 설정"></a>WebDav용 설정</h3><p>위에서 사용한 my-site 설정에 다음 같이 WebDav 디렉토리 위치를 추가한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    # SSL configuration</span><br><span class="line"></span><br><span class="line">    listen 443 ssl http2 default_server;</span><br><span class="line">    listen [::]:443 ssl http2 default_server;</span><br><span class="line"></span><br><span class="line">    ssl on;</span><br><span class="line"></span><br><span class="line">    #... 생략</span><br><span class="line"></span><br><span class="line">    # WebDav directory and URL</span><br><span class="line">    location /myfiles &#123;</span><br><span class="line">        alias /home/qkboo/WebDav;</span><br><span class="line">        #root /home/qkboo/;</span><br><span class="line"></span><br><span class="line">        #client_body_temp_path /var/dav/temp;</span><br><span class="line">        dav_methods     PUT DELETE MKCOL COPY MOVE;</span><br><span class="line">        dav_ext_methods   PROPFIND OPTIONS;</span><br><span class="line">        create_full_put_path  on;</span><br><span class="line">        dav_access    user:rw group:rw all:rw;</span><br><span class="line">        autoindex     on;</span><br><span class="line"></span><br><span class="line">        # Basic auth</span><br><span class="line">        auth_basic &quot;restricted&quot;;</span><br><span class="line">        auth_basic_user_file /etc/nginx/htpasswd;</span><br><span class="line"></span><br><span class="line">        send_timeout  36000s;</span><br><span class="line"></span><br><span class="line">        proxy_connect_timeout  36000s;</span><br><span class="line">        proxy_read_timeout  36000s;</span><br><span class="line">        proxy_send_timeout  36000s;</span><br><span class="line">        # large file uploads</span><br><span class="line">        proxy_request_buffering off;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="more-configures"><a href="#more-configures" class="headerlink" title="more configures"></a>more configures</h2><p><a target="_blank" rel="noopener" href="http://nginx.org/en/docs/http">http://nginx.org/en/docs/http</a> 에 있는 세부 설정중 사용한 것.</p>
<h3 id="Upload-size"><a href="#Upload-size" class="headerlink" title="Upload size"></a>Upload size</h3><p>POST로 multi-part 업로드시에 다음 에러가 보이면 nginx의 기본 업로드 크기를 2M 이하로 설정되어 그렇다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[error] 31354#0: *10899 client intended to send too large body: 1198151 bytes, client: &lt;IP address&gt;, server: example.com, request: “POST /wp-admin/async-upload.php HTTP/1.1”, host: “example.com”, referrer: “http://example.com/wp-admin/post.php?post=&lt;post id&gt;&amp;action=edit”</span><br></pre></td></tr></table></figure>

<p><code>client_max_body_size</code> 속성을 server, location 에 설정해 준다:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">client_max_body_size 20M;</span><br></pre></td></tr></table></figure>


<h3 id="limit-rate"><a href="#limit-rate" class="headerlink" title="limit_rate"></a>limit_rate</h3><p><a target="_blank" rel="noopener" href="http://nginx.org/en/docs/http/ngx_http_core_module.html#limit_rate">limit_rate</a>, limit_rate_after 는 함께 사용</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location /flv/ &#123;</span><br><span class="line">    flv;</span><br><span class="line">    limit_rate_after 500k;</span><br><span class="line">    limit_rate       50k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<br/>
<br/>
## 참조

<p>[^1]: <a target="_blank" rel="noopener" href="https://www.nginx.com/resources/wiki/start/topics/tutorials/commandline/">nginx command</a><br>[^5]: <a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-http-authentication-with-nginx-on-ubuntu-12-10">Http Auth</a><br>[^6]: <a target="_blank" rel="noopener" href="http://www.codeok.net/%EC%84%9C%EB%B2%84%20%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%A5%BC%20%EA%B4%80%EB%A6%AC%ED%95%98%EB%8A%94%20%EC%98%AC%EB%B0%94%EB%A5%B8%20%EB%B0%A9%EB%B2%95">서버 프로세스 관리에 대해</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-04-02T01:10:00.000Z" title="2017-4-2 10:10:00">2017-04-02</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:15:34.955Z" title="2022-2-25 1:15:34">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">17분안에 읽기 (약 2587 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/04/02/linux-2017-04-02-odroid-install-linux/">Odroid - Install Linux</a></h1><div class="content"><blockquote>
<p>2018-07-10: UART 정보 추가<br>2017-07-24: exFAT 추가<br>{:.right-history}</p>
</blockquote>
<h2 id="Odroid-C2-Install-Armbian"><a href="#Odroid-C2-Install-Armbian" class="headerlink" title="Odroid C2 - Install Armbian"></a>Odroid C2 - Install Armbian</h2><p><img src="http://odroid.com/dokuwiki/lib/exe/fetch.php?tok=53e4d9&media=http://dn.odroid.com/homebackup/201602/ODROID-C2.png">{: width&#x3D;”600”}</p>
<figure>[그림. armv8 Odroid C2]</figure>


<p>다음은 Odroid C2에 Ubuntu 16.04 minimal 버전, 그리고 Ambian Jessie를 설치하고, 처음 설정에 대한 것이다.</p>
<ul>
<li>Odroid에서 제공하는 64bit Ubuntu 설치</li>
<li>Ambian 64bit Debian jessi 설치</li>
<li>sudoer 사용자 사용</li>
<li>hostname 설정</li>
<li>swap 사용</li>
</ul>
<h3 id="Ambian-for-Odroid"><a href="#Ambian-for-Odroid" class="headerlink" title="Ambian for Odroid"></a>Ambian for Odroid</h3><p>Armbian에서 데스크탑 버전으로 Ubuntu 와 서버 버전으로 Debian Jessie를 다운로드 가능하다.</p>
<p><img src="/images/odroid/odroidc2-armbian-download.png">{: width&#x3D;”600”}</p>
<p>여기서는 Debian Jessie 버전을 사용한다.</p>
<h4 id="준비사항"><a href="#준비사항" class="headerlink" title="준비사항"></a>준비사항</h4><p>Micro SD Card를 사용하면 가능하면 <strong>UHX-1 Class 10</strong> 를 사용하도록 한다.</p>
<p>Odroid C2는 Micro SD Card 혹은 eMMC Card로 부팅 디스크를 구성할 수 있다.</p>
<ul>
<li>Micro SD Card: <strong>UHX-1 Class 10</strong> 이상</li>
<li>SDHX Class 8에서 사용중인데, 큰 문제는 없지만 SD Card에 영향을 받는 듯 하다.</li>
</ul>
<h4 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h4><p><a target="_blank" rel="noopener" href="http://www.armbian.com/download/">Ambian Download</a> 에서 <a target="_blank" rel="noopener" href="https://www.armbian.com/odroid-c2/">Odroid C2 이미지</a> 에서 <em>Debian server</em>를 다운 받는다. </p>
<p>서버는 7z 파일로 되어 있어서 </p>
<ul>
<li>Windows에서는 <strong>7-Zip</strong> 프로그램, macOS에서는 <strong>Keka</strong></li>
<li>Linux에서 <strong>7z</strong></li>
</ul>
<p>linux 7z은  <code>apt-get install p7zip-full</code> 으로 설치한다.</p>
<p>모든 플랫폼에서 사용 가능한 저수준 이미지 쓰기 프로그램 **<a target="_blank" rel="noopener" href="https://etcher.io/">Etcher</a>**도 권장한다.</p>
<h4 id="Etcher-사용"><a href="#Etcher-사용" class="headerlink" title="Etcher 사용"></a>Etcher 사용</h4><p>모든 플랫폼에서 이미지 쓰기가 가능한 <a target="_blank" rel="noopener" href="https://etcher.io/">Etcher</a> 사용을 권장한다.</p>
<p>다운로드한 Debian_jessie_default.7z 이미지 파일을 선택하고 선택한 SD Card에 이미지를 쓴다.</p>
<p><img src="/images/opensuse/etcher-image-writing.png">{: width&#x3D;”600”}</p>
<h4 id="dd-사용"><a href="#dd-사용" class="headerlink" title="dd 사용"></a>dd 사용</h4><p>다운로드한 Debian_jessie_default.7z 이미지를 압축 해제하고, SD Card를 슬롯에 넣고, SD Card의 디스크 번호를 확인하고, 마운트를 해제한다.</p>
<p>여기서 macOS를 사용하고 Disk Utility 를 이용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ diskutil list                           #디스크 번호 확인</span><br><span class="line">$ diskutil unmountDisk /dev/disk1         #마운트 해제</span><br></pre></td></tr></table></figure>

<p>dd를 사용해 오에스이미지를 쓴다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=Debian_jessie_default.img of=/dev/rdisk1 bs=1M conv=fsync</span><br></pre></td></tr></table></figure>


<h4 id="Verifying-the-burned-image-with-Linux"><a href="#Verifying-the-burned-image-with-Linux" class="headerlink" title="Verifying the burned image with Linux"></a>Verifying the burned image with Linux</h4><p>오에스 이미지 파일의 md5 값과 디스크에 쓴 이미지의 해시 값을 비교할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=&lt;/dev/path/of/card&gt; bs=512 count=$((`stat -c%s &lt;my/odroid/image.img&gt;`/512)) | md5sum</span><br><span class="line">167742+0 records in</span><br><span class="line">167742+0 records out</span><br><span class="line">85883904 bytes (86 MB, 82 MiB) copied, 0.153662 s, 559 MB/s</span><br><span class="line">9b085251a00ad7ae16fe42fbfb25c042  -</span><br><span class="line">$</span><br><span class="line">$ dd if=&lt;my/odroid/image.img&gt; bs=512 count=$((`stat -c%s &lt;my/odroid/image.img&gt;`/512)) | md5sum</span><br><span class="line">167742+0 records in</span><br><span class="line">167742+0 records out</span><br><span class="line">85883904 bytes (86 MB, 82 MiB) copied, 0.140843 s, 610 MB/s</span><br><span class="line">9b085251a00ad7ae16fe42fbfb25c042  - </span><br></pre></td></tr></table></figure>

<p>두 값이 일치해야 한다.</p>
<p>OS를 쓴 SD Card 로 부팅하고 시스템 구성과 설정을 할 수 있다. 사용자 인터페이스로 사용하기 위해 HDMI, Keyboard 그리고 마우스가 필요하다.</p>
<p>만약 GUI 인터페이스 사용이 여의치 않으면 다음 같이 Serial Console을 이용해 접근할 수 있다.</p>
<h4 id="Serial-Console-이용"><a href="#Serial-Console-이용" class="headerlink" title="Serial Console 이용"></a>Serial Console 이용</h4><p>Odroid C2는 아래 같이 Serial Port 를 제공하고 있다. <a target="_blank" rel="noopener" href="https://wiki.odroid.com/odroid-c2/hardware/hardware">^1</a></p>
<p><img src="/images/odroid/odroidc2-uart.png">{: width&#x3D;”6400”}</p>
<figure>[그림. Odroid C2 의 UART (그림. wiki.odroid.com)]</figure>



<h3 id="시스템-설정"><a href="#시스템-설정" class="headerlink" title="시스템 설정"></a>시스템 설정</h3><p>기본 아이디 root &#x2F; 1234 로 로그인 가능하고 즉시 비밀번호를 변경해야 한다. 또한 사용자 계정을 만들어 사용해야 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Welcome to ARMBIAN Ubuntu 16.04 LTS 3.4.112-sun8i</span><br><span class="line"></span><br><span class="line">System load:   1.17             Up time:       2 min</span><br><span class="line">IP:            192.168.11.122</span><br><span class="line">CPU temp:      51°C</span><br><span class="line">Usage of /:    17% of 7.3G</span><br><span class="line"></span><br><span class="line">Changing password for root.</span><br><span class="line">(current) UNIX password:</span><br><span class="line">Enter new UNIX password:</span><br><span class="line">Retype new UNIX password:</span><br><span class="line"></span><br><span class="line">Thank you for choosing Armbian! Support: www.armbian.com</span><br><span class="line"></span><br><span class="line">Creating new account. Please provide a username (eg. your forename): qkboo</span><br><span class="line">Adding user `qkboo&#x27; ...</span><br><span class="line">Adding new group `qkboo&#x27; (1000) ...</span><br><span class="line">Adding new user `qkboo&#x27; (1000) with group `qkboo&#x27; ...</span><br><span class="line">Creating home directory `/home/qkboo&#x27; ...</span><br><span class="line">Copying files from `/etc/skel&#x27; ...</span><br><span class="line">Enter new UNIX password:</span><br><span class="line">Retype new UNIX password:</span><br><span class="line">passwd: password updated successfully</span><br><span class="line">Changing the user information for qkboo</span><br><span class="line">Enter the new value, or press ENTER for the default</span><br><span class="line">    Full Name []: Qkboo</span><br><span class="line">    Room Number []:</span><br><span class="line">    Work Phone []:</span><br><span class="line">    Home Phone []:</span><br><span class="line">    Other []:</span><br><span class="line">Is the information correct? [Y/n] y</span><br><span class="line"></span><br><span class="line">Dear Qkboo, your account qkboo has been created and is sudo enabled.</span><br><span class="line">Please use this account for your daily work from now on.</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="upgrade"><a href="#upgrade" class="headerlink" title="upgrade"></a>upgrade</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># apt update &amp;&amp; apt dist-upgrade &amp;&amp; apt upgrade</span><br></pre></td></tr></table></figure>

<p>업그레이드 중 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The following packages have been kept back:   linux-image-c2</span><br></pre></td></tr></table></figure>

<p>기존 리눅스 이미지를 지우고 업그리이드 중 에러가 나서 이미지 업그레이드가 안되었으므로, 이전 버전 이미지를 찾아 삭제해 주면 다시 업그레이드가 된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># apt --installed list |grep linux</span><br><span class="line"></span><br><span class="line">linux-image-3.14.65-73/unknown,now 20160802 arm64 [installed,automatic]</span><br><span class="line">linux-image-3.14.79-94/unknown,now 20161121 arm64 [installed,automatic]</span><br><span class="line">linux-image-c2/now 73-1 arm64 [installed,upgradable to: 94-1]</span><br><span class="line">linux-libc-dev/xenial-updates,xenial-security,now 4.4.0-51.72 arm64 [installed]</span><br><span class="line">util-linux/xenial-updates,now 2.27.1-6ubuntu3.1 arm64 [installed]</span><br></pre></td></tr></table></figure>


<p>이전 버전 이미지를 지운다. 업그레이드 후 uname 확인</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@odroid64:~# apt autoremove linux-image-3.14.65-73</span><br><span class="line">...</span><br><span class="line">Preparing to unpack .../linux-image-c2_94-1_arm64.deb ...</span><br><span class="line">Unpacking linux-image-c2 (94-1) over (73-1) ...</span><br><span class="line">Setting up linux-image-c2 (94-1) ...</span><br><span class="line"></span><br><span class="line"># uname -a</span><br><span class="line">Linux odroid64 3.14.79-94 #1 SMP PREEMPT Mon Nov 21 17:13:27 BRST 2016 aarch64 aarch64 aarch64 GNU/Linux</span><br></pre></td></tr></table></figure>


<h4 id="hostname"><a href="#hostname" class="headerlink" title="hostname"></a>hostname</h4><p>debian 계열에서 hostname을 변경하려면 <code>hostnamectl</code> 을 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ sudo -s</span><br><span class="line"># hostnamectl set-hostname dlp</span><br><span class="line"># show settings</span><br><span class="line">root@debian:~# hostnamectl </span><br><span class="line">   Static hostname: dlp</span><br><span class="line">         Icon name: computer-vm</span><br><span class="line">           Chassis: vm</span><br><span class="line">        Machine ID: 5f47b11299ed4689a48a7f78197e452a</span><br><span class="line">           Boot ID: bdeed3b6c079405bb45d79eff3e870a5</span><br><span class="line">    Virtualization: vmware</span><br><span class="line">  Operating System: Debian GNU/Linux 8 (jessie)</span><br><span class="line">            Kernel: Linux 3.16.0-4-amd64</span><br><span class="line">      Architecture: x86-64</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Timezone"><a href="#Timezone" class="headerlink" title="Timezone"></a>Timezone</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># dpkg-reconfigure tzdata</span><br></pre></td></tr></table></figure>



<h4 id="bash-completion"><a href="#bash-completion" class="headerlink" title="bash-completion"></a>bash-completion</h4><p>minimal 버전에는 bash-completion 을 다시 설치해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install bash-completion --reinstall</span><br></pre></td></tr></table></figure>


<h4 id="Swap-추가"><a href="#Swap-추가" class="headerlink" title="Swap 추가"></a>Swap 추가</h4><p>여유 디스크에 swap을 추가하려면 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkswap /dev/sda1</span><br><span class="line">$ sudo swapon /dev/sda1</span><br><span class="line">$ sudo swapon -s</span><br></pre></td></tr></table></figure>

<p>swap 파일로 만들려면 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=/dev/zero of=/data/swap4G bs=1G count=4</span><br><span class="line">$ sudo chmod 600 /swapfile</span><br><span class="line">$ sudo mkswap /swapfile</span><br><span class="line">$ sudo swapon /swapfile</span><br><span class="line">$ sudo swapon -s</span><br></pre></td></tr></table></figure>

<h5 id="swapoff"><a href="#swapoff" class="headerlink" title="swapoff"></a>swapoff</h5><p>swap 을 지우려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">swapoff /swapfile</span><br><span class="line">rm /swapfile</span><br></pre></td></tr></table></figure>


<br>
## Ubuntu 16.04 설치

<p>Micro SD Card를 사용하면 가능하면 <strong>UHX-1 Class 10</strong> 를 사용하도록 한다.</p>
<h3 id="준비사항-1"><a href="#준비사항-1" class="headerlink" title="준비사항"></a>준비사항</h3><p>Odroid C2는 Micro SD Card 혹은 eMMC Card로 부팅 디스크를 구성할 수 있다.</p>
<ul>
<li>Micro SD Card: <strong>UHX-1 Class 10</strong> 이상</li>
<li>SDHX Class 8에서 사용중인데, 큰 문제는 없지만 SD Card에 영향을 받는 듯 하다.</li>
</ul>
<p>다운로드 사이트에서 <a target="_blank" rel="noopener" href="http://dn.odroid.com/S905/Ubuntu/">Download</a> 한다.</p>
<h4 id="Write-a-image"><a href="#Write-a-image" class="headerlink" title="Write a image"></a>Write a image</h4><p>macOS를 사용하고 있어서 macOS의 diskutil 명령을 사용해 SD Card에 접근했다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list                        <span class="comment"># 디스크 목록에서 SD Card의 디바이스 파일 찾는다.</span></span><br></pre></td></tr></table></figure>

<p>그리고 쓸려는 SD Card를 Unmount 해준다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil unmountDisk /dev/disk1</span><br></pre></td></tr></table></figure>

<p>다운받은 xz 파일을 dd 명령으로 SD Card 메모리 디스크에 쓴다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xzcat ubuntu64-16.04-minimal-odroid-c2-20160815.img.xz | sudo dd of=/dev/rdisk1 bs=1M conv=fsync</span><br></pre></td></tr></table></figure>

<blockquote>
<p>macOS는 &#x2F;dev&#x2F;disk[1,2..] 의 디바이스 파일과 &#x2F;dev&#x2F;rdisk[1,2…]의 raw disk 디바이스 파일이 있다. 실제 쓸때 rdisk 파일을 사용하도록 권장하고 있다.</p>
</blockquote>
<h4 id="Verifying-the-burned-image-with-Linux-1"><a href="#Verifying-the-burned-image-with-Linux-1" class="headerlink" title="Verifying the burned image with Linux"></a>Verifying the burned image with Linux</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ sudo dd if=&lt;/dev/path/of/card&gt; bs=512 count=$((`stat -c%s &lt;my/odroid/image.img&gt;`/512)) | md5sum</span><br><span class="line">167742+0 records in</span><br><span class="line">167742+0 records out</span><br><span class="line">85883904 bytes (86 MB, 82 MiB) copied, 0.153662 s, 559 MB/s</span><br><span class="line">9b085251a00ad7ae16fe42fbfb25c042  -</span><br><span class="line">$ dd if=&lt;my/odroid/image.img&gt; bs=512 count=$((`stat -c%s &lt;my/odroid/image.img&gt;`/512)) | md5sum</span><br><span class="line">167742+0 records in</span><br><span class="line">167742+0 records out</span><br><span class="line">85883904 bytes (86 MB, 82 MiB) copied, 0.140843 s, 610 MB/s</span><br><span class="line">9b085251a00ad7ae16fe42fbfb25c042  - </span><br></pre></td></tr></table></figure>


<h3 id="첫번째-부팅"><a href="#첫번째-부팅" class="headerlink" title="첫번째 부팅"></a>첫번째 부팅</h3><p>기본 유저는 root&#x2F;odroid 로 설정되어 있다. <strong>root의 기본 패스워드를 변경</strong>하고, <strong>sudo 사용자</strong>를 추가해 사용하도록 하자.</p>
<h4 id="upgrade-1"><a href="#upgrade-1" class="headerlink" title="upgrade"></a>upgrade</h4><p>upgrade시 <code>dist-upgrade</code> 는 꼭 해주도록 하자. kernel 관련 업그레이드를 완성시켜 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># apt update &amp;&amp; apt dist-upgrade &amp;&amp; apt upgrade</span><br></pre></td></tr></table></figure>

<p>업그레이드 하는 도중 아래 같은 에러가 발생하면,</p>
<blockquote>
<p>The following packages have been kept back:   linux-image-c2</p>
</blockquote>
<p>기존 리눅스 이미지를 지우고 업그리이드 중 에러가 나서 이미지 업그레이드가 중단되어서 그렇다. 이전 버전 이미지를 찾아 삭제해 주면 다시 업그레이드가 된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># apt --installed list |grep linux</span><br><span class="line"></span><br><span class="line">linux-image-3.14.65-73/unknown,now 20160802 arm64 [installed,automatic]</span><br><span class="line">linux-image-3.14.79-94/unknown,now 20161121 arm64 [installed,automatic]</span><br><span class="line">linux-image-c2/now 73-1 arm64 [installed,upgradable to: 94-1]</span><br><span class="line">linux-libc-dev/xenial-updates,xenial-security,now 4.4.0-51.72 arm64 [installed]</span><br><span class="line">util-linux/xenial-updates,now 2.27.1-6ubuntu3.1 arm64 [installed]</span><br></pre></td></tr></table></figure>


<p>이전 버전 이미지를 지운다. 업그레이드 후 uname 확인</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@odroid64:~# apt autoremove linux-image-3.14.65-73</span><br><span class="line">...</span><br><span class="line">Preparing to unpack .../linux-image-c2_94-1_arm64.deb ...</span><br><span class="line">Unpacking linux-image-c2 (94-1) over (73-1) ...</span><br><span class="line">Setting up linux-image-c2 (94-1) ...</span><br><span class="line"></span><br><span class="line"># uname -a</span><br><span class="line">Linux odroid64 3.14.79-94 #1 SMP PREEMPT Mon Nov 21 17:13:27 BRST 2016 aarch64 aarch64 aarch64 GNU/Linux</span><br></pre></td></tr></table></figure>

<p>Odroid의 Ubuntu는 root 계정을 기본으로 제공하고 있다. 일반 사용자를 등록해 sudoer로 사용하도록 한다.</p>
<h3 id="sudo-새-사용자-등록"><a href="#sudo-새-사용자-등록" class="headerlink" title="sudo 새 사용자 등록"></a>sudo 새 사용자 등록</h3><p>sudo 사용자를 추가해서 사용하려면, adduser 혹은 useradd 명령을 사용해서 사용자를 등록 할 수 있다. </p>
<h4 id="새-사용자-등록"><a href="#새-사용자-등록" class="headerlink" title="새 사용자 등록"></a>새 사용자 등록</h4><p>먼저 adduser는 추가할 사용자에 대한 정보를 하나씩 물어 가며 등록이 진행되고, 사용자 홈을 생성해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ sudo adduser qkboo</span><br><span class="line">Adding user `qkboo&#x27; ...</span><br><span class="line">Adding new group `qkboo&#x27; (1000) ...</span><br><span class="line">Adding new user `qkboo&#x27; (1000) with group `qkboo&#x27; ...</span><br><span class="line">Creating home directory `/home/qkboo&#x27; ...</span><br><span class="line">Copying files from `/etc/skel&#x27; ...</span><br><span class="line">Enter new UNIX password:</span><br><span class="line">Retype new UNIX password:</span><br><span class="line">passwd: password updated successfully</span><br><span class="line">Changing the user information for qkboo</span><br><span class="line">Enter the new value, or press ENTER for the default</span><br><span class="line">        Full Name []: Gangtai</span><br><span class="line">        Room Number []:</span><br><span class="line">        Work Phone []:</span><br><span class="line">        Home Phone []:</span><br><span class="line">        Other []:</span><br><span class="line">Is the information correct? [Y/n] y</span><br></pre></td></tr></table></figure>


<p><code>useradd</code> 는 홈 디렉토리, 쉘 등에 대한 옵션을 주고 사용자를 등록한다.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.tecmint.com/add-users-in-linux/">http://www.tecmint.com/add-users-in-linux/</a></p>
</blockquote>
<p>‘useradd‘ 명령은 크게 두가지 일을 한다:</p>
<ul>
<li>추가한 사용자에 대한 &#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group and &#x2F;etc&#x2F;gshadow 편집</li>
<li>사용자 홈 디렉토리 생성</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sudo  useradd -m qkboo</span><br></pre></td></tr></table></figure>

<p>그리고 패스워드를 등록한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo passwd qkboo</span><br><span class="line">New password:</span><br><span class="line">Retype new password:</span><br><span class="line">passwd: password updated successfully</span><br></pre></td></tr></table></figure>



<h4 id="sudoer-등록"><a href="#sudoer-등록" class="headerlink" title="sudoer 등록"></a>sudoer 등록</h4><p>처음 로그인후 새로운 사용자 등록하고 suders에 직접 권한을 줄 수 있다.<br>새로 등록한 혹은 사용자를 <em>sudo 그룹</em>에 등록해 둔다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># usermod -aG sudo USERNAME</span><br></pre></td></tr></table></figure>


<p>혹은 <strong>visudo</strong> 명령으로 sudoers 파일을 편집할 수 있습니다. sudoer에 있는 root는 제외하고 사용자로 등록한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo visudo</span><br><span class="line"># User privilege specification</span><br><span class="line">root  ALL=(ALL:ALL) ALL</span><br><span class="line">pi  ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure>



<h4 id="기본-에디터-변경"><a href="#기본-에디터-변경" class="headerlink" title="기본 에디터 변경"></a>기본 에디터 변경</h4><p>odroid의 ubuntu 16.04는 기본에디터로 joe가 설치되어 있다. vim 으로 변경한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># update-alternatives --config editor</span><br><span class="line">There are 6 choices for the alternative editor (providing /usr/bin/editor).</span><br><span class="line"></span><br><span class="line">  Selection    Path               Priority   Status</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">* 0            /usr/bin/joe        70        auto mode</span><br><span class="line">  1            /usr/bin/jmacs      50        manual mode</span><br><span class="line">  2            /usr/bin/joe        70        manual mode</span><br><span class="line">  3            /usr/bin/jpico      50        manual mode</span><br><span class="line">  4            /usr/bin/jstar      50        manual mode</span><br><span class="line">  5            /usr/bin/rjoe       25        manual mode</span><br><span class="line">  6            /usr/bin/vim.tiny   10        manual mode</span><br><span class="line"></span><br><span class="line">Press &lt;enter&gt; to keep the current choice[*], or type selection number: 6</span><br></pre></td></tr></table></figure>


<h3 id="exFAT"><a href="#exFAT" class="headerlink" title="exFAT"></a>exFAT</h3><p>리눅스테어 외부 USB 디스크를 <em>exFAT</em>로 포맷하고 사용한다면, <em>exfat-fuse</em>와 <em>exfat-utils</em>를 설치해 준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install exfat-fuse exfat-utils</span><br></pre></td></tr></table></figure>

<p>그리고 대부분 최신 리눅스 데스크탑은 USB 디스크를 더블클릭하면 자동마운트 해준다.</p>
<p>터미널에서는</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo <span class="built_in">mkdir</span> /media/my_usb</span><br><span class="line">$ sudo mount -t exfat /dev/sdb1 /media/my_usb</span><br><span class="line">$ sudo umount /dev/sdb1</span><br></pre></td></tr></table></figure>


<h3 id="VNC-server"><a href="#VNC-server" class="headerlink" title="VNC server"></a>VNC server</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install tightvncserver</span><br></pre></td></tr></table></figure>

<p>그리고 <code>vncserver</code> 명령으로 기본 패스워드를 생성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver</span><br></pre></td></tr></table></figure>




<h4 id="grc"><a href="#grc" class="headerlink" title="grc"></a>grc</h4><p>터미널 컬러 처리</p>
<p><a target="_blank" rel="noopener" href="https://github.com/garabik/grc">https://github.com/garabik/grc</a></p>
<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><ul>
<li>[sudo user create](&gt; <a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-create-a-sudo-user-on-ubuntu-quickstart">https://www.digitalocean.com/community/tutorials/how-to-create-a-sudo-user-on-ubuntu-quickstart</a>)</li>
<li><a target="_blank" rel="noopener" href="https://docs.armbian.com/">armbian docs</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-04-01T00:00:00.000Z" title="2017-4-1 9:00:00">2017-04-01</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:09:27.779Z" title="2022-2-25 1:09:27">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a><span> / </span><a class="link-muted" href="/categories/Linux/NodeJS/">NodeJS</a></span><span class="level-item">13분안에 읽기 (약 2008 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/04/01/nodejs-2017-04-01-nodejs-install-nvm/">NodeJS / nvm 기반 개발환경 설치</a></h1><div class="content"><p>Node.js를 설치하고 관리할 수 있는 Node Version Manager를 사용한 개발환경 구성에 대해 살펴본다.</p>
<blockquote>
<p>2018-6 <code>npm i</code> 관련 설명 추가<br>{:.right-history}</p>
</blockquote>
<h2 id="버전관리자를-통한-Node-js-개발환경"><a href="#버전관리자를-통한-Node-js-개발환경" class="headerlink" title="버전관리자를 통한 Node.js 개발환경"></a>버전관리자를 통한 Node.js 개발환경</h2><p>Node.js는 커뮤니티 개발을 위주로 업그레이드가 자주 된다. 개발중인 관련 모듈이 업그레이드를 따라가지 못할 경우가 자주 발생할 수 있다. 그래서 실제 개발하는 경우에 Node.js 버전의 변경을 자유롭게 하기 위해서 버전관리자(Node Version Manager) 환경에서 개발을 권장한다. </p>
<p>주요한 버전관리자에는 Nvm, Nodist 등 여러 종류가 있는데, 대부분 리눅스와 맥에서 사용 가능하다. 그리고 윈도우 환경에서는 nvm-windows, nodist를 사용할 수 있다.</p>
<ul>
<li>Linux&#x2F;macOS: <a target="_blank" rel="noopener" href="https://github.com/creationix/nvm">https://github.com/creationix/nvm</a></li>
<li>Windows: <a target="_blank" rel="noopener" href="https://github.com/marcelklehr/nodist">https://github.com/marcelklehr/nodist</a></li>
</ul>
<p>버전관리자를 설치후 사용 방법은 대동소이 하다. 여기서는 <strong>nvm</strong>을 다룬다.</p>
<p>Shell 은 쉘 프롬프트로 사용자 권한 및 현재 위치를 표시하는데 보통 권한별로 아래 기호를 사용한다.<br/></p>
<ul>
<li><code>$</code> : 사용자 프롬프트</li>
<li><code>#</code> : root 프롬프트</li>
<li><code>~</code> : 사용자 홈 디렉토리</li>
<li><code>/</code> : 루트 디렉토리</li>
<li><code>.</code> : 현재 디렉토리</li>
<li><code>..</code> : 이전 디렉토리</li>
</ul>
<h3 id="nvm-설치"><a href="#nvm-설치" class="headerlink" title="nvm 설치"></a>nvm 설치</h3><p>Linux &#x2F; MacOS는 다음 쉘 스크립을 실행해 설치한다.</p>
<p>curl 이용:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.4/install.sh | bash</span><br></pre></td></tr></table></figure>

<p>wget 이용:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.4/install.sh | bash</span><br></pre></td></tr></table></figure>

<p><em>install.sh</em> 스크립이 설치하는 nvm은 사용자 홈디렉토리 <code>~/.nvm</code> 에 설치된다. (이후 <em>$NVM_HOME</em>이라 하겠다)</p>
<blockquote>
<p><em>$NVM_HOME&#x2F;install.sh</em> 를 실행하면 업그레이드가 진행된다.</p>
</blockquote>
<p>설치후 <em>~&#x2F;.bash_profile</em>, <em>~&#x2F;.profile</em> 등의 프로파일에 <code>nvm.sh</code> 가 실행되도록 아래 스크립이 추가된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NVM_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/.nvm&quot;</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> ] &amp;&amp; . <span class="string">&quot;<span class="variable">$NVM_DIR</span>/nvm.sh&quot;</span> <span class="comment"># This loads nvm</span></span><br></pre></td></tr></table></figure>


<h4 id="Node-js-설치"><a href="#Node-js-설치" class="headerlink" title="Node.js 설치"></a>Node.js 설치</h4><p>원격 저장소의 node 목록</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nvm ls-remote</span><br><span class="line">nvm ls-remote v6        <span class="comment">#v6.x 버전만 검색</span></span><br></pre></td></tr></table></figure>

<p><code>nvm install</code> 은 해당 node version를 다운로드하고 설치한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v5          <span class="comment"># node version v5.x 버전중 최종버전</span></span><br></pre></td></tr></table></figure>

<p><code>nvm ls</code> 설치된 node 버전을 확인한다</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ nvm <span class="built_in">ls</span></span><br><span class="line">   v0.9.12</span><br><span class="line">   v0.11.0</span><br><span class="line">   v6.9.1</span><br><span class="line">current:    v6.9.1</span><br></pre></td></tr></table></figure>

<p><code>nvm use</code>로 사용할 node version을 지정한다 - 이것은 사용자의 <code>$PATH</code> 환경변수에 <code>node</code> 경로를 추가해준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nvm use 6.9.1       <span class="comment">#v6 버전을 사용한다.</span></span><br><span class="line">nvm use v7          <span class="comment">#v7 버전중 최종 버번을 선택한다.</span></span><br></pre></td></tr></table></figure>

<p><code>node</code> 경로를 제거하려면,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm deactivate</span><br></pre></td></tr></table></figure>


<p>로그인후 기본 node 환경으로 지정하려면</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm <span class="built_in">alias</span> default 6.9.1</span><br></pre></td></tr></table></figure>


<h4 id="lts-버전"><a href="#lts-버전" class="headerlink" title="lts 버전"></a>lts 버전</h4><p>Node.js 는 가용 버전이 장기지원을 위해서 <a target="_blank" rel="noopener" href="https://github.com/nodejs/Release">LTS(Long Term Support)</a> 프로그램을 진행하고 있다. 실제 운영 서버는 이런 LTS 버전을 중심으로 가동될 것이다. <strong>nvm</strong> 도 lts 만을 선별해서 설치하고 관리할 수 있다.</p>
<p>현재 LTS 버전중 최신버전만을 출력하려면,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm ls-remote --lts |grep Latest</span><br></pre></td></tr></table></figure>


<h4 id="전역-패키지-통합"><a href="#전역-패키지-통합" class="headerlink" title="전역 패키지 통합"></a>전역 패키지 통합</h4><p>nvm에서 새로운 node 버전을 설치하면서 기존 node 버전에서 사용중인 패키지를 통합해서 설치 할 수 있다.  예를 들어 최신 8 버전을 설치하며 사용중인 기존 6버전 패키지를 함께 설치하려면,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v8 --reinstall-packages-from=v8.0.1</span><br></pre></td></tr></table></figure>



<h4 id="Default-alias-잘-못-된-경우"><a href="#Default-alias-잘-못-된-경우" class="headerlink" title="Default alias 잘 못 된 경우"></a>Default alias 잘 못 된 경우</h4><p>새로 로그인 혹은 버전 변경시 다음 메시지 출력,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">N/A: version &quot;N/A -&gt; N/A&quot; is not yet installed.</span><br></pre></td></tr></table></figure>

<p>이 경우 가능성은 제거한 버전이 default 로 지정되서 그런듯 하다, 아래의 경우 default가 v8.7 인데 삭제해서 없기 때문이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ nvm ls</span><br><span class="line">-&gt;      v6.11.5</span><br><span class="line">        v7.10.1</span><br><span class="line">default -&gt; v8.7.0 (-&gt; N/A)</span><br><span class="line">node -&gt; stable (-&gt; v7.10.1) (default)</span><br><span class="line">stable -&gt; 7.10 (-&gt; v7.10.1) (default)</span><br><span class="line">iojs -&gt; N/A (default)</span><br><span class="line">lts/* -&gt; lts/boron (-&gt; v6.11.5)</span><br><span class="line">lts/argon -&gt; v4.8.5 (-&gt; N/A)</span><br><span class="line">lts/boron -&gt; v6.11.5</span><br></pre></td></tr></table></figure>

<p>그래서 default 를 설치된 버전으로 변경해서 지정해 주면 위 메시지가 나오지 않는다.</p>
<br/>
<br/>
### nodist

<p>Nodist 는 윈도우즈 환경에서 Nvm과 비슷하게 nodejs의 버전을 관리할 수 있다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/marcelklehr/nodist">https://github.com/marcelklehr/nodist</a></li>
<li>윈도우즈 인스톨러로 다운로드 가능.</li>
<li>git 혹은 zip 으로 다운로드 가능.</li>
</ul>
<h4 id="인스톨러로-설치시"><a href="#인스톨러로-설치시" class="headerlink" title="인스톨러로 설치시"></a>인스톨러로 설치시</h4><p><a target="_blank" rel="noopener" href="https://github.com/marcelklehr/nodist/releases">nodist releases</a> 에서 nodist 인스톨러를 다운받아 설치한다.</p>
<h4 id="git으로-설치"><a href="#git으로-설치" class="headerlink" title="git으로 설치"></a>git으로 설치</h4><p>윈도우즈 <code>git</code>으로 clone을 해오고, 윈도우의 환경설정 변수를 설정한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;git clone git://github.com/marcelklehr/nodist.git</span><br><span class="line">C:\&gt;setx /M PATH &quot;C:\users\thinkbee\nodist\bin;%PATH%&quot;</span><br><span class="line">C:\&gt;setx /M NODIST_PREFIX &quot;C:\users\thinkbee\nodist&quot;</span><br></pre></td></tr></table></figure>

<p>이제 <code>cmd</code>에서 <code>nodist</code>의 업데이트를 실행해주고 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;nodist selfupdate</span><br></pre></td></tr></table></figure>

<p>기타 다른 환경에서 설치 및 사용법은 <a target="_blank" rel="noopener" href="https://github.com/marcelklehr/nodist">nodist</a> 에서 확인한다.</p>
<hr>
<h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><p><code>npm</code> 은 nodejs 패키지 관리자로 선택한 모듈을 설치, 갱신 및 삭제할 수 있고, 스크립팅을 통해 프로세스 관리까지 할 수 있다.</p>
<h4 id="npm-init"><a href="#npm-init" class="headerlink" title="npm init"></a>npm init</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y[--yes]</span><br></pre></td></tr></table></figure>

<p>이렇게 생성된 package.json 은,</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;myproject&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>npm 으로 추가하는 모듈은 package.json에 의존성을 추가할 수 있다. <code>npm install --save</code> 별도의 플래그를 사용한다. 그리고 <code>--dev</code> 플래그를 주면 developer dependency에 추가해 준다.</p>
<h4 id="save"><a href="#save" class="headerlink" title="save"></a>save</h4><p>npm &lt; 5 이하 버전은 <code>-S</code> 혹은 <code>--save</code> 옵션으로 모듈 의존성을 <em>package.json</em> 에 추가한다.</p>
<p><code>node</code>를 설치후 <code>npm</code>을 업그레이드 해준다. npm 자체는 다음 같이 업그레이드 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g npm</span><br><span class="line">npm install npm@latest -g</span><br></pre></td></tr></table></figure>


<h4 id="Outdated-module"><a href="#Outdated-module" class="headerlink" title="Outdated module"></a>Outdated module</h4><p>현재 package.json 에 설치된 버전과 명시된 버전 그리고 최신 버전과 차이를 알 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm outdated</span><br><span class="line">Package                  Current  Wanted  Latest  Location</span><br><span class="line">body-parser               1.15.2  1.15.2  1.18.2  application-name</span><br><span class="line">debug                      0.7.4   0.7.4   3.1.0  application-name</span><br></pre></td></tr></table></figure>

<p>최신 버전으로 설치를 하려면 package.json을 버전코드로 변경하고 업데이트를 진행한다.</p>
<p>모든 패키지를 업데이트할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm update</span><br><span class="line">+ mongoose@4.13.1</span><br><span class="line">added 1 package, removed 4 packages and updated 2 packages in 32.975s</span><br></pre></td></tr></table></figure>

<p>특정 모듈만 업데이트하려면 패키지를 명시하면 된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update debug</span><br></pre></td></tr></table></figure>


<h4 id="npm-upgrade"><a href="#npm-upgrade" class="headerlink" title="npm upgrade"></a>npm upgrade</h4><p><code>node</code>를 설치후 <code>npm</code>을 업그레이드 해준다. npm 자체는 다음 같이 업그레이드 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g npm</span><br><span class="line">npm install npm@latest -g</span><br></pre></td></tr></table></figure>


<h4 id="Outdated-module-1"><a href="#Outdated-module-1" class="headerlink" title="Outdated module"></a>Outdated module</h4><p>현재 package.json 에 설치된 버전과 명시된 버전 그리고 최신 버전과 차이를 알 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm outdated</span><br><span class="line">Package                  Current  Wanted  Latest  Location</span><br><span class="line">body-parser               1.15.2  1.15.2  1.18.2  application-name</span><br><span class="line">debug                      0.7.4   0.7.4   3.1.0  application-name</span><br></pre></td></tr></table></figure>

<p>최신 버전으로 설치를 하려면 package.json을 버전코드로 변경하고 업데이트를 진행한다.<br>혹은 모든 패키지를 업데이트할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm update</span><br><span class="line">+ mongoose@4.13.1</span><br><span class="line">added 1 package, removed 4 packages and updated 2 packages in 32.975s</span><br></pre></td></tr></table></figure>


<h4 id="npm-in-vs-npm-up"><a href="#npm-in-vs-npm-up" class="headerlink" title="npm in vs. npm up"></a><code>npm in</code> vs. <code>npm up</code></h4><p>install 과 update는 package.json 에 명시된 버전에 대응해 실행된다.</p>
<ul>
<li>npm install installs all modules that are listed on package.json file and their dependencies.</li>
<li>npm update updates all packages in the node_modules directory and their dependencies.</li>
<li>npm install express installs only the express module and its dependencies.</li>
<li>npm update express updates the express module and its dependencies.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/12478679/npm-install-vs-update-whats-the-difference">stackoverflow: npm install vs update</a> 에 따르면 버전 관리에 따른 차이를 보인다.</p>
<p>개별 모듈만 업그레이드 하려면 <code>install @latest</code> 같이 사용한다. 다음 같이 npm outdated 로 프로젝트 버전 상태를 확인해 보면</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ npm outdated</span><br><span class="line">Package                     Current   Wanted      Latest  Location</span><br><span class="line">agenda                        0.9.0    0.9.1       1.0.3  www_app</span><br><span class="line">body-parser                  1.15.2   1.15.2      1.18.2  www_app</span><br><span class="line">charset                       1.0.0    1.0.1       1.0.1  www_app</span><br><span class="line">cheerio                      0.22.0   0.22.0  1.0.0-rc.2  www_app</span><br><span class="line">cookie-parser                 1.3.5    1.3.5       1.4.3  www_app</span><br><span class="line">debug                         2.2.0    2.2.0       3.1.0  www_app</span><br><span class="line">ejs                           2.5.7    2.5.8       2.5.8  www_app</span><br><span class="line">express                      4.14.1   4.14.1      4.16.3  www_app</span><br><span class="line">iconv                         2.2.1    2.3.0       2.3.0  www_app</span><br><span class="line">mongoose                     4.13.2  4.13.12      5.0.13  www_app</span><br><span class="line">morgan                        1.7.0    1.7.0       1.9.0  www_app</span><br><span class="line">multer                        1.2.0    1.3.0       1.3.0  www_app</span><br><span class="line">passport                      0.2.2    0.2.2       0.4.0  www_app</span><br><span class="line">passport-local-mongoose       1.3.0    1.3.0       5.0.0  www_app</span><br><span class="line">pug                      2.0.0-rc.4    2.0.3       2.0.3  www_app</span><br><span class="line">request                      2.83.0   2.85.0      2.85.0  www_app</span><br><span class="line">serve-favicon                 2.3.0    2.3.2       2.5.0  www_app</span><br></pre></td></tr></table></figure>

<p><code>i</code> 명령으로 현재 package.json에 명시된 버전이 설치된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm i mongoose</span><br><span class="line">+ mongoose@4.13.12</span><br><span class="line">updated 7 packages in 17.037s</span><br></pre></td></tr></table></figure>

<p>@latest 제한자로 최신 버전으로 업그레이드 할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm i mongoose@latest</span><br><span class="line">+ mongoose@5.0.13</span><br></pre></td></tr></table></figure>


<p>어쨌든 버전 갱신을 목적으로 하면 <code>npm i</code> 를 일반적으로 써도 무방하다. </p>
<h3 id="Process-management"><a href="#Process-management" class="headerlink" title="Process management"></a>Process management</h3><p>다음 <a href=""></a> 글로 좀더 깊은 내용으로 옮겼다.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-02-10T00:10:00.000Z" title="2016-2-10 9:10:00">2016-02-10</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2022-02-24T16:15:34.954Z" title="2022-2-25 1:15:34">2022-02-25</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">6분안에 읽기 (약 959 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/02/10/linux-2016-02-10-linux-x-forwarding/">Linux - X Forwarding</a></h1><div class="content"><p>SBC 보드 (raspberry pi, odroid c2 등)를 Terminal 기반으로 사용하려고 할 때 GUI에서 Programming을 확인해야 할 경우 X11, VNC 등을 이용할 수 있다. 여기서는 X Forwarding 기법을 정리하고 있다.</p>
<p>[^1]: Single Board Computer</p>
<h2 id="X11-Forwarding"><a href="#X11-Forwarding" class="headerlink" title="X11 Forwarding"></a>X11 Forwarding</h2><p><strong>X11</strong>은 유닉스&#x2F;리눅스의 전통적 데스크탑 프로토콜로 GUI 데스크탑 환경을 X11 Protocol을 사용해서 로컬 혹은 원격지 컴퓨터에서 이용할 수 있게 설계되어 있다.</p>
<h3 id="X-Windows-X-ming"><a href="#X-Windows-X-ming" class="headerlink" title="X Windows: X ming"></a>X Windows: X ming</h3><p>윈도우즈에서 <a target="_blank" rel="noopener" href="http://www.straightrunning.com/XmingNotes/pixming.php">X ming</a> 환경을 구축하면 X window system을 사용할 수 있다.</p>
<h3 id="X-client-MobaXterm"><a href="#X-client-MobaXterm" class="headerlink" title="X client: MobaXterm"></a>X client: MobaXterm</h3><p>윈도우 플랫폼은 다양한 X window 제품들이 있다. 최근 재미있게 사용해본 것으로 <a href="mobaxterm.mobatek.net">MobaXterm</a>이 있는데, 이 제품은 유료 제품으로 Trial 을 제공하고 있다. 특징적으로  Xserver와 SSH client를 내장하고 있어서 손쉽게 리눅스 제품과 연결해 사용할 수 있다.</p>
<p><img src="http://mobaxterm.mobatek.net/img/slider/RDP.png" alt="MobaXterm 이미지"></p>
<figcaption>[그림. MobaXterm 이미지]</figcaption>

<p>ssh를 이용해 X server에 접속하는 것 만으로도 X client 동작을 수행하고, 탭으로 구분한 ssh client 관리가 장점이며, sftp 를 이용해 서버측 파일을 브라우징 할 수 있는 장점이 있다.</p>
<ul>
<li>단, 기업용은 유료이므로 주의가 필요하다.</li>
</ul>
<br>
### macOS/Linux 데스크탑

<p>X Window를 지원하는 리눅스 데스크탑 혹은 맥오에스에서 <code>ssh</code>로 X11 Forwarding 사용할 수 있다.</p>
<p><img src="/images/linux/rpi-ssh-tunnel.png" alt="SSH와 X11 Tunnel 구조"></p>
<figcaption>[그림. SSH와 X11 Tunnel 구조]</figcaption>

<p>X forwarding을 활성화 해서 ssh를 연결하려면 <code>ssh -X</code> 옵션을 추가해서 접속한다. </p>
<h4 id="Mac에서-X11설정"><a href="#Mac에서-X11설정" class="headerlink" title="Mac에서 X11설정"></a>Mac에서 X11설정</h4><p><strong>Mac OS X</strong>는 OX X 10.5 이후 부터 X11을 포함하고 있지 않는다. Apple은 OS X의 X11을 더 개발하고 지원하기 위한 조직적인 노력으로 <strong>XQuartz 프로젝트</strong>를 만들었습니다. </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://support.apple.com/ko-kr/HT201341">https://support.apple.com/ko-kr/HT201341</a></li>
<li><a target="_blank" rel="noopener" href="http://xquartz.macosforge.org/">http://xquartz.macosforge.org</a></li>
</ul>
<p>XQuartz 를 설치해서 지원을 받아야 한다. xquartz 사이트에서 다운받아 설치한다.</p>
<p><img src="/images/linux/mac-xquartz-download.png" alt="macOS X: Download Xquartz"></p>
<figcaption>[그림. macOS X: Download Xquartz]</figcaption>


<p>설치후 맥에서 로그아웃후 로그인 하면 X11 관련 설정과 응용프로그램을 XQuartz 기반으로 사용할 수 있다.</p>
<h4 id="X11-Forwarding-설정"><a href="#X11-Forwarding-설정" class="headerlink" title="X11 Forwarding 설정"></a>X11 Forwarding 설정</h4><p>맥에서는 <code>sshd</code> 설정이 <em>&#x2F;private&#x2F;etc&#x2F;ssh&#x2F;sshd_config</em> 파일에 있다. 여기에 X11 client 요청을 허용하도록 <em>X11Forwarding</em>을 허용해야 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user@mac~$ sudo vi /private/etc/sshd_config</span><br></pre></td></tr></table></figure>

<p>내용중에서 <strong>X11Forwarding</strong>를 찾아 다음 같이 허용으로 저장한다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X11Forwarding yes</span><br></pre></td></tr></table></figure>

<p>마지막으로 Mac에서 외부에서 요청한 X11 연결을 허용해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user@mac~$ xhost +</span><br><span class="line">access control disabled, clients can connect from any host</span><br></pre></td></tr></table></figure>


<h4 id="X11-이용"><a href="#X11-이용" class="headerlink" title="X11 이용"></a>X11 이용</h4><p>이제 리눅스&#x2F;맥 클라이언트에서 원격 서버에 -X 옵션을 이용해서 로그인 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user@mac~$ ssh -X pi@192.168.1.10</span><br></pre></td></tr></table></figure>


<p>이제 원격지에서 X11 응용 프로그램을 실행해 보겠습니다. 다음은 X11 terminal 프로그램을 실행하면 Mac의 화면에 X11 terminal이 실행됩니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi ~ $ netsurf-gtk</span><br><span class="line">   OR</span><br><span class="line">pi@raspberrypi ~ $ lxterminal</span><br></pre></td></tr></table></figure>

<p>라즈베리파이의 xterminal 프로그램이 Mac 실행됩니다.</p>
<p><img src="/images/linux/ssh-x11-pi-xterm.png" alt="Ssh와 X Forwarding"></p>
<figcaption>[그림. Ssh와 X Forwarding]</figcaption>


<p>만약 다음 에러를 만나면 접속을 종료하고 Mac의 xhost 접속 허용을 다시 해주어야 한다. </p>
<blockquote>
<p>(lxterminal:20700): Gtk-WARNING **: cannot open display: localhost:10.0</p>
</blockquote>
<p>혹은 원격 서버에 로그인 없이 직접 실행할 수 있습니다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user@mac~$ ssh -X -f pi@192.168.1.205 lxterminal</span><br><span class="line">pi@192.168.1.205&#x27;s password:</span><br></pre></td></tr></table></figure>


<h4 id="기타-X11-App"><a href="#기타-X11-App" class="headerlink" title="기타 X11 App"></a>기타 X11 App</h4><p>xterminal 이외의 X11 앱을 사용하려면 다음 패키지를 설치해 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~ $ sudo apt install libnss3</span><br><span class="line">~ $ sudo apt install x11-apps</span><br></pre></td></tr></table></figure>

</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/Linux/page/2/">이전</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/categories/Linux/page/4/">다음</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/Linux/">1</a></li><li><a class="pagination-link" href="/categories/Linux/page/2/">2</a></li><li><a class="pagination-link is-current" href="/categories/Linux/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/qkboo_400.png" alt="Gangtai"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Gangtai</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Paju, South Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">56</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">15</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">103</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/thinkbee" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/gtko"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">링크</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.thinkbee.kr" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Thinkbee.kr</span></span><span class="level-right"><span class="level-item tag">www.thinkbee.kr</span></span></a></li></ul></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">업데이트 소식 받기</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="구독"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">25</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/NodeJS/"><span class="level-start"><span class="level-item">NodeJS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/NodeJS/"><span class="level-start"><span class="level-item">NodeJS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/NodeJS/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Photoshop/"><span class="level-start"><span class="level-item">Photoshop</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Angular/"><span class="level-start"><span class="level-item">Angular</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Angularjs/"><span class="level-start"><span class="level-item">Angularjs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Raspberry-Pi/"><span class="level-start"><span class="level-item">Raspberry Pi</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/Raspberry-Pi/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">10</span></span></a><ul><li><a class="level is-mobile" href="/categories/Raspberry-Pi/Linux/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/jekyll/"><span class="level-start"><span class="level-item">jekyll</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-24T20:50:12.225Z">2022-02-25</time></p><p class="title"><a href="/2022/02/25/hello-world/">blog.thinkbee.kr 이전 작업중입니다.</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-03-06T00:00:00.000Z">2020-03-06</time></p><p class="title"><a href="/2020/03/06/jekyll-2020-03-06-jekyll-mmtheme-macos/">macOS에서 Jekyll 설치와 Minimalmistake Theme</a></p><p class="categories"><a href="/categories/jekyll/">jekyll</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-02-02T09:00:00.000Z">2020-02-02</time></p><p class="title"><a href="/2020/02/02/linux-2020-02-02-letsencrypt%EB%B0%9C%EA%B8%89/">HTTPS를 위한 공인인증서 - Let&#039;s Encrypt 발급</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-12-20T03:00:00.000Z">2019-12-20</time></p><p class="title"><a href="/2019/12/20/linux-2019-12-20-mongodb-config/">MongoDB 구성 설정과 사용자 인증 사용</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Database/">Database</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-12-20T01:00:00.000Z">2019-12-20</time></p><p class="title"><a href="/2019/12/20/linux-2019-12-20-mongodb-4-2-install-arm64/">MongoDB Community Edition 4.2 설치 - ARM64 Ubuntu/Debian Armbian</a></p><p class="categories"><a href="/categories/Linux/">Linux</a> / <a href="/categories/Linux/Database/">Database</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">2월 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">3월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">2월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">12월 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">9월 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">10월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">8월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">7월 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">6월 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">12월 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/11/"><span class="level-start"><span class="level-item">11월 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">10월 2017</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">9월 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/07/"><span class="level-start"><span class="level-item">7월 2017</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/06/"><span class="level-start"><span class="level-item">6월 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">5월 2017</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/04/"><span class="level-start"><span class="level-item">4월 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">12월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/02/"><span class="level-start"><span class="level-item">2월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ARM/"><span class="tag">ARM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Armbian/"><span class="tag">Armbian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Artificial-Intelligence/"><span class="tag">Artificial Intelligence</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian/"><span class="tag">Debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian-Strech/"><span class="tag">Debian Strech</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JSON-Web-Token/"><span class="tag">JSON Web Token</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JWT-Toekn/"><span class="tag">JWT Toekn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LEAP-15-0/"><span class="tag">LEAP 15.0</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LEAP-42-3/"><span class="tag">LEAP 42.3</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Numpy/"><span class="tag">Numpy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Odroid/"><span class="tag">Odroid</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Odroid-C2/"><span class="tag">Odroid C2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Orange-Pi/"><span class="tag">Orange Pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi/"><span class="tag">Raspberry Pi</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspberry-Pi-3/"><span class="tag">Raspberry Pi 3</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Raspbian/"><span class="tag">Raspbian</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SD-Card/"><span class="tag">SD Card</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Scientific/"><span class="tag">Scientific</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TensorFlow/"><span class="tag">TensorFlow</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript-Tutorials/"><span class="tag">TypeScript Tutorials</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/X11/"><span class="tag">X11</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/amd64/"><span class="tag">amd64</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/angular4/"><span class="tag">angular4</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/angularjs/"><span class="tag">angularjs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apache/"><span class="tag">apache</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/arm64/"><span class="tag">arm64</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/armbian/"><span class="tag">armbian</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/banana-pi/"><span class="tag">banana pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bootstrap-4/"><span class="tag">bootstrap 4</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/brew/"><span class="tag">brew</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/certificate-ssl/"><span class="tag">certificate ssl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clipping-mask/"><span class="tag">clipping-mask</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/collages/"><span class="tag">collages</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cross-compiler/"><span class="tag">cross compiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debian/"><span class="tag">debian</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firewall/"><span class="tag">firewall</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firewalld/"><span class="tag">firewalld</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/https/"><span class="tag">https</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/install/"><span class="tag">install</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jasmine/"><span class="tag">jasmine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jekyll/"><span class="tag">jekyll</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter/"><span class="tag">jupyter</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter-notebook/"><span class="tag">jupyter notebook</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jupyter-notebook/"><span class="tag">jupyter-notebook</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/karma/"><span class="tag">karma</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/leap-15/"><span class="tag">leap 15</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/leap-42-3/"><span class="tag">leap 42.3</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lvm/"><span class="tag">lvm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lvm2/"><span class="tag">lvm2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macos/"><span class="tag">macos</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/markdown/"><span class="tag">markdown</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/micro-SD-Card/"><span class="tag">micro SD Card</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/middleware/"><span class="tag">middleware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongodb/"><span class="tag">mongodb</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongoose/"><span class="tag">mongoose</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs-tutorials/"><span class="tag">nodejs tutorials</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nvm/"><span class="tag">nvm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid/"><span class="tag">odroid</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid-c2/"><span class="tag">odroid c2</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/odroid-c2/"><span class="tag">odroid-c2</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openSUSE/"><span class="tag">openSUSE</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/opensuse/"><span class="tag">opensuse</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/opensuse-leap-15/"><span class="tag">opensuse leap 15</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/orange-pi/"><span class="tag">orange pi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/photoshop/"><span class="tag">photoshop</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/raspberry-pi/"><span class="tag">raspberry pi</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssl/"><span class="tag">ssl</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/synergy/"><span class="tag">synergy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tmux/"><span class="tag">tmux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ubuntu/"><span class="tag">ubuntu</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unit-testing/"><span class="tag">unit testing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/virtualenv/"><span class="tag">virtualenv</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/virtualenvwrapper/"><span class="tag">virtualenvwrapper</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webdav/"><span class="tag">webdav</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%8D%B0%EB%B9%84%EC%95%88/"><span class="tag">데비안</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%8D%B0%EC%9D%B4%EC%95%88/"><span class="tag">데이안</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4/"><span class="tag">라즈베리파이</span><span class="tag">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%9D%BC%EC%A6%88%EB%B9%84%EC%95%88/"><span class="tag">라즈비안</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/"><span class="tag">리눅스</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%A7%88%ED%81%AC%EB%8B%A4%EC%9A%B4/"><span class="tag">마크다운</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%A7%A5%EC%98%A4%EC%97%90%EC%8A%A4/"><span class="tag">맥오에스</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%B0%94%EB%82%98%EB%82%98%ED%8C%8C%EC%9D%B4/"><span class="tag">바나나파이</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EB%B0%A9%ED%99%94%EB%B2%BD/"><span class="tag">방화벽</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%98%A4%EB%A0%8C%EC%A7%80%ED%8C%8C%EC%9D%B4/"><span class="tag">오렌지파이</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9A%B0%EB%B6%84%ED%88%AC/"><span class="tag">우분투</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9B%B9%ED%86%A0%ED%81%B0/"><span class="tag">웹토큰</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/"><span class="tag">인공지능</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%A0%84%EC%9B%90%EA%B4%80%EB%A6%AC/"><span class="tag">전원관리</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC/"><span class="tag">파이썬</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%8C%EC%9D%B4%EC%96%B4%EC%9B%94/"><span class="tag">파이어월</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">광고</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1465716454138955" data-ad-slot="4883770640" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="구독"></div></div></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/thinkbee_logo.png" alt="Blogging through Programming" height="28"></a><p class="is-size-7"><span>&copy; 2022 Gangtai</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>