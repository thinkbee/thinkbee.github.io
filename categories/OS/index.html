<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>카테고리: OS - IT Tech blogging</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="thinkbee blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="thinkbee blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Machine learning, Deep learning, Python, Data science and Mobile Programming like Android"><meta property="og:type" content="website"><meta property="og:title" content="IT Tech blogging"><meta property="og:url" content="https://blog.thinkbee.kr/"><meta property="og:site_name" content="IT Tech blogging"><meta property="og:description" content="Machine learning, Deep learning, Python, Data science and Mobile Programming like Android"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://blog.thinkbee.kr/img/og_image.png"><meta property="article:author" content="Gangtai Goh"><meta property="article:tag" content="Machine learning, Deep learning, Python, Data science, Android, Ubuntu, Linux, macOS"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://blog.thinkbee.kr/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.thinkbee.kr"},"headline":"IT Tech blogging","image":["https://blog.thinkbee.kr/img/og_image.png"],"author":{"@type":"Person","name":"Gangtai Goh"},"publisher":{"@type":"Organization","name":"IT Tech blogging","logo":{"@type":"ImageObject","url":"https://blog.thinkbee.kr/images/thinkbee_logo.png"}},"description":"Machine learning, Deep learning, Python, Data science and Mobile Programming like Android"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark-reasonable.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-5ZH90CZ414" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-5ZH90CZ414');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><script data-ad-client="ca-pub-1465716454138955" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/thinkbee_logo.png" alt="IT Tech blogging" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Blog</a><a class="navbar-item" href="/documents">Doc</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">카테고리</a></li><li class="is-active"><a href="#" aria-current="page">OS</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-05-14T06:00:00.000Z" title="5/14/2023, 3:00:00 PM">2023-05-14</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-14T06:43:14.993Z" title="5/14/2023, 3:43:14 PM">2023-05-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Linux/">Linux</a></span><span class="level-item">7분안에 읽기 (약 1061 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/docker_cli_summary-84ee2a15f3e2/">Docker CLI 요약</a></p><div class="content"><p>docker cli 명령을 정리</p>
<p><img src='https://www.simplilearn.com/ice9/free_resources_article_thumb/DockerArchitecture_1.png' width=600 alt='docker architecture'> <a target="_blank" rel="noopener" href="https://www.simplilearn.com/tutorials/docker-tutorial/docker-architecture">이미지 소스</a></p>
<h2 id="docker-cli"><a href="#docker-cli" class="headerlink" title="docker cli"></a>docker cli</h2><p>docker cli는 <code>docker</code> 명령 뒤에 docker commands 로 도커를 제어한다. 그리고 대상 컨테이너를 지정하고 컨테이너에서 실행 할 수 있는 명령형식으로 구성되어 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker [docker commands] [container] [container <span class="built_in">command</span>] </span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/cli/">Use the Docker command line docker</a></p>
<h2 id="search-이미지-검색"><a href="#search-이미지-검색" class="headerlink" title="search 이미지 검색"></a>search 이미지 검색</h2><p>Docker hub에서 이미지를 검색한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search busybox</span><br></pre></td></tr></table></figure>

<p>Docker hub에서 상위 몇개 정도만 검색하고 싶을때 limit 옵션을 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search busybox --<span class="built_in">limit</span> 5</span><br></pre></td></tr></table></figure>

<p>Docker hub에서는 이미지 중 별점을 검색한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 최소 별정 50인 이미지</span></span><br><span class="line">docker search busybox --filter=stars=50</span><br><span class="line"></span><br><span class="line"><span class="comment"># 별점이 3인 이미지</span></span><br><span class="line">docker search --filter stars=50 busybox</span><br></pre></td></tr></table></figure>

<p>정규 빌드 버전만 지시하려면 <code>is-official</code> 옵션 사용</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker search --filter is-official=true --filter stars=50 busybox</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>--format</code> 옵션을 사용해 출력되는 내용을 필터링 할 수 있다. 다음은 별점만 출력하는 예이다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search --format &quot;&#123;&#123;.Name&#125;&#125;: &#123;&#123;.StarCount&#125;&#125;&quot; nginx</span><br></pre></td></tr></table></figure>


<h2 id="pull-이미지를-다운로드-한다"><a href="#pull-이미지를-다운로드-한다" class="headerlink" title="pull 이미지를 다운로드 한다"></a>pull 이미지를 다운로드 한다</h2><p>Docker image를 내려 받는다. 이미지 이름 뒤에 <code>:[version]</code> 을 붙이면 지정한 버전을 내려 받고, latest 를 붙이면 최신 버전을 대상으로 한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx:latest</span><br></pre></td></tr></table></figure>


<h2 id="images-다운로드-이미지"><a href="#images-다운로드-이미지" class="headerlink" title="images 다운로드 이미지"></a>images 다운로드 이미지</h2><p>Docker에서 다운로드 받는 이미지를 확인한다. docker images는 모든 이미지를 보여준다. </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker images</span></span><br></pre></td></tr></table></figure>


<p>특정 이미지만 지시할 수 있다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker images nginx</span></span><br></pre></td></tr></table></figure>

<h2 id="run-이미지를-컨테이너로-실행한다"><a href="#run-이미지를-컨테이너로-실행한다" class="headerlink" title="run 이미지를 컨테이너로 실행한다."></a>run 이미지를 컨테이너로 실행한다.</h2><p>Docker image를 컨테이너로 생성하고, 실행합니다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8080:8080 nginx</span><br></pre></td></tr></table></figure>

<p>옵션:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">`-p`: Local과 Container 와 port를 연결하는 옵션</span><br><span class="line">`-i`: interactive (대화방식)</span><br><span class="line">`-t`: Pseudo-tty (콘솔 및 터미널 환경)</span><br><span class="line">`— name`: 실행 컨테이너 이름을 지정합니다.</span><br><span class="line">`-d`: 백그라운드에서 실행되는 옵션입니다.</span><br></pre></td></tr></table></figure>

<p>docker image를 실행하고 bash 쉘을 연다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -i -t --name nginx nginx bash</span><br></pre></td></tr></table></figure>

<h2 id="ps-컨테이너-목록을-확인"><a href="#ps-컨테이너-목록을-확인" class="headerlink" title="ps 컨테이너 목록을 확인"></a>ps 컨테이너 목록을 확인</h2><p>Docker 컨테이너 목록을 확인합니다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker ps</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker ps -a</span></span><br></pre></td></tr></table></figure>

<p>옵션:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`-a` : 실행 중이 아닌 컨테이너까지 확인</span><br><span class="line">`-q` : 컨테이너의 CONTAINER ID 만 표시</span><br></pre></td></tr></table></figure>

<h2 id="start-컨테이너를-시작한다"><a href="#start-컨테이너를-시작한다" class="headerlink" title="start 컨테이너를 시작한다."></a>start 컨테이너를 시작한다.</h2><p>중단되어 있는 컨테이너를 실행합니다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker start nginx</span><br><span class="line">nginx</span><br></pre></td></tr></table></figure>


<h2 id="attach-컨테이너-연결"><a href="#attach-컨테이너-연결" class="headerlink" title="attach 컨테이너 연결"></a>attach 컨테이너 연결</h2><p>실행중인 Docker Container 의  standard input, output,  error streams 에 연결한다. </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker attach nginx</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/attach/">docker attach</a> 명령 사용 사례.</p>
<h2 id="exec-컨테이너-명령-실행"><a href="#exec-컨테이너-명령-실행" class="headerlink" title="exec 컨테이너 명령 실행"></a>exec 컨테이너 명령 실행</h2><p>Docker Container의 쉘의 명령어을 실행할 수 있다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec nginx ls</span><br></pre></td></tr></table></figure>

<p>옵션</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-d, --detach : 명령을 detach mode, 백그라운드로 실행</span><br><span class="line">-e, --env : 환경변수 설정하고 실행</span><br><span class="line">-it [SHELL]: iteractive tty 옵션. 사용할 shell을 지시한다, 보통  bash</span><br><span class="line">-u, --user: User ID, UID</span><br><span class="line">-w, --workdir: 작업 디렉토리 지정</span><br></pre></td></tr></table></figure>

<p>다음은 nginx 컨테이너의 bash 쉘을 실행한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it nginx bash</span><br></pre></td></tr></table></figure>

<p>다음은 nginx 컨테이너를 qkboo 사용자 쉘로 연결한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it -u qkboo nginx bash</span><br></pre></td></tr></table></figure>


<h2 id="inspect-컨테이너-상세-정보"><a href="#inspect-컨테이너-상세-정보" class="headerlink" title="inspect 컨테이너 상세 정보"></a>inspect 컨테이너 상세 정보</h2><p>Docker Container에 상세 정보를 확인 한다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect nginx</span><br></pre></td></tr></table></figure>

<p>옵션</p>
<p><code>--format</code> : 필터링</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect  --format=&#x27;&#123;&#123;range .NetworkSettings.Networks&#125;&#125;</span><br></pre></td></tr></table></figure>


<h2 id="stop-컨테이너-종료"><a href="#stop-컨테이너-종료" class="headerlink" title="stop 컨테이너 종료"></a>stop 컨테이너 종료</h2><p>ps 명령으로 실행중인 컨테이너 아이디와 이름을 확인하고 아이디를 준다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line"></span><br><span class="line">docker stop e417951d25fd</span><br></pre></td></tr></table></figure>


<p>이름으로 종료시  <code>--name</code> 옵션 사용</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop --name nginx2</span><br></pre></td></tr></table></figure>


<h2 id="rm-컨테이너를-삭제한다"><a href="#rm-컨테이너를-삭제한다" class="headerlink" title="rm 컨테이너를 삭제한다."></a>rm 컨테이너를 삭제한다.</h2><p>Docker Container 삭제합니다. 삭제할때는 실행 상태가 아닌 컨테이너만 가능합니다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm nginx</span><br></pre></td></tr></table></figure>

<p>강제 삭제시 <code>-f</code> 옵션 사용.</p>
<h2 id="rmi-이미지를-삭제한다"><a href="#rmi-이미지를-삭제한다" class="headerlink" title="rmi 이미지를 삭제한다."></a>rmi 이미지를 삭제한다.</h2><p>Docker image를 삭제 하는데 이미지가 중첩된 경우가 많기 때문에 링크 같이 untag 한 후 사용한다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/rmi/#examples">rim example</a></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker rmi fd484f19954f</span><br><span class="line"></span><br><span class="line">docker rmi test2:latest</span><br></pre></td></tr></table></figure>

<p>혹은 <code>-f</code> 옵션으로 중첩된 이미지를 모두 함께 삭제 할 수 있다.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi -f fd484f19954f</span><br></pre></td></tr></table></figure>


<hr>
<h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul>
<li><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/cli/">Use the Docker command line docker</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@jyson88/docker-cli-%EC%A0%95%EB%A6%AC-cb031c281e2f">Docker CLI 정리, blog</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-28T00:00:00.000Z" title="4/28/2023, 9:00:00 AM">2023-04-28</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-14T06:09:15.183Z" title="5/14/2023, 3:09:15 PM">2023-05-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Linux/">Linux</a></span><span class="level-item">7분안에 읽기 (약 1032 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/20230428-HTTPS_Private_SSL-4271241fb2d7/">HTTPS 를 위한 Private SSL</a></p><div class="content"><p>Web server certificates 과정</p>
<img src='https://ronnyvandenbroeck.files.wordpress.com/2019/10/web-server-certificate.png' width=600>


<h1 id="Securing-a-web-site-with-a-server-certificate-단계"><a href="#Securing-a-web-site-with-a-server-certificate-단계" class="headerlink" title="Securing a web site with a server certificate 단계"></a>Securing a web site with a server certificate 단계</h1><ol>
<li>비밀키를 생성한다.</li>
<li>비밀키로 CSR certificate siging requests 을 생성한다.</li>
<li>CSR 을 CA 로 사인한다.</li>
<li>사인한 CERT 를 받고 설치한다.</li>
</ol>
<h2 id="1-비밀키를-생성한다"><a href="#1-비밀키를-생성한다" class="headerlink" title="1. 비밀키를 생성한다."></a>1. 비밀키를 생성한다.</h2><p>rsa 를 사용해 4096크기 비밀키를 생성한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd /etc/ssl/private </span></span><br><span class="line"><span class="comment"># openssl genrsa -out my_rsa.key 4096</span></span><br><span class="line">Generating RSA private key, 4096 bit long modulus (2 primes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># chmod 0600 private/my_rsa.key</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chmod 0600 private/my_rsa.key</span></span><br></pre></td></tr></table></figure>


<h2 id="Public-Key-생성"><a href="#Public-Key-생성" class="headerlink" title="Public Key 생성"></a>Public Key 생성</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">명령: openssl rsa -in [private key 파일명] -pubout -out [파일명]</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># openssl rsa -in my_rsa.key -pubout -out my_rsa.pub </span></span><br></pre></td></tr></table></figure>



<h2 id="2-Create-a-CSR-certificate-signing-request-from-this-key"><a href="#2-Create-a-CSR-certificate-signing-request-from-this-key" class="headerlink" title="2. Create a CSR(certificate signing request) from this key,"></a>2. Create a CSR(certificate signing request) from this key,</h2><p>인증서 발급을 위한 필요한 정보를 담고 있는 인증서 신청서를 작성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">명령어 : openssl req -new -key [private key 파일명] -out [파일명]</span><br></pre></td></tr></table></figure>


<p>비밀키에서 CSR 파일 작성을 요청하면 아래 내용을 묻는다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># openssl req -new -sha256 -key ./my_rsa.key -out ./my_rsa.csr </span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># openssl req -new -key private.key -out private.csr</span></span><br></pre></td></tr></table></figure>

<p>인증서 발급을 위한 필요한 정보를 담고 있는 인증서 신청 형식 데이터 이다. </p>
<ul>
<li>Country Name (국가코드) 	 KR</li>
<li>State or Province Name (시&#x2F;도의 전체이름)	 Seoul</li>
<li>Locality Name (시&#x2F;군&#x2F;구 등의 이름)	 Songpa-gu </li>
<li>Organization (회사이름)	 XXXX</li>
<li>Organization Unit (부서명)	 Server</li>
<li>Common Name (SSL 인증서를 설치할 서버의 Full Domain)	 <a target="_blank" rel="noopener" href="http://www.xxxx.com/">www.xxxx.com</a><ul>
<li><ul>
<li>Common Name 에는 인증서를 설치할 사이트의 도메인의 이름을 넣어야 한다. (ip, port, http, https 포함불가능)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-CA-인증한-CRT-인증서-만들기"><a href="#4-CA-인증한-CRT-인증서-만들기" class="headerlink" title="4. CA 인증한 CRT 인증서 만들기"></a>4. CA 인증한 CRT 인증서 만들기</h2><p>CSR 을 CA에서 인증해 CRT 파일을 생성한다. 여기서는 비밀키와 CSR 요청서를 바탕으로 CRT 인증서를 생성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">명령어 : openssl req -x509 -days [기간] -key [private key 파일명] -in [csr 파일명] -out [파일명] -days [기간]</span><br></pre></td></tr></table></figure>

<p>x509 를 이용하고 365일 사용 가능한 crt 인증서를 생성한다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -x509 -days 365 -key my_rsa.key -<span class="keyword">in</span> my_rsa.csr -out my_rsa.crt -days 365</span><br></pre></td></tr></table></figure>

<p>생성한 혹은 CA에서 받은 CRT 파일은 아래 같이 확인해 볼 수 있다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -text -<span class="keyword">in</span> yourdomain.crt -noout</span><br></pre></td></tr></table></figure>

<h2 id="5-CRT-파일을-PEM-파일로-변환한다"><a href="#5-CRT-파일을-PEM-파일로-변환한다" class="headerlink" title="5. CRT 파일을 PEM 파일로 변환한다."></a>5. CRT 파일을 PEM 파일로 변환한다.</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl x509 -<span class="keyword">in</span> mycommoncrt.crt -out mycommonpem.pem -outform PEM </span><br></pre></td></tr></table></figure>


<h2 id="Tip-인증서-Config-파일-test-conf"><a href="#Tip-인증서-Config-파일-test-conf" class="headerlink" title="[Tip] 인증서 Config 파일 (test.conf)"></a>[Tip] 인증서 Config 파일 (test.conf)</h2><p>위에서 만들다 보면 계속 같은 내용을 써야 한다. 그래서 그 부분을 파일로 만들어 놓고 csr, crt 생성할때 사용하면 된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[req]</span><br><span class="line">default_bits = 2048</span><br><span class="line">prompt = no</span><br><span class="line">default_md = sha256</span><br><span class="line">req_extensions = req_ext</span><br><span class="line">distinguished_name = dn</span><br><span class="line"></span><br><span class="line">[dn]</span><br><span class="line">C=KR</span><br><span class="line">ST=Seoul</span><br><span class="line">L=Seoul</span><br><span class="line">O=COMPANY</span><br><span class="line">OU=DEV</span><br><span class="line">emailAddress=test@test.com</span><br><span class="line">CN = testmachine</span><br><span class="line"></span><br><span class="line">[req_ext]</span><br><span class="line">subjectAltName = @alt_names</span><br><span class="line"></span><br><span class="line">[alt_names]</span><br><span class="line">IP.1 = 111.111.111.111</span><br><span class="line">DNS.1 = test.com</span><br></pre></td></tr></table></figure>

<p>csr 을 생성한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -new -key private.key -out private.csr -config test.conf</span><br></pre></td></tr></table></figure>

<p>csr, crt 파일을 생성한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -x509 -days 365 -key private.key -<span class="keyword">in</span> private.csr -out mycommoncrt.crt -days 365 -config test.conf</span><br></pre></td></tr></table></figure>


<p>그리고 이렇게 해서 인증서를 만들었을때 subjectAltName 이 안들어간다 . 그 부분이 필요할 경우에는 이렇게 명령어를 사용하면 된다. </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl req -x509 -days 365 -key private.key -<span class="keyword">in</span> private.csr -out mycommoncrt.crt -days 365 -config test.conf -extensions req_ext</span><br></pre></td></tr></table></figure>


<h2 id="openssl-팁-몇가지"><a href="#openssl-팁-몇가지" class="headerlink" title="openssl 팁 몇가지"></a>openssl 팁 몇가지</h2><h3 id="CRT-파일-확인"><a href="#CRT-파일-확인" class="headerlink" title="CRT 파일 확인"></a>CRT 파일 확인</h3><p>openssl x509 -text -noout -in &lt;인증서파일&gt;  : 인증서 내용을 볼수 있다.</p>
<h3 id="Verifying-Your-Keys-Match"><a href="#Verifying-Your-Keys-Match" class="headerlink" title="Verifying Your Keys Match"></a>Verifying Your Keys Match</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openssl pkey -pubout -<span class="keyword">in</span> .\private.key | openssl sha256</span><br><span class="line">openssl req -pubkey -<span class="keyword">in</span> .\request.csr -noout | openssl sha256</span><br><span class="line">openssl x509 -pubkey -<span class="keyword">in</span> .\certificate.crt -noout | openssl sha256</span><br></pre></td></tr></table></figure>


<h1 id="NGINX-웹-서버-TLS-암호화-추가"><a href="#NGINX-웹-서버-TLS-암호화-추가" class="headerlink" title="NGINX 웹 서버 TLS 암호화 추가"></a>NGINX 웹 서버 TLS 암호화 추가</h1><p>개인키와 TLS 인증서 crt 파일을 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkdir /etc/nginx/tls/private</span><br><span class="line">$ mv my_rsa.key my_rsa.crt /etc/nginx/tls/private</span><br></pre></td></tr></table></figure>

<ol>
<li>개인 키는 &#x2F;etc&#x2F;nginx&#x2F;tls&#x2F;private&#x2F;my_rsa.key 파일에 저장됩니다.</li>
<li>개인 키 및 CSR(인증서 서명 요청) 생성 및 CA(인증 기관)에서 인증서 TLS 인증서는 <ul>
<li>&#x2F;etc&#x2F;nginx&#x2F;tls&#x2F;private&#x2F;example.com.crt 파일에 저장됩니다.</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen              443 ssl;</span><br><span class="line">    server_name         www.thinkbee.kr;</span><br><span class="line">    root                /home/qkboo/Home/www/thinkbee.kr/;</span><br><span class="line">    ssl_certificate     /etc/nginx/tls/private/my_rsa.crt;</span><br><span class="line">    ssl_certificate_key /etc/nginx/tls/private/my_rsa.key;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<br>

<h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ol>
<li><a target="_blank" rel="noopener" href="https://blog.ronnyvdb.net/2019/10/02/howto-install-company-signed-web-server-certificate/">Howto – Install a self signed web server certificate</a></li>
<li><a target="_blank" rel="noopener" href="https://www.digicert.com/kb/ssl-support/openssl-quick-reference-guide.htm">openssl quick reference guide</a></li>
<li><a target="_blank" rel="noopener" href="https://blusky10.tistory.com/352">Openssl로 SSL 을 위한 인증서 발급하기 (HTTPS),blog</a></li>
<li><a href="/2017/04/04/linux/2017-04-04-ubuntu-nginx-ssl/">Nginx - HTTPS and Certificate SSL,blog</a></li>
<li><a href="/2017/04/01/nodejs/nodejs-nginx/">NodeJS와 Nginx 웹 서버,blog</a></li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-05T00:00:00.000Z" title="4/5/2023, 9:00:00 AM">2023-04-05</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-14T06:06:19.743Z" title="5/14/2023, 3:06:19 PM">2023-05-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Linux/">Linux</a></span><span class="level-item">5분안에 읽기 (약 824 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/linux-disk-partition_format-a1ed845ba2be/">parted로 Partition, Format하기</a></p><div class="content"><p>새 디스크 &#x2F; USB 저장장치를 리눅스 계열에서 사용하고자 할 때.</p>
<h2 id="디스크-확인-lsblk"><a href="#디스크-확인-lsblk" class="headerlink" title="디스크 확인 lsblk"></a>디스크 확인 lsblk</h2><p>lsblk 명령은 디바이스 장치가 마운트 된 곳을 출력해 준다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NAME                      MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class="line">loop0                       7:0    0  63.3M  1 loop /snap/core20/1828</span><br><span class="line">loop1                       7:1    0  91.8M  1 loop /snap/lxd/23991</span><br><span class="line">sda                         8:0    0 119.2G  0 disk</span><br><span class="line">├─sda1                      8:1    0     1M  0 part</span><br><span class="line">├─sda2                      8:2    0     1G  0 part /boot</span><br><span class="line">└─sda3                      8:3    0 118.2G  0 part</span><br><span class="line">  └─ubuntu--vg-ubuntu--lv 253:0    0 118.1G  0 lvm  /</span><br></pre></td></tr></table></figure>

<p>새 디스크 장치(SSD, HDD, USB 등) 를 붙이고 다시 확인하면 새로운 디스크는 sd[a-z] 형식으로 표현된다.</p>
<blockquote>
<p>아래 sdb 는 현재 파티션이 1개 존재하는 상태이다.</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk</span><br><span class="line">NAME                      MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class="line">loop0                       7:0    0  63.3M  1 loop /snap/core20/1828</span><br><span class="line">loop1                       7:1    0  91.8M  1 loop /snap/lxd/23991</span><br><span class="line">sda                         8:0    0 119.2G  0 disk</span><br><span class="line">├─sda1                      8:1    0     1M  0 part</span><br><span class="line">├─sda2                      8:2    0     1G  0 part /boot</span><br><span class="line">└─sda3                      8:3    0 118.2G  0 part</span><br><span class="line">  └─ubuntu--vg-ubuntu--lv 253:0    0 118.1G  0 lvm  /</span><br><span class="line">sdb                         8:16   0 931.5G  0 disk</span><br><span class="line">└─sdb1                      8:17   0 931.5G  0 part</span><br></pre></td></tr></table></figure>

<p><strong>[USB 장치]</strong></p>
<p>USB 장치는 <code>mmcblk[0-9]</code> 형식으로 표시된다. 참고 <a href="/2019/07/12/raspberrypi/sdcard-mmcblk/">Raspberry Pi:mmcblk</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk</span><br><span class="line">NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda           8:0    0 119.2G  0 disk</span><br><span class="line">├─sda1        8:1    0  84.5G  0 part</span><br><span class="line">└─sda6        8:6    0  28.9G  0 part /</span><br><span class="line">mmcblk0     179:0    0   7.5G  0 disk</span><br><span class="line">├─mmcblk0p2 179:2    0   6.8G  0 part /media/qkboo/ROOT</span><br><span class="line">├─mmcblk0p3 179:3    0 486.1M  0 part</span><br><span class="line">└─mmcblk0p1 179:1    0   200M  0 part /media/qkboo/EFI</span><br></pre></td></tr></table></figure>


<h2 id="parted-사용"><a href="#parted-사용" class="headerlink" title="parted 사용"></a>parted 사용</h2><p>파티션 및 포맷을 위해 마운트된 파티션을 언마운트 한다. parted 는 상호작용 프롬프트에서 사용하거나 단일 명령어로 사용할 수 있다.</p>
<h3 id="parted-프롬프트-사용"><a href="#parted-프롬프트-사용" class="headerlink" title="parted 프롬프트 사용"></a>parted 프롬프트 사용</h3><p><strong>[ext4 파티션 생성]</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">sudo parted /dev/sdb</span><br><span class="line">(parted) <span class="built_in">print</span></span><br><span class="line">Number  Start   End     Size    File system  Name     Flags</span><br><span class="line"> 1      0.00GB  32.0GB  32.0GB</span><br><span class="line"></span><br><span class="line">(parted) mklabel gpt</span><br><span class="line">Warning: The existing disk label on /dev/sda will be destroyed and all data on</span><br><span class="line">this disk will be lost. Do you want to <span class="built_in">continue</span>?</span><br><span class="line">Yes/No? y</span><br><span class="line"></span><br><span class="line">(parted) unit GB</span><br><span class="line">(parted) mkpart primary 0 1000.0GB     <span class="comment">#디스크 크기 입력</span></span><br><span class="line"></span><br><span class="line">(parted) <span class="built_in">print</span></span><br><span class="line">Number  Start   End     Size    File system  Name     Flags</span><br><span class="line"> 1      0.00GB  32.0GB  32.0GB               primary  lvm</span><br><span class="line">(parted) quit</span><br></pre></td></tr></table></figure>


<p><strong>[fat32 파티션 생성]</strong></p>
<p>USB 스토리지는 아래 같이 나타난다. 다음은 USB 파티션에 fat32 파일시스템을 프롬프트로 생성하고 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo parted /dev/mmcblk0</span><br><span class="line">(parted) mklabel msdos</span><br><span class="line">(parted) mkpart primary fat32 1MiB 100%</span><br><span class="line">(parted) <span class="built_in">set</span> 1 boot on</span><br><span class="line">(parted) quit</span><br></pre></td></tr></table></figure>



<h3 id="쉘에서-parted-명령-사용"><a href="#쉘에서-parted-명령-사용" class="headerlink" title="쉘에서 parted 명령 사용"></a>쉘에서 parted 명령 사용</h3><p>parted 를 쉘 명령으로 사용해 단계별로 파티션을 생성할 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo parted /dev/mmcblk0 <span class="built_in">rm</span> 1</span><br><span class="line">sudo parted /dev/mmcblk0 <span class="built_in">rm</span> 2</span><br><span class="line">sudo parted /dev/sdc mkpart primary ext3 4MiB 100%</span><br></pre></td></tr></table></figure>


<h2 id="Format-Mount-amp-fstab"><a href="#Format-Mount-amp-fstab" class="headerlink" title="Format, Mount &amp; fstab"></a>Format, Mount &amp; fstab</h2><p>생성한 파티션에 시스템 지원 파일 시스템을 생성해야 한다. 해당 파일 시스템으로 파티션을 포맷한 후에 지정한 디렉토리에 마운트를 해서 사용하면 된다. 지속적인 사용을 위해서 <code>/etc/fstab</code> 에 파티션을 마운트 포인트로 등록하면 재시동 후에도 동일한 폴더에 마운트 된다.</p>
<h3 id="mkfs"><a href="#mkfs" class="headerlink" title="mkfs"></a>mkfs</h3><p>mkfs 명령은 파일 시스템에 따랴서 <code>-t</code> 옵션에 파일시스템을 지시하거나 <code>mkfs.[FS]</code> 형식을 명령을 바로 쓰기도 한다.</p>
<p>다음을 sdb1 파티션을 ext4 로 포맷하고 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs -t ext4 /dev/sdb1</span><br></pre></td></tr></table></figure>


<p><strong>[USB vfat 파일시스템 생성]</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs -V -t vfat /dev/mmcblk0p1</span><br></pre></td></tr></table></figure>

<h3 id="fstab-에-등록"><a href="#fstab-에-등록" class="headerlink" title="fstab 에 등록"></a>fstab 에 등록</h3><p>&#x2F;etc&#x2F;fstab 에 새로 포맷한 디스크 경로를 추가 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># HDD</span><br><span class="line">/dev/sdb1           /Home2 ext4 defaults 0 1</span><br><span class="line"></span><br><span class="line"># USB LV volume</span><br><span class="line">/dev/vg_usb/dbvol   /data ext4 defaults 0 1</span><br><span class="line">/dev/vg_usb/workvol /home/pi/work ext4 defaults 0 1</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul>
<li><a href="/2019/07/12/raspberrypi/sdcard-mmcblk/">Raspberry Pi:mmcblk, qkboo</a></li>
<li><a href="/2016/12/20/raspberrypi/sdcard-usage/">SD Card 포맷 및 디스크 이미지 사용하기, qkboo</a></li>
<li><a href="/2017/04/03/linux/2017-04-03-odroid-lvm2/">Linux LVM2,qkboo</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-01-25T06:00:00.000Z" title="1/25/2023, 3:00:00 PM">2023-01-25</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-02-13T07:00:27.515Z" title="2/13/2023, 4:00:27 PM">2023-02-13</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Windows/">Windows</a></span><span class="level-item">10분안에 읽기 (약 1497 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/wsl2-usage-2b45762ab581/">WSL2 잘 사용하기</a></p><div class="content"><p>WSL2 이용 Linux 사용시 쓸만한 팁</p>
<ol>
<li>wsl 사용 명령</li>
<li>wsl 하위 시스템 디렉토리</li>
<li>wsl 구성 파일</li>
<li>wsl 외부 디스크 마운트 하기</li>
</ol>
<br>

<h1 id="1-wsl-사용-명령"><a href="#1-wsl-사용-명령" class="headerlink" title="1. wsl 사용 명령"></a>1. wsl 사용 명령</h1><h4 id="윈도우즈-하위-시스템-목록"><a href="#윈도우즈-하위-시스템-목록" class="headerlink" title="윈도우즈 하위 시스템 목록"></a>윈도우즈 하위 시스템 목록</h4><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Linux용 Windows 하위 시스템의 목록</span></span><br><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">-l</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#  Linux용 Windows 하위 시스템의 상태를 표시</span></span><br><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">--status</span></span><br></pre></td></tr></table></figure>

<h4 id="윈도우즈-하위-시스템-리셋"><a href="#윈도우즈-하위-시스템-리셋" class="headerlink" title="윈도우즈 하위 시스템 리셋"></a>윈도우즈 하위 시스템 리셋</h4><p>하위 시스템 배포본을 지정해 종료한다.</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">-l</span></span><br><span class="line">Ubuntu<span class="literal">-20</span>.<span class="number">04</span>(기본값)</span><br><span class="line"></span><br><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">-t</span> Ubuntu<span class="literal">-20</span>.<span class="number">04</span></span><br></pre></td></tr></table></figure>

<h4 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h4><p>모든 하위 시스템을 종료 시키려면 <code>--shutdown</code> 명령을 사용한다. <code>--shutdown</code> 명령은 실행 중인 모든 배포과 WSL 2 경량 유틸리티 가상 머신을 즉시 종료한다.</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">--shutdown</span></span><br></pre></td></tr></table></figure>


<h1 id="2-Windows-하위-시스템-디렉토리"><a href="#2-Windows-하위-시스템-디렉토리" class="headerlink" title="2. Windows 하위 시스템 디렉토리"></a>2. Windows 하위 시스템 디렉토리</h1><p>윈도우즈와 하위 시스템의 디렉토리를 </p>
<h3 id="탐색기에서-직접-접근하기"><a href="#탐색기에서-직접-접근하기" class="headerlink" title="탐색기에서 직접 접근하기"></a>탐색기에서 직접 접근하기</h3><p>윈도우즈에서 네트워크 경로로 WSL 하위 시스템 디렉토리를 접근할 수 있다. </p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\\wsl<span class="variable">$</span>\&lt;Distribution&gt;:</span><br></pre></td></tr></table></figure>

<p>예를 들어 하위 시스템 이름이 Ubuntu-20.04 이고 계정이 qkboo 이라면 탐색기에서 qkboo 계정의 홈디렉토리를 이렇게 접그할 수 있다.</p>
<figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\\wsl<span class="variable">$</span>\Ubuntu<span class="literal">-20</span>.<span class="number">04</span>\home\qkboo</span><br></pre></td></tr></table></figure>

<p>아래는 윈도우즈 탐색기에서 wsl 홈디렉토리를 접근한 캡쳐 화면인다.</p>
<img src='/images/programming/wsl-home-dir.png'>



<h3 id="터미널에서-홈디렉토리-탐색기-열기"><a href="#터미널에서-홈디렉토리-탐색기-열기" class="headerlink" title="터미널에서 홈디렉토리 탐색기 열기"></a>터미널에서 홈디렉토리 탐색기 열기</h3><p>터미널에서 윈도우즈 탐색기를 직접 열 수 있다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ explorer.exe .</span><br></pre></td></tr></table></figure>




<h1 id="3-WSL-고급-설정-구성"><a href="#3-WSL-고급-설정-구성" class="headerlink" title="3. WSL 고급 설정 구성"></a>3. WSL 고급 설정 구성</h1><p>배포본 구성 파일 wsl.conf 와 전역 구성 파일 .wslconfig 이 있다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ko-kr/windows/wsl/wsl-config">wsl config file</a></li>
</ul>
<h3 id="전역-구성-파일-wslconfig"><a href="#전역-구성-파일-wslconfig" class="headerlink" title="전역 구성 파일 .wslconfig"></a>전역 구성 파일 <code>.wslconfig</code></h3><ul>
<li>위치: <code>C:\Users\&lt;UserName&gt;\.wslconfig</code></li>
<li>커널</li>
<li>메모리 크기</li>
<li>프로세서 개수</li>
<li>스왑</li>
<li>디버그 콘솔 등등.</li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ko-kr/windows/wsl/wsl-config#wslconfig">https://learn.microsoft.com/ko-kr/windows/wsl/wsl-config#wslconfig</a></li>
</ul>
<p>wslconfig 예제 파일</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Settings apply across all Linux distros running on WSL 2</span></span><br><span class="line">[wsl2]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Limits VM memory to use no more than 4 GB, this can be set as whole numbers using GB or MB</span></span><br><span class="line">memory=4GB </span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets the VM to use two virtual processors</span></span><br><span class="line">processors=2</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify a custom Linux kernel to use with your installed distros. The default kernel used can be found at https://github.com/microsoft/WSL2-Linux-Kernel</span></span><br><span class="line">kernel=C:\\temp\\myCustomKernel</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets additional kernel parameters, in this case enabling older Linux base images such as Centos 6</span></span><br><span class="line">kernelCommandLine = vsyscall=<span class="built_in">emulate</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets amount of swap storage space to 8GB, default is 25% of available RAM</span></span><br><span class="line">swap=8GB</span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets swapfile path location, default is %USERPROFILE%\AppData\Local\Temp\swap.vhdx</span></span><br><span class="line">swapfile=C:\\temp\\wsl-swap.vhdx</span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable page reporting so WSL retains all allocated memory claimed from Windows and releases none back when free</span></span><br><span class="line">pageReporting=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Turn off default connection to bind WSL 2 localhost to Windows localhost</span></span><br><span class="line">localhostforwarding=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disables nested virtualization</span></span><br><span class="line">nestedVirtualization=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Turns on output console showing contents of dmesg when opening a WSL 2 distro for debugging</span></span><br><span class="line">debugConsole=<span class="literal">true</span></span><br></pre></td></tr></table></figure>


<h3 id="배포본-구성-파일-wsl-conf"><a href="#배포본-구성-파일-wsl-conf" class="headerlink" title="배포본 구성 파일 wsl.conf"></a>배포본 구성 파일 <code>wsl.conf</code></h3><ul>
<li>위치: <code>/etc/wsl.conf</code></li>
<li>wsl1, wsl2 배포본에 대한 구성을 지정한다.</li>
<li>단, Windows 빌드 17093 이상에서만 사용할 수 있다.</li>
<li>systemd 지원</li>
<li>automount 지원<br>DrvFS 지원<br>interop 설정 등등</li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/ko-kr/windows/wsl/wsl-config#configuration-settings-for-wslconf">wsl.conf 구성 설정</a></li>
</ul>
<p>wsl.conf 예제</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Automatically mount Windows drive when the distribution is launched</span></span><br><span class="line">[automount]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to true will automount fixed drives (C:/ or D:/) with DrvFs under the root directory set above. Set to false means drives won&#x27;t be mounted automatically, but need to be mounted manually or with fstab.</span></span><br><span class="line">enabled = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets the directory where fixed drives will be automatically mounted. This example changes the mount location, so your C-drive would be /c, rather than the default /mnt/c. </span></span><br><span class="line">root = /</span><br><span class="line"></span><br><span class="line"><span class="comment"># DrvFs-specific options can be specified.  </span></span><br><span class="line">options = <span class="string">&quot;metadata,uid=1003,gid=1003,umask=077,fmask=11,case=off&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sets the `/etc/fstab` file to be processed when a WSL distribution is launched.</span></span><br><span class="line">mountFsTab = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Network host settings that enable the DNS server used by WSL 2. This example changes the hostname, sets generateHosts to false, preventing WSL from the default behavior of auto-generating /etc/hosts, and sets generateResolvConf to false, preventing WSL from auto-generating /etc/resolv.conf, so that you can create your own (ie. nameserver 1.1.1.1).</span></span><br><span class="line">[network]</span><br><span class="line">hostname = DemoHost</span><br><span class="line">generateHosts = <span class="literal">false</span></span><br><span class="line">generateResolvConf = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set whether WSL supports interop process like launching Windows apps and adding path variables. Setting these to false will block the launch of Windows processes and block adding $PATH environment variables.</span></span><br><span class="line">[interop]</span><br><span class="line">enabled = <span class="literal">false</span></span><br><span class="line">appendWindowsPath = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the user when launching a distribution with WSL.</span></span><br><span class="line">[user]</span><br><span class="line">default = DemoUser</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set a command to run when a new WSL instance launches. This example starts the Docker container service.</span></span><br><span class="line">[boot]</span><br><span class="line"><span class="built_in">command</span> = service docker start</span><br></pre></td></tr></table></figure>

<br>

<h1 id="4-wsl-외부-디스크-마운트-하기"><a href="#4-wsl-외부-디스크-마운트-하기" class="headerlink" title="4. wsl 외부 디스크 마운트 하기"></a>4. wsl 외부 디스크 마운트 하기</h1><p>윈도우즈 wsl 에서 리눅스 파티션 혹은 USB 파티션 디스크를 마운트해서 사용하려고 한다.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/windows/wsl/wsl2-mount-disk">https://learn.microsoft.com/en-us/windows/wsl/wsl2-mount-disk</a></li>
</ul>
<ol>
<li>관리자 모드에서 Powershell 을 연다.</li>
</ol>
<p>파워쉘에서 연결된 디스크 목록을 확인한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span>&gt; <span class="built_in">GET-CimInstance</span> <span class="literal">-query</span> <span class="string">&quot;SELECT * from Win32_DiskDrive&quot;</span></span><br><span class="line"></span><br><span class="line">DeviceID           Caption                         Partitions Size          Model</span><br><span class="line"><span class="literal">--------</span>           <span class="literal">-------</span>                         <span class="literal">----------</span> <span class="literal">----</span>          <span class="literal">-----</span></span><br><span class="line">\\.\PHYSICALDRIVE0 ST2000DM008<span class="literal">-2FR102</span>              <span class="number">1</span>          <span class="number">2000396321280</span> ST2000DM008<span class="literal">-2FR102</span></span><br><span class="line">\\.\PHYSICALDRIVE1 WDS500G3X0C<span class="literal">-00SJG0</span>              <span class="number">4</span>          <span class="number">500105249280</span>  WDS500G3X0C<span class="literal">-00SJG0</span></span><br><span class="line">\\.\PHYSICALDRIVE2 ATA HGST HTS721010A9 USB Device <span class="number">1</span>          <span class="number">1000202273280</span> ATA HGST HTS721010A9...</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>관리자 모드 PowerShell 에서 마운트할 Device ID를 마운트 한다.</li>
</ol>
<p><code>--bare</code> 를 사용해 마운트 여부를 확인할 수 있다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">--mount</span> \\.\PHYSICALDRIVE2 <span class="literal">--bare</span></span><br></pre></td></tr></table></figure>


<ol start="3">
<li>WSL 리눅스 터미널에서 디스크를 확인한다.</li>
</ol>
<p>아래 같이 마운트를 실행한다.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">--mount</span> \\.\PHYSICALDRIVE2 <span class="literal">-type</span> ext4</span><br><span class="line">디스크가 <span class="string">&#x27;/mnt/wsl/PHYSICALDRIVE2&#x27;</span>(으)로 탑재되었습니다.</span><br><span class="line">참고: /etc/wsl.conf에서 automount.root 설정을 수정한 경우 위치가 달라집니다.</span><br><span class="line">디스크를 분리하고 분리하려면 <span class="string">&#x27;wsl.exe --unmount \\.\PHYSICALDRIVE2&#x27;</span>을 실행하십시오.</span><br></pre></td></tr></table></figure>

<p>파티션을 마운트 한다면</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span>&gt; wsl <span class="literal">--mount</span> \\.\PHYSICALDRIVE2 <span class="literal">-p</span> <span class="number">1</span>   <span class="comment"># partition 1</span></span><br><span class="line">디스크가 <span class="string">&#x27;/mnt/wsl/PHYSICALDRIVE2p1&#x27;</span>(으)로 탑재되었습니다.</span><br><span class="line">참고: /etc/wsl.conf에서 automount.root 설정을 수정한 경우 위치가 달라집니다.</span><br><span class="line">디스크를 분리하고 분리하려면 <span class="string">&#x27;wsl.exe --unmount \\.\PHYSICALDRIVE2&#x27;</span>을 실행하십시오.</span><br></pre></td></tr></table></figure>


<p>연결된 디스크가 sdd 에 표시된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~$ lsblk</span><br><span class="line">NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda      8:0    0 363.1M  1 disk</span><br><span class="line">sdb      8:16   0     8G  0 disk [SWAP]</span><br><span class="line">sdc      8:32   0   256G  0 disk /mnt/wslg/distro</span><br><span class="line">sdd      8:48   0 931.5G  0 disk</span><br><span class="line">└─sdd1   8:49   0 931.5G  0 part</span><br></pre></td></tr></table></figure>

<p>어떠 파일 시스템인지 확인하려면 lsblk -f 명령을 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">~$ lsblk -f</span><br><span class="line">NAME   FSTYPE LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINT</span><br><span class="line">sda    ext4</span><br><span class="line">sdb    swap         44bcbb9a-3a2c-44db-99e4-9c14dec69098                [SWAP]</span><br><span class="line">sdc    ext4         3255683f-53a2-4fdf-91cf-b4c1041e2a62  159.1G    32% /mnt/wslg/distro</span><br><span class="line">sdd</span><br><span class="line">└─sdd1 ext4         9b3c51ab-a49b-41c7-a105-fb9d47a86476</span><br><span class="line">(3.11.1)qkboo@desktop-goyangi:~$</span><br></pre></td></tr></table></figure>

<p>df 명령으로 확인해 보자,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">s$ <span class="built_in">df</span> -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">none             16G  4.0K   16G   1% /mnt/wsl</span><br><span class="line">drivers         465G  397G   69G  86% /usr/lib/wsl/drivers</span><br><span class="line">none             16G     0   16G   0% /usr/lib/wsl/lib</span><br><span class="line">/dev/sdc        251G   80G  160G  34% /</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/dev/sdd1       917G  852G   19G  98% /mnt/wsl/PHYSICALDRIVE2p1</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-10-10T00:00:00.000Z" title="10/10/2022, 9:00:00 AM">2022-10-10</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-12T07:40:09.091Z" title="5/12/2023, 4:40:09 PM">2023-05-12</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Windows/">Windows</a></span><span class="level-item">3분안에 읽기 (약 377 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Win-Powershell_ssh_server-efe30db39ed6/">Windows Powershell: 관리자 administrator 계정 활성화와 Openssh 서버 활성화</a></p><div class="content"><p>외부에서 원격접속해서 관리자 명령을 실행하려면 관리자 권한이 필요하다. 윈도우 파워쉘에서 openssh 설치하고 시작&#x2F;재시작 등의 작업을 위해서는 administrator 계정이 활성화 되어야 한다.</p>
<ol>
<li>openssh windows server 설치</li>
<li>administrator 계정 활성화</li>
<li>원격 ssh 접속</li>
</ol>
<blockquote>
</blockquote>
<h2 id="Powershell-Openssh-설치"><a href="#Powershell-Openssh-설치" class="headerlink" title="Powershell Openssh 설치"></a>Powershell Openssh 설치</h2><p>윈도우 파워쉘에서 openssh 설치</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/ko-kr/windows-server/administration/openssh/openssh_install_firstuse">https://docs.microsoft.com/ko-kr/windows-server/administration/openssh/openssh_install_firstuse</a></li>
</ul>
<h2 id="administrator-계정"><a href="#administrator-계정" class="headerlink" title="administrator 계정"></a><code>administrator</code> 계정</h2><p>명령행을 관리자 권한으로 실행하고 아래 명령 수행. 어드민 계정이 활성화 상태로 변경됩니다.<br>어드민 계정이 활성화되어 있기 때문에 Administrator 계정으로 로그인이 가능해집니다.</p>
<h2 id="윈도우즈-administrator-활성화"><a href="#윈도우즈-administrator-활성화" class="headerlink" title="윈도우즈 administrator 활성화"></a>윈도우즈 administrator 활성화</h2><p>administrator 게정을 활성화 하려면</p>
<ol>
<li>파웨쉘을 관리자로 실행해 다음 같이 실행한다.</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; net user administrator /active:yes</span><br></pre></td></tr></table></figure>

<p>패스워드 변경은 사용자 계정 변경에서 ‘다른 계정 관리’</p>
<img src='https://i.imgur.com/Uugt5CA.png'>

<ol start="2">
<li>관리자 권한으로 실행할 명령 앞에 <code>runas</code> 명령을 붙여 실행한다.</li>
</ol>
<p>파워쉘에서 관리자로 명령을 실행하려면 <code>runas</code> 명령을 사용한다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runas.exe /savecred /user:administrator <span class="string">&quot;%sysdrive%\testScripts\testscript1.ps1&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
</blockquote>
<hr>
<h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ol>
<li>openssh 서버 구성: <a target="_blank" rel="noopener" href="https://docs.microsoft.com/ko-kr/windows-server/administration/openssh/openssh_server_configuration">https://docs.microsoft.com/ko-kr/windows-server/administration/openssh/openssh_server_configuration</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/ko-kr/powershell/scripting/learn/remoting/ssh-remoting-in-powershell-core?view=powershell-7.1">https://docs.microsoft.com/ko-kr/powershell/scripting/learn/remoting/ssh-remoting-in-powershell-core?view=powershell-7.1</a></li>
<li>윈도우즈 서비스 만들기: <a target="_blank" rel="noopener" href="https://docs.microsoft.com/ko-kr/dotnet/framework/windows-services/walkthrough-creating-a-windows-service-application-in-the-component-designer">https://docs.microsoft.com/ko-kr/dotnet/framework/windows-services/walkthrough-creating-a-windows-service-application-in-the-component-designer</a></li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-02-02T09:00:00.000Z" title="2/2/2020, 6:00:00 PM">2020-02-02</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-14T06:14:22.603Z" title="5/14/2023, 3:14:22 PM">2023-05-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Linux/">Linux</a></span><span class="level-item">16분안에 읽기 (약 2336 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/Lets_Encrypt%EB%B0%9C%EA%B8%89-c616baa21b02/">HTTPS를 위한 공인인증서 - Let&#039;s Encrypt 발급</a></p><div class="content"><blockquote>
<p>2020-06-02: 매뉴얼 방식 수정<br><br>2020-02-02: 최초 작성<br>{:.right-history}</p>
</blockquote>
<p>Nginx 서버에서 HTTPS 사용할 수 있는 공인인증서를 발급해 설치하려고 한다.</p>
<ul>
<li>여기서는 Lets Encrypt 무료 공인인증서 발급을 다룬다.</li>
<li>letsecrypt 공인인증서는 3개월 정도 기간만 사용 가능하고 갱신해야 한다.</li>
<li>**<em>단독 도메인을 호스팅하는 개인 서버에서 Nginx</em>**에 적용해 본다.</li>
</ul>
<p>인증서는 <strong>개별 도메인</strong> 혹은 <strong>와일드카드 인증서</strong> 로 도메인 안의 모든 호스트를 포함하는 두 종류로 발급이 가능하다.</p></div><a class="article-more button is-small is-size-7" href="/Lets_Encrypt%EB%B0%9C%EA%B8%89-c616baa21b02/#more">자세히 보기</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2019-12-10T00:00:00.000Z" title="12/10/2019, 9:00:00 AM">2019-12-10</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-14T06:09:40.803Z" title="5/14/2023, 3:09:40 PM">2023-05-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Linux/">Linux</a></span><span class="level-item">8분안에 읽기 (약 1129 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/firewalld-92b3fc2b8647/">openSUSE: firewalld</a></p><div class="content"><p><strong>firewalld</strong> 를 이용해서 방화벽을 구성해 보자.</p>
<ul>
<li>RedHat, Ubuntu, OpenSUSE LEAP 15.0 등은 시스템 기본 파이어월 관리자로 firewalld 를 제공한다고 한다.</li>
</ul>
<h2 id="firewalld"><a href="#firewalld" class="headerlink" title="firewalld"></a>firewalld</h2><p>firewalld 는 ….</p>
<p>firewalld는 ufw 처럼 <code>iptables</code> 을 구성할 수 있다.</p>
<p><img src="https://access.redhat.com/webassets/avalon/d/Red_Hat_Enterprise_Linux-7-Security_Guide-en-US/images/eee9192950e07b21f5c95b3ced63ae09/RHEL_Security-Guide_453350_0717_ECE_firewalld-comparison-rhel7.png"></p>
<figure>[그림. Firewall Stack (redhat.com)]</figure>

<p>네트워크를 지역 관리가 가능해서 다른 네트워크, 지역에 따라 다른 규칙으로 구성해서 사용할 수 있다.<br>For example “Home” and “Office” where all communications with local machines are allowed, and “Public Wi-Fi” where no communication with the same subnet would be allowed.</p>
<p><a target="_blank" rel="noopener" href="https://www.ctrl.blog/entry/ufw-vs-firewalld">https://www.ctrl.blog/entry/ufw-vs-firewalld</a></p>
<h3 id="firewalld-설치"><a href="#firewalld-설치" class="headerlink" title="firewalld 설치"></a>firewalld 설치</h3><p>OpenSUSE LEAP 15.0, RedHat, Ubuntu 등은 시스템 기본 파이어월 관리자로 firewalld 를 제공한다고 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install firewalld</span><br></pre></td></tr></table></figure>

<h3 id="Start-firewalld"><a href="#Start-firewalld" class="headerlink" title="Start firewalld"></a>Start <code>firewalld</code></h3><p>To start firewalld, enter the following command as root:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start firewalld</span><br></pre></td></tr></table></figure>

<p>root 사용자로 시작한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable firewalld</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>

<p>For more information about the service status, use the systemctl status sub-command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status firewalld</span><br><span class="line">● firewalld.service - firewalld - dynamic firewall daemon</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since Thu 1970-01-01 09:01:48 KST; 48 years 6 months ago</span><br><span class="line"></span><br><span class="line">sudo firewall-cmd --state</span><br></pre></td></tr></table></figure>

<h4 id="Stop-firewalld"><a href="#Stop-firewalld" class="headerlink" title="Stop firewalld"></a>Stop <code>firewalld</code></h4><p>To stop firewalld, enter the following command as root:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure>

<p>To prevent firewalld from starting automatically at system start, enter the following command as root:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure>

<p>To make sure firewalld is not started by accessing the firewalld D-Bus interface and also if other services require firewalld, enter the following command as root:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl mask firewalld</span><br></pre></td></tr></table></figure>

<h3 id="사용해-보기"><a href="#사용해-보기" class="headerlink" title="사용해 보기"></a>사용해 보기</h3><p><code>firewalld</code> 는 명령라인 firewall-cmd 와 GUI로 firewall-config 명령을 지원한다.</p>
<h4 id="Zone-설정"><a href="#Zone-설정" class="headerlink" title="Zone 설정"></a>Zone 설정</h4><p>Get a list of all supported zones</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --get-zones</span><br></pre></td></tr></table></figure>

<p>List all zones with the enabled features.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ firewall-cmd --list-all-zones</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">public</span><br><span class="line">  target: default</span><br><span class="line">  icmp-block-inversion: no</span><br><span class="line">  interfaces:</span><br><span class="line">  sources:</span><br><span class="line">  services: ssh dhcpv6-client http https</span><br><span class="line">  ports:</span><br><span class="line">  protocols:</span><br><span class="line">  masquerade: no</span><br><span class="line">  forward-ports:</span><br><span class="line">  source-ports:</span><br><span class="line">  icmp-blocks:</span><br><span class="line">  rich rules:</span><br></pre></td></tr></table></figure>

<p>기본으로 제공하는 Zone</p>
<ul>
<li>drop: Any incoming network packets are dropped, there is no reply. Only outgoing network connections are possible.</li>
<li>block: Any incoming network connections are rejected with an icmp-host-prohibited message for IPv4 and icmp6-adm-prohibited for IPv6. Only network connections initiated within this system are possible.</li>
<li>public: For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</li>
<li>external: For use on external networks with masquerading enabled especially for routers. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</li>
<li>dmz: For computers in your demilitarized zone that are publicly-accessible with limited access to your internal network. Only selected incoming connections are accepted.</li>
<li>work<br>For use in work areas. You mostly trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</li>
<li>home<br>For use in home areas. You mostly trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted.</li>
<li>internal<br>For use on internal networks. You mostly trust the other computers on the networks to not harm your computer. Only selected incoming connections are accepted.</li>
<li>trusted<br>All network connections are accepted.</li>
</ul>
<p>Zone</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --get-default-zone</span><br><span class="line">public</span><br></pre></td></tr></table></figure>

<h4 id="서비스"><a href="#서비스" class="headerlink" title="서비스"></a>서비스</h4><p>This command prints a space separated list.</p>
<p>Get a list of all supported services</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ firewall-cmd --get-services</span><br></pre></td></tr></table></figure>

<p>This command prints a space separated list.</p>
<p>Get a list of all supported icmptypes</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --get-icmptypes</span><br></pre></td></tr></table></figure>

<p>서비스를 제거하려면</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># firewall-cmd --zone=public --remove-service=http</span><br><span class="line">success</span><br><span class="line">root@odroidc2:/home/qkboo# firewall-cmd --zone=public --remove-service=https</span><br><span class="line">success</span><br></pre></td></tr></table></figure>

<h4 id="Http-Ssh-방화벽-활성화"><a href="#Http-Ssh-방화벽-활성화" class="headerlink" title="Http, Ssh 방화벽 활성화"></a>Http, Ssh 방화벽 활성화</h4><p>http, https 를 공개 서비스를 지원하는 기본 존인 public에 추가한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --add-service=ssh</span><br><span class="line">sudo firewall-cmd --add-service=http</span><br><span class="line">sudo firewall-cmd --add-service=https</span><br></pre></td></tr></table></figure>

<p>sudo firewall-cmd –zone&#x3D;public –add-service&#x3D;http –permanent</p>
<p>방화벽을 갱신한다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br><span class="line">firewall-cmd --state</span><br></pre></td></tr></table></figure>

<p>혹은 zone을 지정해 추가한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --zone=web --add-service=ssh</span><br><span class="line">sudo firewall-cmd --zone=web --add-service=http</span><br><span class="line">sudo firewall-cmd --zone=web --add-service=https</span><br><span class="line">sudo firewall-cmd --zone=web --list-all</span><br></pre></td></tr></table></figure>

<p>Likewise, we can add the DNS service to our “privateDNS” zone:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --zone=privateDNS --add-service=dns</span><br><span class="line">sudo firewall-cmd --zone=privateDNS --list-all</span><br></pre></td></tr></table></figure>

<p>Zone 에 구성한 서비스 등은 런타임 혹은 완전히 방화벽에 구성할 수 있다.</p>
<p>To change settings in both modes, you can use two methods:<br>Change runtime settings and then make them permanent as follows:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd &lt;other options&gt;</span><br><span class="line">firewall-cmd --runtime-to-permanent</span><br></pre></td></tr></table></figure>

<p>Set permanent settings and reload the settings into runtime mode:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent &lt;other options&gt;</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>모든 구성 내용 확인:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ sudo firewall-cmd --list-all</span><br><span class="line">public</span><br><span class="line">  target: default</span><br><span class="line">  icmp-block-inversion: no</span><br><span class="line">  interfaces:</span><br><span class="line">  sources:</span><br><span class="line">  services: ssh dhcpv6-client http https</span><br><span class="line">  ports:</span><br><span class="line">  protocols:</span><br><span class="line">  masquerade: no</span><br><span class="line">  forward-ports:</span><br><span class="line">  source-ports:</span><br><span class="line">  icmp-blocks:</span><br><span class="line">  rich rules:</span><br></pre></td></tr></table></figure>

<p>특정 zone 에 대한 내역을 출력한다:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ sudo firewall-cmd --zone=public --list-all</span><br><span class="line">public</span><br><span class="line">  target: default</span><br><span class="line">  icmp-block-inversion: no</span><br><span class="line">  interfaces:</span><br><span class="line">  sources:</span><br><span class="line">  services: ssh dhcpv6-client http https</span><br><span class="line">  ports:</span><br><span class="line">  protocols:</span><br><span class="line">  masquerade: no</span><br><span class="line">  forward-ports:</span><br><span class="line">  source-ports:</span><br><span class="line">  icmp-blocks:</span><br><span class="line">  rich rules:</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h2><p><a target="_blank" rel="noopener" href="https://www.linode.com/docs/security/firewalls/introduction-to-firewalld-on-centos/">https://www.linode.com/docs/security/firewalls/introduction-to-firewalld-on-centos/</a></p>
<p><a target="_blank" rel="noopener" href="https://fedoraproject.org/wiki/Firewalld?rd=FirewallD">FirewallD</a></p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/sec-using_firewalls#sec-Getting_started_with_firewalld">RedHat: Getting started with firewalld</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-using-firewalld-on-centos-7">How to set up firewalld on CentOS 7</a></p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.hogarthuk.com/?q=node/9">Firewalld configuration and usage</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-24T14:10:00.000Z" title="6/24/2018, 11:10:00 PM">2018-06-24</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-14T06:10:54.953Z" title="5/14/2023, 3:10:54 PM">2023-05-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Linux/">Linux</a></span><span class="level-item">7분안에 읽기 (약 986 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/naver-ncloud-b4e6108ee49b/">Naver ncloud 설정</a></p><div class="content"><h2 id="ncloud-서비스"><a href="#ncloud-서비스" class="headerlink" title="ncloud 서비스"></a>ncloud 서비스</h2><h3 id="sudoer-설정"><a href="#sudoer-설정" class="headerlink" title="sudoer 설정"></a>sudoer 설정</h3><p>새 사용자를 추가하고 suder 로 등록한 후에 사용한다. 우분투&#x2F;데비안 계열 새 사용자 추가는 <a href="https://blog.thinkbee.kr/linux/odroid-install-linux/">Odroid Install</a> 문서를 참고한다.</p>
<h4 id="새-사용자-등록"><a href="#새-사용자-등록" class="headerlink" title="새 사용자 등록"></a>새 사용자 등록</h4><p><code>adduser</code> 추가할 사용자에 대한 정보를 하나씩 묻고, 사용자 홈 디렉토리가 생성된다. 추가한 사용자에 대한 &#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group and &#x2F;etc&#x2F;gshadow 편집이 된다</p>
<p>추가하고 패스워드를 입력한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># adduser USERNAME</span><br><span class="line"># sudo passwd USERNAME</span><br></pre></td></tr></table></figure>

<p>그리고 suder로 등록해 준다.</p>
<h4 id="sudoer-등록"><a href="#sudoer-등록" class="headerlink" title="sudoer 등록"></a>sudoer 등록</h4><p><code>usermod</code> 혹은 <code>visudo</code> 를 사용할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># usermod -aG sudo USERNAME</span><br></pre></td></tr></table></figure>

<h4 id="hostname-확인"><a href="#hostname-확인" class="headerlink" title="hostname 확인"></a>hostname 확인</h4><p><code>hostname</code> 명령에 따라 현재 호스트 이름이 &#x2F;etc&#x2F;hosts 혹은 dns resolver에서 검색되야 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemcgl status nginx</span><br><span class="line">sudo: unable to resolve host ubuntu-84</span><br></pre></td></tr></table></figure>

<p>위 같은 경고가 나타난다면 호스트 이름을 &#x2F;etc&#x2F;hosts 에 등록해 준다.</p>
<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><p>서버에</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;USER@localhost&quot;</span></span><br></pre></td></tr></table></figure>

<p>위 2 과정을 아래 명령 한 줄로 복사-&gt;붙여넣기를 동시에 할 수 있다.</p>
<p><em>클라이언트:</em></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub | ssh &lt;USERNAME&gt;@&lt;IP-ADDRESS&gt; <span class="string">&#x27;cat &gt;&gt; .ssh/authorized_keys&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="mongod-org-설치"><a href="#mongod-org-설치" class="headerlink" title="mongod-org 설치"></a>mongod-org 설치</h3><p>커뮤티티에디션 설치</p>
<p>네이버 NCloud에서 Micro server를 하나 생성한 후에, <em>MongoDB Community Edition</em>을 설치했고, ncloud의 Ubuntu 16.01 이미지로 서버를 생성한 후에 업그레이드해서 16.04.4 LTS 버전에서 설치했다.</p>
<h4 id="설정"><a href="#설정" class="headerlink" title="설정"></a>설정</h4><p>mongodb 설정<br>mongodb auth</p>
<p>현재 실행중인 mongod 를 종료한다.</p>
<p>sudo systemctl stop mongod.service</p>
<p>MongoDB 설정<br>Mongo Database를 사용하기 위해서 데이터 파일 위치, 로그, 포트, Ip 주소 등에 대한 구성을 mongod.conf 에서 할 수 있다. 수정된 구성이 작동하는지 mongo 클라이언트로 접속해서 테스트한다.</p>
<h4 id="mongod-conf"><a href="#mongod-conf" class="headerlink" title="mongod.conf"></a>mongod.conf</h4><p>&#x2F;etc&#x2F;mongod.conf 파일에 인증을 제외한 데이터 디렉토리, bindIp, 로그 부분만 설정한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  dbPath: /data/mongodata/</span><br><span class="line">  journal:</span><br><span class="line">    enabled: true</span><br><span class="line"></span><br><span class="line">systemLog:</span><br><span class="line">  destination: file</span><br><span class="line">  logAppend: true</span><br><span class="line">  path: /var/log/mongodb/mongod.log</span><br><span class="line"></span><br><span class="line">processManagement:</span><br><span class="line">   fork: true</span><br><span class="line"></span><br><span class="line">net:</span><br><span class="line">  port: 27017</span><br><span class="line">  bindIp: 0.0.0.0</span><br></pre></td></tr></table></figure>

<p>설정을 저장하고 명령 라인에서 MongoDB를 다시 시작한 후에 mongo client로 접속한다.</p>
<p>모든 인터페이스에 db 접속을 허용하면 <code>bindIpAll: true</code> 를 사용한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mongod --port 27017 --dbpath /var/lib/mongodb</span><br></pre></td></tr></table></figure>

<p>이어서 클라이언트로 데이터베이스에 접속한다.접속에 성공하면 <strong>&gt;</strong> 프롬프트가 나온다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$mongo</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<h4 id="admin-계정"><a href="#admin-계정" class="headerlink" title="admin 계정"></a>admin 계정</h4><p>mongod 에서 데이터베이스 및 사용자를 관리할 admin 이란 관리자를 추가하자</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; use admin</span><br><span class="line">switched to db admin</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<p>관자자의 권한과 역할을 선언한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;db.createUser(</span><br><span class="line">  &#123;</span><br><span class="line">    user:&#x27;admin&#x27;,</span><br><span class="line">    pwd:&#x27;****&#x27;,</span><br><span class="line">    roles:[&#x27;userAdminAnyDatabase&#x27;]</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line">Successfully added user: &#123; &quot;user&quot; : &quot;admin&quot;, &quot;roles&quot; : [ &quot;userAdminAnyDatabase&quot; ] &#125;</span><br></pre></td></tr></table></figure>

<p>사용자의 role 을 변경,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt; db.grantRolesToUser( &#x27;admin&#x27;, [&#123;role: &#x27;userAdmin&#x27;, db:&#x27;admin&#x27;&#125;])</span><br><span class="line">&gt; db.getUsers()</span><br><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;_id&quot; : &quot;admin.admin&quot;,</span><br><span class="line">    &quot;user&quot; : &quot;admin&quot;,</span><br><span class="line">    &quot;db&quot; : &quot;admin&quot;,</span><br><span class="line">    &quot;roles&quot; : [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;role&quot; : &quot;userAdmin&quot;,</span><br><span class="line">        &quot;db&quot; : &quot;admin&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span><br><span class="line">        &quot;db&quot; : &quot;admin&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>관리자 admin 계정을 admin 데이터베이스에 추가한 후에 mongo client로 admin 계정으로 로그인해서 …</p>
<p>터미널에서 시작한 mongod 를 종료한다.</p>
<p>수동으로 mongod 를 시작하면 root 계정으로 데이터 파일이 생성된다. systemctl로 서비스 시작 전에 data 폴더 퍼미션을 맞춰준다.</p>
<p>Directory permissions<br>로그 디렉토리 &#x2F;var&#x2F;log&#x2F;mongo 그리고 데이터 디렉토리 &#x2F;data&#x2F;mongodata 라면 해당 디렉토리에 몽고디비 사용자가 쓸 수 있는 퍼미션을 준다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chown mongo.daemon /var/log/mongodb</span><br><span class="line">$ sudo chown mongodb.mongodb /data/mongodata</span><br></pre></td></tr></table></figure>

<h4 id="데이터베이스-사용자-추가"><a href="#데이터베이스-사용자-추가" class="headerlink" title="데이터베이스 사용자 추가"></a>데이터베이스 사용자 추가</h4><p>데이터베이스를 생성하고 해당 데이터베이스를 접속하는 사용자 계정을 추가하자.</p>
<blockquote>
<p>수동으로 접근제어 –auth 옵션으로 데이터베이스를 시작하면, mongo 클리이언트 로그인시 -u <username>, -p <password> 와 –authenticationDatabase <database> 를 지정해 주어야 한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mongo --port 27017 -u &quot;admin&quot; -p &quot;****&quot; --authenticationDatabase &quot;admin&quot;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>The following operation creates accountUser in the products database and gives the user the readWrite and dbAdmin roles.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">use products</span><br><span class="line">db.createUser(</span><br><span class="line">   &#123;</span><br><span class="line">     user: &quot;accountUser&quot;,</span><br><span class="line">     pwd: &quot;password&quot;,</span><br><span class="line">     roles: [ &quot;readWrite&quot;, &quot;dbAdmin&quot; ]</span><br><span class="line">   &#125;</span><br><span class="line">)```</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-05-19T11:00:00.000Z" title="5/19/2018, 8:00:00 PM">2018-05-19</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-05-14T06:14:40.863Z" title="5/14/2023, 3:14:40 PM">2023-05-14</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a><span> / </span><a class="link-muted" href="/categories/OS/Linux/">Linux</a></span><span class="level-item">8분안에 읽기 (약 1213 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/linux-awk-9522dd426160/">Awk 기본</a></p><div class="content"><h2 id="awk-이용"><a href="#awk-이용" class="headerlink" title="awk 이용"></a>awk 이용</h2><p>awk란 이름은 이 유틸리티를 작성한 A.V.Aho, P.J. Weinberger, B. Kernigham의 머리글자를 따온 것으로 주로 패턴의 검색과 조작을 주목적으로 만들어진 것이다. 즉 파일의 각 줄에 필드(field)를 인식할 수 있는 패턴 매칭 기능을 가지고 이들 필드를 자유자재로 조작 가능한 유틸리티를 작성하고자 만든 것이다.</p>
<h3 id="awk-패턴-매칭"><a href="#awk-패턴-매칭" class="headerlink" title="awk 패턴 매칭"></a>awk 패턴 매칭</h3><blockquote>
<p>awk pattern {action} filenames<br>awk -f parttern-action-file filenames</p>
</blockquote>
<ul>
<li>filenames: 입력화일 awk실행 action을 가진 프로그램 file</li>
</ul>
<h4 id="패턴내용"><a href="#패턴내용" class="headerlink" title="패턴내용"></a>패턴내용</h4><p>| 패턴               | 설명                                                                                                                                                                                         |<br>| —————— | ——————————————————————————————————————————————————————————————– | — | ————————————————————————————————————————— |<br>| BEGIN              | 입력화일을 읽어들이기 전에 옆에 제시되는 문자을 실행시키도록 한다.                                                                                                                           |<br>| END                | awk가 모든 입력을 처리한 후, 옆에 제시되는 문장을 실행시키도록 한다.                                                                                                                         |<br>| expression         | 식을 평가한 후 이 식이 참, 즉 non-zero이거나 non-null인 경우 문장을 실행한다.                                                                                                                |<br>| &#x2F;re&#x2F;               | 정규식과 일치하는 문자열을 포함하고 있는 라인에서 문장을 실행한다.                                                                                                                           |<br>| compound-pattern   | 복합패턴이라는 것으로 &amp;&amp;(and),                                                                                                                                                               |     | (or) , !(not) 그리고 괄호에 의해 연결시킨 것이다. expression의 경우와 마찬가지로 복합 패턴도 참인 경우의 문장을 실행시킨다. |<br>| pattern1, pattern2 | 이러한 패턴을 범위 패턴이라 한다. 현재 처리되고 있는 라인이 pattern1과 일치되고, 다음에 따라오 는 라인 중 임의의 라인이 pattern2와 일치할 때, 범위 패턴은 두 라인 사이의 각 라인과 일치한다. |</p>
<p>awk에서 찾은 내용은 다음 변수에 저장되어 있다.</p>
<table>
<thead>
<tr>
<th>변수</th>
<th>내 용</th>
</tr>
</thead>
<tbody><tr>
<td>FILENAME</td>
<td>현재 처리되고 있는 입력 파일의 이름</td>
</tr>
<tr>
<td>FS</td>
<td>입력 필드 분리문자</td>
</tr>
<tr>
<td>NR</td>
<td>현재 레코드(행)의 번호</td>
</tr>
<tr>
<td>NF</td>
<td>현재 레코드(행)의 필드의 갯수</td>
</tr>
<tr>
<td>OFS</td>
<td>출력되는 필드의 분리문자</td>
</tr>
</tbody></table>
<h4 id="auth-log-패턴-분석"><a href="#auth-log-패턴-분석" class="headerlink" title="auth.log 패턴 분석"></a>auth.log 패턴 분석</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Apr 16 06:43:04 homepi sshd[20198]: User root from 222.73.37.31 not allowed because not listed in AllowUsers</span><br><span class="line">Apr 16 06:43:07 homepi sshd[20198]: Failed password for invalid user root from 222.73.37.31 port 41030 ssh2</span><br></pre></td></tr></table></figure>

<p>sshd 접속하는 root 접속 요청을 찾으려면,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;/sshd|root/&#x27;</span> /var/log/auth.log      <span class="comment"># sshd,root 가 있는 줄을 출력</span></span><br></pre></td></tr></table></figure>

<p>찾은 결과의 특정 컬럼만 출력 가능하다:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;/sshd|Failed/ &#123;print $13&#125;&#x27;</span> /var/log/auth.log</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;&#123;print &quot;Number of fields: &quot; NF&#125;&#x27;</span> /var/log/auth.log</span><br></pre></td></tr></table></figure>

<p>로그인 실패한 root 사용자가 사용하는 IP만을 추출하고자 한다면,</p>
<blockquote>
<p>Apr 16 06:43:07 homepi sshd[20198]: Failed password for invalid user root from 222.73.37.31 port 41030 ssh2</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk <span class="string">&#x27;/Failed password/ &#123;print $13,&quot;:&quot;,$15 &#125;&#x27;</span> /var/log/auth.log</span><br><span class="line">222.73.37.31 : 49415</span><br></pre></td></tr></table></figure>

<p>위 결과를 정렬하면, 같은 IP들이 징렬되어 나열된다.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;/Failed password/ &#123;print $13,&quot;:&quot;,$15 &#125;&#x27;</span> /var/log/auth.log | <span class="built_in">sort</span> ```</span><br><span class="line"></span><br><span class="line">이 겹치는 결과에서 하나의 IP만 식별하고, 반복된 숫자를 출력하고, 정렬한다.</span><br><span class="line"></span><br><span class="line">```sh</span><br><span class="line">awk <span class="string">&#x27;/Failed password/ &#123;print $13,&quot;:&quot;,$15 &#125;&#x27;</span> /var/log/auth.log | <span class="built_in">sort</span> | <span class="built_in">uniq</span> -c | <span class="built_in">sort</span> -n</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;/^north/&#x27;</span> datafile    <span class="comment"># north로 시작하는 줄 출력</span></span><br><span class="line">awk <span class="string">&#x27;/^(no | so)/&#x27;</span> datafile : no 또는 so 로 시작하는 줄 출력</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">awk <span class="string">&#x27;$5 ~ /\.[7-9]+/&#x27;</span> datafile : 다섯 번째 필드가 마침표 다음엣 7과 9사이 숫자가 하나 이상 나오는 레코드 출력</span><br><span class="line">awk <span class="string">&#x27;$2 !~ /E/ &#123; print $1, $2 &#125;&#x27;</span> datafile : 두 번째 필드에 E 패턴이 없는 레코드의 첫 번째와 두 번째 필드 출력</span><br><span class="line">awk <span class="string">&#x27;$3 ~ /^Joel/&#123; print $3 &quot; is a nice guy.&quot;&#125; &#x27;</span> datafile : 세 번째 필드가 Joel로 시작하면 <span class="string">&quot; is a nice guy&quot;</span>와 함께 출력</span><br><span class="line">awk <span class="string">&#x27;$8 ~ /[0-9][0-9]$/ &#123; print $8 &#125;&#x27;</span> datafile : 여덟 번째 필드가 두 개의 숫자이면 그 필드가 출력</span><br><span class="line">awk <span class="string">&#x27;$4 ~ /Chin$/ &#123; print &quot;The price is $&quot; $8 &quot;.&quot; &#125;&#x27;</span> datafile : 네 번째 필드가 Chine으로 끝나면 <span class="string">&quot;The price is $&quot;</span> 8번 필드 및 마침표가 출력</span><br><span class="line">awk -F: <span class="string">&#x27;&#123; print $1 &#125; &#x27;</span> datafile : -F 옵션은 입력 필드를 <span class="string">&#x27;:&#x27;</span>로 구별.</span><br><span class="line">awk -F<span class="string">&quot;[ :]&quot;</span> <span class="string">&#x27;&#123; print $1, $2 &#125; &#x27;</span> datafile : 입력 필드로 스페이스와 <span class="string">&#x27;:&#x27;</span>를 필드 구별자로 사용</span><br><span class="line">awk -f awk_script.file datafile : -f 옵션은 awk 스크립트 파일 사용할 때 씀.</span><br></pre></td></tr></table></figure>

<p>auth.log 에 있는 잘못된 로그인 정보만 출력</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;(/sshd|invalid/)&#123;print $(NF-5)&#125;&#x27;</span> /var/log/auth.log</span><br><span class="line">awk <span class="string">&#x27;(/sshd|invalid/)&#123;print $13&#125;&#x27;</span> /var/log/auth.log</span><br></pre></td></tr></table></figure>

<h3 id="연산자"><a href="#연산자" class="headerlink" title="연산자"></a>연산자</h3><p>| 연산자            | 설명                                 |<br>| —————– | ———————————— | —- | ———— | — | ———————— |<br>| &#x3D; +&#x3D; -&#x3D; *&#x3D; &#x2F;&#x3D; %&#x3D; | 배정(assignment)연산자               |<br>| + - * &#x2F; % ++ –  | 산술 연산자                          |<br>|                   |                                      | &amp;&amp; ! | 논리 연산자( |     | &#x3D; OR, &amp;&amp; &#x3D; AND, ! &#x3D; NOT) |<br>| &gt;&gt;&#x3D; &lt; &lt;&#x3D; &#x3D;&#x3D; !&#x3D;    | 비교 연산자                          |<br>| v <del>p              | 변수 V가 패턴 P에 부합되면 참        |<br>| v !</del>p             | 변수 V가 패턴 P에 부합되지 않으면 참 |</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">awk <span class="string">&#x27;$7 == 5&#x27;</span> datafile : 7번 필드가 5와 같다면 출력</span><br><span class="line">awk <span class="string">&#x27;$2 == &quot;CT&quot; &#123; print $1, $2 &#125;&#x27;</span> datafile : 2번 필드가 <span class="string">&quot;CT&quot;</span> 문자와 같으면 1, 2 번 필드 출력</span><br><span class="line">awk <span class="string">&#x27;$7 &lt; 5 &#123; print $4, $7&#125;&#x27;</span> datafile : 7번 필드가 5보다 작다면 4번, 7번 필드 출력</span><br><span class="line">awk <span class="string">&#x27;$6 &gt; .9 &#123; print $1, $6&#125;&#x27;</span> datafile : 6번 필드가 .9 보다 크다면 1번, 6번 출력</span><br><span class="line">awk <span class="string">&#x27;$8 &gt; 10 &amp;&amp; $8 &lt; 17 &#x27;</span> datafile</span><br><span class="line">awk <span class="string">&#x27;$2 == &quot;NW&quot; || $1 ~ /south/ &#123; print $1, $2 &#125;&#x27;</span> datafile</span><br></pre></td></tr></table></figure>

<h4 id="액션"><a href="#액션" class="headerlink" title="액션"></a>액션</h4><blockquote>
<p>awk pattern {action} filenames</p>
</blockquote>
<p>① expressions<br>② print expression-list<br>③ printf(format, expression-list)<br>④ if (expression) statement<br>⑤ if (expression) statement else statement<br>⑥ while (expression) statement<br>⑦ for (expression; expression; expression) statement<br>⑧ for (variable in array) statement<br>⑨ do statement while (expression)<br>⑩ break<br>⑪ continue<br>⑫ next<br>⑬ exit<br>⑭ exit expression<br>⑮ {statement}</p>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><ul>
<li><a target="_blank" rel="noopener" href="https://ko.wikibooks.org/wiki/%EC%98%88%EC%A0%9C%EB%A1%9C_%EB%B0%B0%EC%9A%B0%EB%8A%94_AWK/%EB%AA%85%EB%A0%B9%ED%96%89_%EC%9D%B8%EC%9E%90_%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0">https://ko.wikibooks.org/wiki/예제로_배우는_AWK/명령행_인자_사용하기</a></li>
<li><a target="_blank" rel="noopener" href="http://www.dreamy.pe.kr/zbxe/CodeClip/6332">http://www.dreamy.pe.kr/zbxe/CodeClip/6332</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-05-15T06:55:00.000Z" title="5/15/2018, 3:55:00 PM">2018-05-15</time>&nbsp;게시 됨</span><span class="level-item"><time dateTime="2023-01-11T20:14:41.000Z" title="1/12/2023, 5:14:41 AM">2023-01-12</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/OS/">OS</a></span><span class="level-item">5분안에 읽기 (약 798 단어)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/mac-hammerspoon-fd545099c24f/">Hammerspoon 사용해 데스크탑 자동화</a></p><div class="content"><h2 id="Hammerspoon"><a href="#Hammerspoon" class="headerlink" title="Hammerspoon"></a>Hammerspoon</h2><p>Hammerspoon 은 macOS의 데스크탑 자동화를 위해 Lua scipt 를 사용하는 엔진이다. Hammerspoon을 다운받아 설치하고 에 있는 <a target="_blank" rel="noopener" href="http://www.hammerspoon.org/go/">Getting Started</a> 를 보고 바로 시작할 수 있다.</p>
<h3 id="설치"><a href="#설치" class="headerlink" title="설치"></a>설치</h3><p>최신 릴리즈를 <a target="_blank" rel="noopener" href="https://github.com/Hammerspoon/hammerspoon/releases/latest">Latest Hammerspoon</a> 에서 다운받아 Application 폴더로 옮긴다.</p>
<p>그리고 Hammerspoon을 실행하면 Status bar에 나타난다.</p>
<p><img src="/images/macos/mac-hammerspoon-statusbar.png" alt="Hammerspoon"></p>
<p>[그림. Hammerspoon]</p>
<p>맥 <strong>환경설정 &#x2F; 보안 및 개인정보</strong> 에서 손쉬운 사용에 hammerspoon을 추가해 주고 활성화 한다.</p>
<p><img src="/images/macos/mac-security-hammerspoon.png" alt="Hammerspoon"></p>
<p>[그림. 보안 및 개인정보에서 제어 허용]</p>
<h3 id="Open-config"><a href="#Open-config" class="headerlink" title="Open config"></a>Open config</h3><p>Hammerspoon 메뉴에서 Open Config 를 실행하면 시스템의 <code>.lua</code> 확장자를 열 수 있는 텍스트 에디터가 실행된다. 이곳에 <a target="_blank" rel="noopener" href="http://www.hammerspoon.org/go/">Getting Started</a> 의 샘플 스크립을 복사해서 바로 사용해 볼 수 있다.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;Y&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.x = f.x - <span class="number">10</span></span><br><span class="line">  f.y = f.y - <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;K&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.y = f.y - <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;U&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.x = f.x + <span class="number">10</span></span><br><span class="line">  f.y = f.y - <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;H&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.x = f.x - <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;L&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.x = f.x + <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;B&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.x = f.x - <span class="number">10</span></span><br><span class="line">  f.y = f.y + <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;J&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.y = f.y + <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;N&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line"></span><br><span class="line">  f.x = f.x + <span class="number">10</span></span><br><span class="line">  f.y = f.y + <span class="number">10</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br></pre></td></tr></table></figure>

<p>init.lua 에 스크립을 작성하고 저장한 후에 Hammerspoon 메뉴에서 <strong>Reload config</strong>를 실행하고 <strong>Console…</strong> 메뉴로 스크립 활성화를 확인할 수 있다.</p>
<h3 id="Window-Resizing"><a href="#Window-Resizing" class="headerlink" title="Window Resizing"></a>Window Resizing</h3><p>*Cmd+Opt+Ctrl+F** 키로 윈도우를 고정된 크기로 변경할 수 있게 사용하고 있다.</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">      Window Resizing</span></span><br><span class="line"><span class="comment">--]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--   Full screen</span></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;F&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line">  <span class="keyword">local</span> screen = win:screen()</span><br><span class="line">  <span class="keyword">local</span> <span class="built_in">max</span> = screen:frame()</span><br><span class="line"></span><br><span class="line">  f.x = <span class="built_in">max</span>.x</span><br><span class="line">  f.y = <span class="built_in">max</span>.y</span><br><span class="line">  f.w = <span class="built_in">max</span>.w</span><br><span class="line">  f.h = <span class="built_in">max</span>.h</span><br><span class="line">  win:setFrame(f)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4:3 ratio: XGA, 1280x960, SXGA+, UGA</span></span><br><span class="line"><span class="comment">-- Resizing: XGA 1024-768</span></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;F1&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line">  <span class="keyword">local</span> screen = win:screen()</span><br><span class="line">  <span class="keyword">local</span> <span class="built_in">max</span> = screen:frame()</span><br><span class="line"></span><br><span class="line">  f.x = <span class="built_in">max</span>.x</span><br><span class="line">  f.y = <span class="built_in">max</span>.y</span><br><span class="line">  f.w = <span class="number">1024</span></span><br><span class="line">  f.h = <span class="number">768</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line">  hs.notify.new(&#123;title=<span class="string">&quot;Resizing...&quot;</span>, informativeText=<span class="string">&quot;1024x768&quot;</span>&#125;):send()</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Resize: 1280x960 (1024)</span></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;F2&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line">  <span class="keyword">local</span> screen = win:screen()</span><br><span class="line">  <span class="keyword">local</span> <span class="built_in">max</span> = screen:frame()</span><br><span class="line"></span><br><span class="line">  f.x = <span class="built_in">max</span>.x</span><br><span class="line">  f.y = <span class="built_in">max</span>.y</span><br><span class="line">  f.w = <span class="number">1280</span></span><br><span class="line">  f.h = <span class="number">960</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"></span><br><span class="line">  hs.notify.new(&#123;title=<span class="string">&quot;Resizing...&quot;</span>, informativeText=<span class="string">&quot;1280x960&quot;</span>&#125;):send()</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Resize: SXGA+ 1400x1050</span></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;F3&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line">  <span class="keyword">local</span> screen = win:screen()</span><br><span class="line">  <span class="keyword">local</span> <span class="built_in">max</span> = screen:frame()</span><br><span class="line"></span><br><span class="line">  f.x = <span class="built_in">max</span>.x</span><br><span class="line">  f.y = <span class="built_in">max</span>.y</span><br><span class="line">  f.w = <span class="number">1400</span></span><br><span class="line">  f.h = <span class="number">1050</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"></span><br><span class="line">  hs.notify.new(&#123;title=<span class="string">&quot;Resizing...&quot;</span>, informativeText=<span class="string">&quot;1400x1050&quot;</span>&#125;):send()</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Resize: 1920x1080</span></span><br><span class="line">hs.hotkey.bind(&#123;<span class="string">&quot;cmd&quot;</span>, <span class="string">&quot;alt&quot;</span>, <span class="string">&quot;ctrl&quot;</span>&#125;, <span class="string">&quot;F4&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> win = hs.window.focusedWindow()</span><br><span class="line">  <span class="keyword">local</span> f = win:frame()</span><br><span class="line">  <span class="keyword">local</span> screen = win:screen()</span><br><span class="line">  <span class="keyword">local</span> <span class="built_in">max</span> = screen:frame()</span><br><span class="line"></span><br><span class="line">  f.x = <span class="built_in">max</span>.x</span><br><span class="line">  f.y = <span class="built_in">max</span>.y</span><br><span class="line">  f.w = <span class="number">1920</span></span><br><span class="line">  f.h = <span class="number">1080</span></span><br><span class="line">  win:setFrame(f)</span><br><span class="line"></span><br><span class="line">  hs.notify.new(&#123;title=<span class="string">&quot;Resizing...&quot;</span>, informativeText=<span class="string">&quot;1920x1080&quot;</span>&#125;):send()</span><br><span class="line"><span class="keyword">end</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Aerosnap"><a href="#Aerosnap" class="headerlink" title="Aerosnap"></a>Aerosnap</h3><p><a target="_blank" rel="noopener" href="https://blog.jverkamp.com/2016/02/08/duplicating-aerosnap-on-osx-with-hammerspoon/">https://blog.jverkamp.com/2016/02/08/duplicating-aerosnap-on-osx-with-hammerspoon/</a></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/OS/page/0/">이전</a></div><div class="pagination-next"><a href="/categories/OS/page/2/">다음</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/OS/">1</a></li><li><a class="pagination-link" href="/categories/OS/page/2/">2</a></li><li><a class="pagination-link" href="/categories/OS/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/qkboo_400.png" alt="Gangtai"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Gangtai</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Paju, South Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">143</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">17</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">215</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/thinkbee" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/thinkbee"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/gtko"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/IT/"><span class="level-start"><span class="level-item">IT</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">30</span></span></a><ul><li><a class="level is-mobile" href="/categories/OS/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Photoshop/"><span class="level-start"><span class="level-item">Photoshop</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">71</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programming/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Angularjs/"><span class="level-start"><span class="level-item">Angularjs</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Nodejs/"><span class="level-start"><span class="level-item">Nodejs</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/R/"><span class="level-start"><span class="level-item">R</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Raspberry-Pi/"><span class="level-start"><span class="level-item">Raspberry Pi</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/categories/github/"><span class="level-start"><span class="level-item">github</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">광고</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1465716454138955" data-ad-slot="4883770640" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-12T10:00:00.000Z">2023-07-12</time></p><p class="title"><a href="/vscode-language-server-24eec7ce2732/">VSCode 에서 languageserver 확인</a></p><p class="categories"><a href="/categories/Programming/">Programming</a> / <a href="/categories/Programming/Python/">Python</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-09T17:00:00.000Z">2023-07-10</time></p><p class="title"><a href="/pandas-numpy-display_format-5e6e2759a37b/">Pandas/Numpy 숫자의 출력 옵션 조정</a></p><p class="categories"><a href="/categories/Programming/">Programming</a> / <a href="/categories/Programming/Python/">Python</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-09T10:00:00.000Z">2023-07-09</time></p><p class="title"><a href="/hexo03-icarus-install_new-17451b868f1a/">Hexo - icarus theme 설치: git기반</a></p><p class="categories"><a href="/categories/github/">github</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-09T00:00:00.000Z">2023-07-09</time></p><p class="title"><a href="/python-packaging-start-48993e24137b/">Python - 파이썬 프로젝트 패키징과 배포하기</a></p><p class="categories"><a href="/categories/Programming/">Programming</a> / <a href="/categories/Programming/Python/">Python</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-06-25T06:00:00.000Z">2023-06-25</time></p><p class="title"><a href="/bitbucket-ssh_key%EB%93%B1%EB%A1%9D-131a9df6053f/">bitbuket 에 SSH key 등록하기</a></p><p class="categories"><a href="/categories/Programming/">Programming</a> / <a href="/categories/Programming/git/">git</a></p></div></article></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">링크</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.thinkbee.kr" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Thinkbee.kr</span></span><span class="level-right"><span class="level-item tag">www.thinkbee.kr</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/thinkbee_logo.png" alt="IT Tech blogging" height="28"></a><p class="is-size-7"><span>&copy; 2023 Gangtai Goh</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>